(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var hm={exports:{}},Ll={};var Nv;function hA(){if(Nv)return Ll;Nv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=n,Ll.jsxs=n,Ll}var Mv;function fA(){return Mv||(Mv=1,hm.exports=hA()),hm.exports}var E=fA(),fm={exports:{}},Ve={};var Vv;function dA(){if(Vv)return Ve;Vv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),I=Symbol.iterator;function U(M){return M===null||typeof M!="object"?null:(M=I&&M[I]||M["@@iterator"],typeof M=="function"?M:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,P={};function W(M,Z,ae){this.props=M,this.context=Z,this.refs=P,this.updater=ae||z}W.prototype.isReactComponent={},W.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},W.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function X(){}X.prototype=W.prototype;function re(M,Z,ae){this.props=M,this.context=Z,this.refs=P,this.updater=ae||z}var ve=re.prototype=new X;ve.constructor=re,Q(ve,W.prototype),ve.isPureReactComponent=!0;var he=Array.isArray;function pe(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(M,Z,ae){var fe=ae.ref;return{$$typeof:i,type:M,key:Z,ref:fe!==void 0?fe:null,props:ae}}function N(M,Z){return C(M.type,Z,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function k(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return Z[ae]})}var R=/\/+/g;function ce(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):Z.toString(36)}function Me(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(pe,pe):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function B(M,Z,ae,fe,we){var Le=typeof M;(Le==="undefined"||Le==="boolean")&&(M=null);var Fe=!1;if(M===null)Fe=!0;else switch(Le){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(M.$$typeof){case i:case e:Fe=!0;break;case T:return Fe=M._init,B(Fe(M._payload),Z,ae,fe,we)}}if(Fe)return we=we(M),Fe=fe===""?"."+ce(M,0):fe,he(we)?(ae="",Fe!=null&&(ae=Fe.replace(R,"$&/")+"/"),B(we,Z,ae,"",function(Er){return Er})):we!=null&&(D(we)&&(we=N(we,ae+(we.key==null||M&&M.key===we.key?"":(""+we.key).replace(R,"$&/")+"/")+Fe)),Z.push(we)),1;Fe=0;var Et=fe===""?".":fe+":";if(he(M))for(var dt=0;dt<M.length;dt++)fe=M[dt],Le=Et+ce(fe,dt),Fe+=B(fe,Z,ae,Le,we);else if(dt=U(M),typeof dt=="function")for(M=dt.call(M),dt=0;!(fe=M.next()).done;)fe=fe.value,Le=Et+ce(fe,dt++),Fe+=B(fe,Z,ae,Le,we);else if(Le==="object"){if(typeof M.then=="function")return B(Me(M),Z,ae,fe,we);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function se(M,Z,ae){if(M==null)return M;var fe=[],we=0;return B(M,fe,"","",function(Le){return Z.call(ae,Le,we++)}),fe}function ge(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var De=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},qe={map:se,forEach:function(M,Z,ae){se(M,function(){Z.apply(this,arguments)},ae)},count:function(M){var Z=0;return se(M,function(){Z++}),Z},toArray:function(M){return se(M,function(Z){return Z})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ve.Activity=b,Ve.Children=qe,Ve.Component=W,Ve.Fragment=n,Ve.Profiler=o,Ve.PureComponent=re,Ve.StrictMode=s,Ve.Suspense=p,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},Ve.cache=function(M){return function(){return M.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(M,Z,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var fe=Q({},M.props),we=M.key;if(Z!=null)for(Le in Z.key!==void 0&&(we=""+Z.key),Z)!w.call(Z,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&Z.ref===void 0||(fe[Le]=Z[Le]);var Le=arguments.length-2;if(Le===1)fe.children=ae;else if(1<Le){for(var Fe=Array(Le),Et=0;Et<Le;Et++)Fe[Et]=arguments[Et+2];fe.children=Fe}return C(M.type,we,fe)},Ve.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ve.createElement=function(M,Z,ae){var fe,we={},Le=null;if(Z!=null)for(fe in Z.key!==void 0&&(Le=""+Z.key),Z)w.call(Z,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(we[fe]=Z[fe]);var Fe=arguments.length-2;if(Fe===1)we.children=ae;else if(1<Fe){for(var Et=Array(Fe),dt=0;dt<Fe;dt++)Et[dt]=arguments[dt+2];we.children=Et}if(M&&M.defaultProps)for(fe in Fe=M.defaultProps,Fe)we[fe]===void 0&&(we[fe]=Fe[fe]);return C(M,Le,we)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(M){return{$$typeof:m,render:M}},Ve.isValidElement=D,Ve.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:ge}},Ve.memo=function(M,Z){return{$$typeof:g,type:M,compare:Z===void 0?null:Z}},Ve.startTransition=function(M){var Z=x.T,ae={};x.T=ae;try{var fe=M(),we=x.S;we!==null&&we(ae,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(pe,De)}catch(Le){De(Le)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),x.T=Z}},Ve.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ve.use=function(M){return x.H.use(M)},Ve.useActionState=function(M,Z,ae){return x.H.useActionState(M,Z,ae)},Ve.useCallback=function(M,Z){return x.H.useCallback(M,Z)},Ve.useContext=function(M){return x.H.useContext(M)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(M,Z){return x.H.useDeferredValue(M,Z)},Ve.useEffect=function(M,Z){return x.H.useEffect(M,Z)},Ve.useEffectEvent=function(M){return x.H.useEffectEvent(M)},Ve.useId=function(){return x.H.useId()},Ve.useImperativeHandle=function(M,Z,ae){return x.H.useImperativeHandle(M,Z,ae)},Ve.useInsertionEffect=function(M,Z){return x.H.useInsertionEffect(M,Z)},Ve.useLayoutEffect=function(M,Z){return x.H.useLayoutEffect(M,Z)},Ve.useMemo=function(M,Z){return x.H.useMemo(M,Z)},Ve.useOptimistic=function(M,Z){return x.H.useOptimistic(M,Z)},Ve.useReducer=function(M,Z,ae){return x.H.useReducer(M,Z,ae)},Ve.useRef=function(M){return x.H.useRef(M)},Ve.useState=function(M){return x.H.useState(M)},Ve.useSyncExternalStore=function(M,Z,ae){return x.H.useSyncExternalStore(M,Z,ae)},Ve.useTransition=function(){return x.H.useTransition()},Ve.version="19.2.3",Ve}var kv;function lp(){return kv||(kv=1,fm.exports=dA()),fm.exports}var L=lp(),dm={exports:{}},Pl={},mm={exports:{}},pm={};var Lv;function mA(){return Lv||(Lv=1,(function(i){function e(B,se){var ge=B.length;B.push(se);e:for(;0<ge;){var De=ge-1>>>1,qe=B[De];if(0<o(qe,se))B[De]=se,B[ge]=qe,ge=De;else break e}}function n(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var se=B[0],ge=B.pop();if(ge!==se){B[0]=ge;e:for(var De=0,qe=B.length,M=qe>>>1;De<M;){var Z=2*(De+1)-1,ae=B[Z],fe=Z+1,we=B[fe];if(0>o(ae,ge))fe<qe&&0>o(we,ae)?(B[De]=we,B[fe]=ge,De=fe):(B[De]=ae,B[Z]=ge,De=Z);else if(fe<qe&&0>o(we,ge))B[De]=we,B[fe]=ge,De=fe;else break e}}return se}function o(B,se){var ge=B.sortIndex-se.sortIndex;return ge!==0?ge:B.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],T=1,b=null,I=3,U=!1,z=!1,Q=!1,P=!1,W=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ve(B){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=B)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function he(B){if(Q=!1,ve(B),!z)if(n(p)!==null)z=!0,pe||(pe=!0,k());else{var se=n(g);se!==null&&Me(he,se.startTime-B)}}var pe=!1,x=-1,w=5,C=-1;function N(){return P?!0:!(i.unstable_now()-C<w)}function D(){if(P=!1,pe){var B=i.unstable_now();C=B;var se=!0;try{e:{z=!1,Q&&(Q=!1,X(x),x=-1),U=!0;var ge=I;try{t:{for(ve(B),b=n(p);b!==null&&!(b.expirationTime>B&&N());){var De=b.callback;if(typeof De=="function"){b.callback=null,I=b.priorityLevel;var qe=De(b.expirationTime<=B);if(B=i.unstable_now(),typeof qe=="function"){b.callback=qe,ve(B),se=!0;break t}b===n(p)&&s(p),ve(B)}else s(p);b=n(p)}if(b!==null)se=!0;else{var M=n(g);M!==null&&Me(he,M.startTime-B),se=!1}}break e}finally{b=null,I=ge,U=!1}se=void 0}}finally{se?k():pe=!1}}}var k;if(typeof re=="function")k=function(){re(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ce=R.port2;R.port1.onmessage=D,k=function(){ce.postMessage(null)}}else k=function(){W(D,0)};function Me(B,se){x=W(function(){B(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_next=function(B){switch(I){case 1:case 2:case 3:var se=3;break;default:se=I}var ge=I;I=se;try{return B()}finally{I=ge}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(B,se){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ge=I;I=B;try{return se()}finally{I=ge}},i.unstable_scheduleCallback=function(B,se,ge){var De=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?De+ge:De):ge=De,B){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=ge+qe,B={id:T++,callback:se,priorityLevel:B,startTime:ge,expirationTime:qe,sortIndex:-1},ge>De?(B.sortIndex=ge,e(g,B),n(p)===null&&B===n(g)&&(Q?(X(x),x=-1):Q=!0,Me(he,ge-De))):(B.sortIndex=qe,e(p,B),z||U||(z=!0,pe||(pe=!0,k()))),B},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(B){var se=I;return function(){var ge=I;I=se;try{return B.apply(this,arguments)}finally{I=ge}}}})(pm)),pm}var Pv;function pA(){return Pv||(Pv=1,mm.exports=mA()),mm.exports}var gm={exports:{}},ln={};var Uv;function gA(){if(Uv)return ln;Uv=1;var i=lp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:T}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},ln.flushSync=function(p){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=T,s.d.f()}},ln.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},ln.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},ln.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin),I=typeof g.integrity=="string"?g.integrity:void 0,U=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:I,fetchPriority:U}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:I,fetchPriority:U,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ln.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},ln.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ln.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},ln.requestFormReset=function(p){s.d.r(p)},ln.unstable_batchedUpdates=function(p,g){return p(g)},ln.useFormState=function(p,g,T){return f.H.useFormState(p,g,T)},ln.useFormStatus=function(){return f.H.useHostTransitionStatus()},ln.version="19.2.3",ln}var jv;function yA(){if(jv)return gm.exports;jv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gm.exports=gA(),gm.exports}var zv;function _A(){if(zv)return Pl;zv=1;var i=pA(),e=lp(),n=yA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function T(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=T(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,I=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ce(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case W:return"Profiler";case P:return"StrictMode";case he:return"Suspense";case pe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case re:return t.displayName||"Context";case X:return(t._context.displayName||"Context")+".Consumer";case ve:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return r=t.displayName||null,r!==null?r:ce(t.type)||"Memo";case w:r=t._payload,t=t._init;try{return ce(t(r))}catch{}}return null}var Me=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},De=[],qe=-1;function M(t){return{current:t}}function Z(t){0>qe||(t.current=De[qe],De[qe]=null,qe--)}function ae(t,r){qe++,De[qe]=t.current,t.current=r}var fe=M(null),we=M(null),Le=M(null),Fe=M(null);function Et(t,r){switch(ae(Le,r),ae(we,t),ae(fe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?tv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=tv(r),t=nv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(fe),ae(fe,t)}function dt(){Z(fe),Z(we),Z(Le)}function Er(t){t.memoizedState!==null&&ae(Fe,t);var r=fe.current,a=nv(r,t.type);r!==a&&(ae(we,t),ae(fe,a))}function Tr(t){we.current===t&&(Z(fe),Z(we)),Fe.current===t&&(Z(Fe),Nl._currentValue=ge)}var ie,oe;function ue(t){if(ie===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ie=r&&r[1]||"",oe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ie+t+oe}var Se=!1;function _e(t,r){if(!t||Se)return"";Se=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var G=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){G=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){G=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var O=_.split(`
`),H=S.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===H.length)for(l=O.length-1,h=H.length-1;1<=l&&0<=h&&O[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==H[h]){var $=`
`+O[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{Se=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ue(a):""}function Be(t,r){switch(t.tag){case 26:case 27:case 5:return ue(t.type);case 16:return ue("Lazy");case 13:return t.child!==r&&r!==null?ue("Suspense Fallback"):ue("Suspense");case 19:return ue("SuspenseList");case 0:case 15:return _e(t.type,!1);case 11:return _e(t.type.render,!1);case 1:return _e(t.type,!0);case 31:return ue("Activity");default:return""}}function je(t){try{var r="",a=null;do r+=Be(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xe=Object.prototype.hasOwnProperty,Je=i.unstable_scheduleCallback,Oe=i.unstable_cancelCallback,Tt=i.unstable_shouldYield,Re=i.unstable_requestPaint,it=i.unstable_now,ws=i.unstable_getCurrentPriorityLevel,ko=i.unstable_ImmediatePriority,Lo=i.unstable_UserBlockingPriority,Ci=i.unstable_NormalPriority,mf=i.unstable_LowPriority,Au=i.unstable_IdlePriority,wu=i.log,Ru=i.unstable_setDisableYieldValue,nr=null,Jt=null;function Un(t){if(typeof wu=="function"&&Ru(t),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(nr,t)}catch{}}var It=Math.clz32?Math.clz32:Iu,Cu=Math.log,pa=Math.LN2;function Iu(t){return t>>>=0,t===0?32:31-(Cu(t)/pa|0)|0}var br=256,Rs=262144,Mt=4194304;function Sr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ar(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=Sr(l):(_&=S,_!==0?h=Sr(_):a||(a=S&~t,a!==0&&(h=Sr(a))))):(S=l&~d,S!==0?h=Sr(S):_!==0?h=Sr(_):a||(a=l&~t,a!==0&&(h=Sr(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function rr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function pf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xu(){var t=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),t}function wr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Cs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gf(t,r,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,O=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-It(a),ee=1<<$;S[$]=0,O[$]=-1;var G=H[$];if(G!==null)for(H[$]=null,$=0;$<G.length;$++){var Y=G[$];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&Is(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Is(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-It(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Po(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-It(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function Uo(t,r){var a=r&-r;return a=(a&42)!==0?1:xs(a),(a&(t.suspendedLanes|r))!==0?0:a}function xs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Du(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:wv(t.type))}function ir(t,r){var a=se.p;try{return se.p=t,r()}finally{se.p=a}}var sr=Math.random().toString(36).slice(2),Vt="__reactFiber$"+sr,Yt="__reactProps$"+sr,Rr="__reactContainer$"+sr,ga="__reactEvents$"+sr,yf="__reactListeners$"+sr,Ou="__reactHandles$"+sr,Nu="__reactResources$"+sr,Cr="__reactMarker$"+sr;function ya(t){delete t[Vt],delete t[Yt],delete t[ga],delete t[yf],delete t[Ou]}function Ir(t){var r=t[Vt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Rr]||a[Vt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=uv(t);t!==null;){if(a=t[Vt])return a;t=uv(t)}return r}t=a,a=t.parentNode}return null}function jn(t){if(t=t[Vt]||t[Rr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Rn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function xr(t){var r=t[Nu];return r||(r=t[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function kt(t){t[Cr]=!0}var jo=new Set,zo={};function Dr(t,r){Or(t,r),Or(t+"Capture",r)}function Or(t,r){for(zo[t]=r,t=0;t<r.length;t++)jo.add(r[t])}var Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qo={},Fo={};function Mu(t){return xe.call(Fo,t)?!0:xe.call(qo,t)?!1:Bo.test(t)?Fo[t]=!0:(qo[t]=!0,!1)}function _a(t,r,a){if(Mu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Cn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Lt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Xt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ii(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ho(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function at(t){if(!t._valueTracker){var r=Ii(t)?"checked":"value";t._valueTracker=Ho(t,r,""+t[r])}}function Ds(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ii(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Nr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Os=/[\n"\\]/g;function yn(t){return t.replace(Os,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function va(t,r,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Xt(r)):t.value!==""+Xt(r)&&(t.value=""+Xt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Go(t,_,Xt(r)):a!=null?Go(t,_,Xt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Xt(S):t.removeAttribute("name")}function Vu(t,r,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){at(t);return}a=a!=null?""+Xt(a):"",r=r!=null?""+Xt(r):a,S||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),at(t)}function Go(t,r,a){r==="number"&&Nr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xi(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Xt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function ku(t,r,a){if(r!=null&&(r=""+Xt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Xt(a):""}function Di(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Me(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Xt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),at(t)}function _n(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Lu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Ko(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Qo(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Qo(t,d,r[d])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Oi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ar(){}var Yo=null;function zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ni=null,Mr=null;function Ns(t){var r=jn(t);if(r&&(t=r.stateNode)){var a=t[Yt]||null;e:switch(t=r.stateNode,r.type){case"input":if(va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Yt]||null;if(!h)throw Error(s(90));va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ds(l)}break e;case"textarea":ku(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&xi(t,!!a.multiple,r,!1)}}}var ba=!1;function Mi(t,r,a){if(ba)return t(r,a);ba=!0;try{var l=t(r);return l}finally{if(ba=!1,(Ni!==null||Mr!==null)&&(Dc(),Ni&&(r=Ni,t=Mr,Mr=Ni=null,Ns(r),t)))for(r=0;r<t.length;r++)Ns(t[r])}}function or(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ms=!1;if(Bn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Ms=!1}var Vr=null,Xo=null,Vs=null;function $o(){if(Vs)return Vs;var t,r=Xo,a=r.length,l,h="value"in Vr?Vr.value:Vr.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===h[d-l];l++);return Vs=h.slice(t,1<l?1-l:void 0)}function ks(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Jr(){return!0}function lr(){return!1}function Zt(t){function r(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jr:lr,this.isPropagationStopped=lr,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jr)},persist:function(){},isPersistent:Jr}),r}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kr=Zt(Zr),Vi=b({},Zr,{view:0,detail:0}),Wo=Zt(Vi),ki,Sa,Lr,Aa=b({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Li,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lr&&(Lr&&t.type==="mousemove"?(ki=t.screenX-Lr.screenX,Sa=t.screenY-Lr.screenY):Sa=ki=0,Lr=t),ki)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Jo=Zt(Aa),Ls=b({},Aa,{dataTransfer:0}),Uu=Zt(Ls),ju=b({},Vi,{relatedTarget:0}),Ps=Zt(ju),Zo=b({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=Zt(Zo),wa=b({},Zr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bu=Zt(wa),qu=b({},Zr,{data:0}),Pr=Zt(qu),Fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Gu[t])?!!r[t]:!1}function Li(){return Qu}var mn=b({},Vi,{key:function(t){if(t.key){var r=Fu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Li,charCode:function(t){return t.type==="keypress"?ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ku=Zt(mn),Yu=b({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ei=Zt(Yu),c=b({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Li}),y=Zt(c),v=b({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Zt(v),q=b({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Zt(q),le=b({},Zr,{newState:0,oldState:0}),Pe=Zt(le),xt=[9,13,27,32],nt=Bn&&"CompositionEvent"in window,bt=null;Bn&&"documentMode"in document&&(bt=document.documentMode);var qn=Bn&&"TextEvent"in window&&!bt,Ur=Bn&&(!nt||bt&&8<bt&&11>=bt),ur=" ",cr=!1;function Us(t,r){switch(t){case"keyup":return xt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function kS(t,r){switch(t){case"compositionend":return Ra(r);case"keypress":return r.which!==32?null:(cr=!0,ur);case"textInput":return t=r.data,t===ur&&cr?null:t;default:return null}}function LS(t,r){if(Ca)return t==="compositionend"||!nt&&Us(t,r)?(t=$o(),Vs=Xo=Vr=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ur&&r.locale!=="ko"?null:r.data;default:return null}}var PS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!PS[t.type]:r==="textarea"}function dg(t,r,a,l){Ni?Mr?Mr.push(l):Mr=[l]:Ni=l,r=Pc(r,"onChange"),0<r.length&&(a=new kr("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var el=null,tl=null;function US(t){X_(t,0)}function Xu(t){var r=Rn(t);if(Ds(r))return t}function mg(t,r){if(t==="change")return r}var pg=!1;if(Bn){var _f;if(Bn){var vf="oninput"in document;if(!vf){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),vf=typeof gg.oninput=="function"}_f=vf}else _f=!1;pg=_f&&(!document.documentMode||9<document.documentMode)}function yg(){el&&(el.detachEvent("onpropertychange",_g),tl=el=null)}function _g(t){if(t.propertyName==="value"&&Xu(tl)){var r=[];dg(r,tl,t,zn(t)),Mi(US,r)}}function jS(t,r,a){t==="focusin"?(yg(),el=r,tl=a,el.attachEvent("onpropertychange",_g)):t==="focusout"&&yg()}function zS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(tl)}function BS(t,r){if(t==="click")return Xu(r)}function qS(t,r){if(t==="input"||t==="change")return Xu(r)}function FS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var In=typeof Object.is=="function"?Object.is:FS;function nl(t,r){if(In(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!xe.call(r,h)||!In(t[h],r[h]))return!1}return!0}function vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Eg(t,r){var a=vg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=vg(a)}}function Tg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Tg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Nr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Nr(t.document)}return r}function Ef(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var HS=Bn&&"documentMode"in document&&11>=document.documentMode,Ia=null,Tf=null,rl=null,bf=!1;function Sg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bf||Ia==null||Ia!==Nr(l)||(l=Ia,"selectionStart"in l&&Ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&nl(rl,l)||(rl=l,l=Pc(Tf,"onSelect"),0<l.length&&(r=new kr("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ia)))}function js(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var xa={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},Sf={},Ag={};Bn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function zs(t){if(Sf[t])return Sf[t];if(!xa[t])return t;var r=xa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ag)return Sf[t]=r[a];return t}var wg=zs("animationend"),Rg=zs("animationiteration"),Cg=zs("animationstart"),GS=zs("transitionrun"),QS=zs("transitionstart"),KS=zs("transitioncancel"),Ig=zs("transitionend"),xg=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function hr(t,r){xg.set(t,r),Dr(r,[t])}var $u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],Da=0,wf=0;function Wu(){for(var t=Da,r=wf=Da=0;r<t;){var a=Fn[r];Fn[r++]=null;var l=Fn[r];Fn[r++]=null;var h=Fn[r];Fn[r++]=null;var d=Fn[r];if(Fn[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Dg(a,h,d)}}function Ju(t,r,a,l){Fn[Da++]=t,Fn[Da++]=r,Fn[Da++]=a,Fn[Da++]=l,wf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rf(t,r,a,l){return Ju(t,r,a,l),Zu(t)}function Bs(t,r){return Ju(t,null,null,r),Zu(t)}function Dg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-It(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Zu(t){if(50<wl)throw wl=0,kd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Oa={};function YS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,r,a,l){return new YS(t,r,a,l)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ti(t,r){var a=t.alternate;return a===null?(a=xn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Og(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ec(t,r,a,l,h,d){var _=0;if(l=t,typeof t=="function")Cf(t)&&(_=1);else if(typeof t=="string")_=Z1(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=xn(31,a,r,h),t.elementType=C,t.lanes=d,t;case Q:return qs(a.children,h,d,r);case P:_=8,h|=24;break;case W:return t=xn(12,a,r,h|2),t.elementType=W,t.lanes=d,t;case he:return t=xn(13,a,r,h),t.elementType=he,t.lanes=d,t;case pe:return t=xn(19,a,r,h),t.elementType=pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case X:_=9;break e;case ve:_=11;break e;case x:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=xn(_,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function qs(t,r,a,l){return t=xn(7,t,l,r),t.lanes=a,t}function If(t,r,a){return t=xn(6,t,null,r),t.lanes=a,t}function Ng(t){var r=xn(18,null,null,0);return r.stateNode=t,r}function xf(t,r,a){return r=xn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Mg=new WeakMap;function Hn(t,r){if(typeof t=="object"&&t!==null){var a=Mg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:je(r)},Mg.set(t,r),r)}return{value:t,source:r,stack:je(r)}}var Na=[],Ma=0,tc=null,il=0,Gn=[],Qn=0,Pi=null,jr=1,zr="";function ni(t,r){Na[Ma++]=il,Na[Ma++]=tc,tc=t,il=r}function Vg(t,r,a){Gn[Qn++]=jr,Gn[Qn++]=zr,Gn[Qn++]=Pi,Pi=t;var l=jr;t=zr;var h=32-It(l)-1;l&=~(1<<h),a+=1;var d=32-It(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,jr=1<<32-It(r)+h|a<<h|l,zr=d+t}else jr=1<<d|a<<h|l,zr=t}function Df(t){t.return!==null&&(ni(t,1),Vg(t,1,0))}function Of(t){for(;t===tc;)tc=Na[--Ma],Na[Ma]=null,il=Na[--Ma],Na[Ma]=null;for(;t===Pi;)Pi=Gn[--Qn],Gn[Qn]=null,zr=Gn[--Qn],Gn[Qn]=null,jr=Gn[--Qn],Gn[Qn]=null}function kg(t,r){Gn[Qn++]=jr,Gn[Qn++]=zr,Gn[Qn++]=Pi,jr=r.id,zr=r.overflow,Pi=t}var en=null,yt=null,We=!1,Ui=null,Kn=!1,Nf=Error(s(519));function ji(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(Hn(r,t)),Nf}function Lg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Vt]=t,r[Yt]=l,a){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Ge(Cl[a],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":Ge("invalid",r),Vu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ge("invalid",r);break;case"textarea":Ge("invalid",r),Di(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Z_(r.textContent,a)?(l.popover!=null&&(Ge("beforetoggle",r),Ge("toggle",r)),l.onScroll!=null&&Ge("scroll",r),l.onScrollEnd!=null&&Ge("scrollend",r),l.onClick!=null&&(r.onclick=ar),r=!0):r=!1,r||ji(t,!0)}function Pg(t){for(en=t.return;en;)switch(en.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:en=en.return}}function Va(t){if(t!==en)return!1;if(!We)return Pg(t),We=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||$d(t.type,t.memoizedProps)),a=!a),a&&yt&&ji(t),Pg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));yt=lv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));yt=lv(t)}else r===27?(r=yt,Zi(t.type)?(t=tm,tm=null,yt=t):yt=r):yt=en?Xn(t.stateNode.nextSibling):null;return!0}function Fs(){yt=en=null,We=!1}function Mf(){var t=Ui;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),Ui=null),t}function sl(t){Ui===null?Ui=[t]:Ui.push(t)}var Vf=M(null),Hs=null,ri=null;function zi(t,r,a){ae(Vf,r._currentValue),r._currentValue=a}function ii(t){t._currentValue=Vf.current,Z(Vf)}function kf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Lf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var O=0;O<r.length;O++)if(S.context===r[O]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),kf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),kf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ka(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;In(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Fe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&Lf(r,t,a,l),r.flags|=262144}function nc(t){for(t=t.firstContext;t!==null;){if(!In(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gs(t){Hs=t,ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return Ug(Hs,t)}function rc(t,r){return Hs===null&&Gs(t),Ug(t,r)}function Ug(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ri===null){if(t===null)throw Error(s(308));ri=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ri=ri.next=r;return a}var XS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},$S=i.unstable_scheduleCallback,WS=i.unstable_NormalPriority,Pt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new XS,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&$S(WS,function(){t.controller.abort()})}var ol=null,Uf=0,La=0,Pa=null;function JS(t,r){if(ol===null){var a=ol=[];Uf=0,La=Bd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Uf++,r.then(jg,jg),r}function jg(){if(--Uf===0&&ol!==null){Pa!==null&&(Pa.status="fulfilled");var t=ol;ol=null,La=0,Pa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function ZS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var zg=B.S;B.S=function(t,r){S_=it(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&JS(t,r),zg!==null&&zg(t,r)};var Qs=M(null);function jf(){var t=Qs.current;return t!==null?t:mt.pooledCache}function ic(t,r){r===null?ae(Qs,Qs.current):ae(Qs,r.pool)}function Bg(){var t=jf();return t===null?null:{parent:Pt._currentValue,pool:t}}var Ua=Error(s(460)),zf=Error(s(474)),sc=Error(s(542)),ac={then:function(){}};function qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ar,ar),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Gg(t),t;default:if(typeof r.status=="string")r.then(ar,ar);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Gg(t),t}throw Ys=r,Ua}}function Ks(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ys=a,Ua):a}}var Ys=null;function Hg(){if(Ys===null)throw Error(s(459));var t=Ys;return Ys=null,t}function Gg(t){if(t===Ua||t===sc)throw Error(s(483))}var ja=null,ll=0;function oc(t){var r=ll;return ll+=1,ja===null&&(ja=[]),Fg(ja,t,r)}function ul(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function lc(t,r){throw r.$$typeof===I?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Qg(t){function r(j,V){if(t){var F=j.deletions;F===null?(j.deletions=[V],j.flags|=16):F.push(V)}}function a(j,V){if(!t)return null;for(;V!==null;)r(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function h(j,V){return j=ti(j,V),j.index=0,j.sibling=null,j}function d(j,V,F){return j.index=F,t?(F=j.alternate,F!==null?(F=F.index,F<V?(j.flags|=67108866,V):F):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function S(j,V,F,J){return V===null||V.tag!==6?(V=If(F,j.mode,J),V.return=j,V):(V=h(V,F),V.return=j,V)}function O(j,V,F,J){var Te=F.type;return Te===Q?$(j,V,F.props.children,J,F.key):V!==null&&(V.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===w&&Ks(Te)===V.type)?(V=h(V,F.props),ul(V,F),V.return=j,V):(V=ec(F.type,F.key,F.props,null,j.mode,J),ul(V,F),V.return=j,V)}function H(j,V,F,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==F.containerInfo||V.stateNode.implementation!==F.implementation?(V=xf(F,j.mode,J),V.return=j,V):(V=h(V,F.children||[]),V.return=j,V)}function $(j,V,F,J,Te){return V===null||V.tag!==7?(V=qs(F,j.mode,J,Te),V.return=j,V):(V=h(V,F),V.return=j,V)}function ee(j,V,F){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=If(""+V,j.mode,F),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case U:return F=ec(V.type,V.key,V.props,null,j.mode,F),ul(F,V),F.return=j,F;case z:return V=xf(V,j.mode,F),V.return=j,V;case w:return V=Ks(V),ee(j,V,F)}if(Me(V)||k(V))return V=qs(V,j.mode,F,null),V.return=j,V;if(typeof V.then=="function")return ee(j,oc(V),F);if(V.$$typeof===re)return ee(j,rc(j,V),F);lc(j,V)}return null}function G(j,V,F,J){var Te=V!==null?V.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Te!==null?null:S(j,V,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case U:return F.key===Te?O(j,V,F,J):null;case z:return F.key===Te?H(j,V,F,J):null;case w:return F=Ks(F),G(j,V,F,J)}if(Me(F)||k(F))return Te!==null?null:$(j,V,F,J,null);if(typeof F.then=="function")return G(j,V,oc(F),J);if(F.$$typeof===re)return G(j,V,rc(j,F),J);lc(j,F)}return null}function Y(j,V,F,J,Te){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(F)||null,S(V,j,""+J,Te);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case U:return j=j.get(J.key===null?F:J.key)||null,O(V,j,J,Te);case z:return j=j.get(J.key===null?F:J.key)||null,H(V,j,J,Te);case w:return J=Ks(J),Y(j,V,F,J,Te)}if(Me(J)||k(J))return j=j.get(F)||null,$(V,j,J,Te,null);if(typeof J.then=="function")return Y(j,V,F,oc(J),Te);if(J.$$typeof===re)return Y(j,V,F,rc(V,J),Te);lc(V,J)}return null}function ye(j,V,F,J){for(var Te=null,et=null,Ee=V,ze=V=0,Ke=null;Ee!==null&&ze<F.length;ze++){Ee.index>ze?(Ke=Ee,Ee=null):Ke=Ee.sibling;var tt=G(j,Ee,F[ze],J);if(tt===null){Ee===null&&(Ee=Ke);break}t&&Ee&&tt.alternate===null&&r(j,Ee),V=d(tt,V,ze),et===null?Te=tt:et.sibling=tt,et=tt,Ee=Ke}if(ze===F.length)return a(j,Ee),We&&ni(j,ze),Te;if(Ee===null){for(;ze<F.length;ze++)Ee=ee(j,F[ze],J),Ee!==null&&(V=d(Ee,V,ze),et===null?Te=Ee:et.sibling=Ee,et=Ee);return We&&ni(j,ze),Te}for(Ee=l(Ee);ze<F.length;ze++)Ke=Y(Ee,j,ze,F[ze],J),Ke!==null&&(t&&Ke.alternate!==null&&Ee.delete(Ke.key===null?ze:Ke.key),V=d(Ke,V,ze),et===null?Te=Ke:et.sibling=Ke,et=Ke);return t&&Ee.forEach(function(is){return r(j,is)}),We&&ni(j,ze),Te}function Ae(j,V,F,J){if(F==null)throw Error(s(151));for(var Te=null,et=null,Ee=V,ze=V=0,Ke=null,tt=F.next();Ee!==null&&!tt.done;ze++,tt=F.next()){Ee.index>ze?(Ke=Ee,Ee=null):Ke=Ee.sibling;var is=G(j,Ee,tt.value,J);if(is===null){Ee===null&&(Ee=Ke);break}t&&Ee&&is.alternate===null&&r(j,Ee),V=d(is,V,ze),et===null?Te=is:et.sibling=is,et=is,Ee=Ke}if(tt.done)return a(j,Ee),We&&ni(j,ze),Te;if(Ee===null){for(;!tt.done;ze++,tt=F.next())tt=ee(j,tt.value,J),tt!==null&&(V=d(tt,V,ze),et===null?Te=tt:et.sibling=tt,et=tt);return We&&ni(j,ze),Te}for(Ee=l(Ee);!tt.done;ze++,tt=F.next())tt=Y(Ee,j,ze,tt.value,J),tt!==null&&(t&&tt.alternate!==null&&Ee.delete(tt.key===null?ze:tt.key),V=d(tt,V,ze),et===null?Te=tt:et.sibling=tt,et=tt);return t&&Ee.forEach(function(cA){return r(j,cA)}),We&&ni(j,ze),Te}function ft(j,V,F,J){if(typeof F=="object"&&F!==null&&F.type===Q&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case U:e:{for(var Te=F.key;V!==null;){if(V.key===Te){if(Te=F.type,Te===Q){if(V.tag===7){a(j,V.sibling),J=h(V,F.props.children),J.return=j,j=J;break e}}else if(V.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===w&&Ks(Te)===V.type){a(j,V.sibling),J=h(V,F.props),ul(J,F),J.return=j,j=J;break e}a(j,V);break}else r(j,V);V=V.sibling}F.type===Q?(J=qs(F.props.children,j.mode,J,F.key),J.return=j,j=J):(J=ec(F.type,F.key,F.props,null,j.mode,J),ul(J,F),J.return=j,j=J)}return _(j);case z:e:{for(Te=F.key;V!==null;){if(V.key===Te)if(V.tag===4&&V.stateNode.containerInfo===F.containerInfo&&V.stateNode.implementation===F.implementation){a(j,V.sibling),J=h(V,F.children||[]),J.return=j,j=J;break e}else{a(j,V);break}else r(j,V);V=V.sibling}J=xf(F,j.mode,J),J.return=j,j=J}return _(j);case w:return F=Ks(F),ft(j,V,F,J)}if(Me(F))return ye(j,V,F,J);if(k(F)){if(Te=k(F),typeof Te!="function")throw Error(s(150));return F=Te.call(F),Ae(j,V,F,J)}if(typeof F.then=="function")return ft(j,V,oc(F),J);if(F.$$typeof===re)return ft(j,V,rc(j,F),J);lc(j,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,V!==null&&V.tag===6?(a(j,V.sibling),J=h(V,F),J.return=j,j=J):(a(j,V),J=If(F,j.mode,J),J.return=j,j=J),_(j)):a(j,V)}return function(j,V,F,J){try{ll=0;var Te=ft(j,V,F,J);return ja=null,Te}catch(Ee){if(Ee===Ua||Ee===sc)throw Ee;var et=xn(29,Ee,null,j.mode);return et.lanes=J,et.return=j,et}}}var Xs=Qg(!0),Kg=Qg(!1),Bi=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Zu(t),Dg(t,null,a),r}return Ju(t,l,r,a),Zu(t)}function cl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Po(t,a)}}function Ff(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Hf=!1;function hl(){if(Hf){var t=Pa;if(t!==null)throw t}}function fl(t,r,a,l){Hf=!1;var h=t.updateQueue;Bi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var O=S,H=O.next;O.next=null,_===null?d=H:_.next=H,_=O;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=H:S.next=H,$.lastBaseUpdate=O))}if(d!==null){var ee=h.baseState;_=0,$=H=O=null,S=d;do{var G=S.lane&-536870913,Y=G!==S.lane;if(Y?(Qe&G)===G:(l&G)===G){G!==0&&G===La&&(Hf=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ye=t,Ae=S;G=r;var ft=a;switch(Ae.tag){case 1:if(ye=Ae.payload,typeof ye=="function"){ee=ye.call(ft,ee,G);break e}ee=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ae.payload,G=typeof ye=="function"?ye.call(ft,ee,G):ye,G==null)break e;ee=b({},ee,G);break e;case 2:Bi=!0}}G=S.callback,G!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(H=$=Y,O=ee):$=$.next=Y,_|=G;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);$===null&&(O=ee),h.baseState=O,h.firstBaseUpdate=H,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Yi|=_,t.lanes=_,t.memoizedState=ee}}function Yg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Xg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Yg(a[t],r)}var za=M(null),uc=M(0);function $g(t,r){t=di,ae(uc,t),ae(za,r),di=t|r.baseLanes}function Gf(){ae(uc,di),ae(za,za.current)}function Qf(){di=uc.current,Z(za),Z(uc)}var Dn=M(null),Yn=null;function Hi(t){var r=t.alternate;ae(Dt,Dt.current&1),ae(Dn,t),Yn===null&&(r===null||za.current!==null||r.memoizedState!==null)&&(Yn=t)}function Kf(t){ae(Dt,Dt.current),ae(Dn,t),Yn===null&&(Yn=t)}function Wg(t){t.tag===22?(ae(Dt,Dt.current),ae(Dn,t),Yn===null&&(Yn=t)):Gi()}function Gi(){ae(Dt,Dt.current),ae(Dn,Dn.current)}function On(t){Z(Dn),Yn===t&&(Yn=null),Z(Dt)}var Dt=M(0);function cc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zd(a)||em(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var si=0,Ue=null,ct=null,Ut=null,hc=!1,Ba=!1,$s=!1,fc=0,dl=0,qa=null,e1=0;function Rt(){throw Error(s(321))}function Yf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!In(t[a],r[a]))return!1;return!0}function Xf(t,r,a,l,h,d){return si=d,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,B.H=t===null||t.memoizedState===null?Vy:cd,$s=!1,d=a(l,h),$s=!1,Ba&&(d=Zg(r,a,l,h)),Jg(t),d}function Jg(t){B.H=gl;var r=ct!==null&&ct.next!==null;if(si=0,Ut=ct=Ue=null,hc=!1,dl=0,qa=null,r)throw Error(s(300));t===null||jt||(t=t.dependencies,t!==null&&nc(t)&&(jt=!0))}function Zg(t,r,a,l){Ue=t;var h=0;do{if(Ba&&(qa=null),dl=0,Ba=!1,25<=h)throw Error(s(301));if(h+=1,Ut=ct=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}B.H=ky,d=r(a,l)}while(Ba);return d}function t1(){var t=B.H,r=t.useState()[0];return r=typeof r.then=="function"?ml(r):r,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Ue.flags|=1024),r}function $f(){var t=fc!==0;return fc=0,t}function Wf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Jf(t){if(hc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}hc=!1}si=0,Ut=ct=Ue=null,Ba=!1,dl=fc=0,qa=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Ue.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function Ot(){if(ct===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var r=Ut===null?Ue.memoizedState:Ut.next;if(r!==null)Ut=r,ct=t;else{if(t===null)throw Ue.alternate===null?Error(s(467)):Error(s(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Ut===null?Ue.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var r=dl;return dl+=1,qa===null&&(qa=[]),t=Fg(qa,t,r),r=Ue,(Ut===null?r.memoizedState:Ut.next)===null&&(r=r.alternate,B.H=r===null||r.memoizedState===null?Vy:cd),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===re)return tn(t)}throw Error(s(438,String(t)))}function Zf(t){var r=null,a=Ue.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ue.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=dc(),Ue.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=N;return r.index++,a}function ai(t,r){return typeof r=="function"?r(t):r}function pc(t){var r=Ot();return ed(r,ct,t)}function ed(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var S=_=null,O=null,H=r,$=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Qe&ee)===ee:(si&ee)===ee){var G=H.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===La&&($=!0);else if((si&G)===G){H=H.next,G===La&&($=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(S=O=ee,_=d):O=O.next=ee,Ue.lanes|=G,Yi|=G;ee=H.action,$s&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else G={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(S=O=G,_=d):O=O.next=G,Ue.lanes|=ee,Yi|=ee;H=H.next}while(H!==null&&H!==r);if(O===null?_=d:O.next=S,!In(d,t.memoizedState)&&(jt=!0,$&&(a=Pa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function td(t){var r=Ot(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);In(d,r.memoizedState)||(jt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function ey(t,r,a){var l=Ue,h=Ot(),d=We;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!In((ct||h).memoizedState,a);if(_&&(h.memoizedState=a,jt=!0),h=h.queue,id(ry.bind(null,l,h,t),[t]),h.getSnapshot!==r||_||Ut!==null&&Ut.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},ny.bind(null,l,h,a,r),null),mt===null)throw Error(s(349));d||(si&127)!==0||ty(l,r,a)}return a}function ty(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ue.updateQueue,r===null?(r=dc(),Ue.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function ny(t,r,a,l){r.value=a,r.getSnapshot=l,iy(r)&&sy(t)}function ry(t,r,a){return a(function(){iy(r)&&sy(t)})}function iy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!In(t,a)}catch{return!0}}function sy(t){var r=Bs(t,2);r!==null&&Sn(r,t,2)}function nd(t){var r=pn();if(typeof t=="function"){var a=t;if(t=a(),$s){Un(!0);try{a()}finally{Un(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:t},r}function ay(t,r,a,l){return t.baseState=a,ed(t,ct,typeof l=="function"?l:ai)}function n1(t,r,a,l,h){if(_c(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};B.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,oy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function oy(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=B.T,_={};B.T=_;try{var S=a(h,l),O=B.S;O!==null&&O(_,S),ly(t,r,S)}catch(H){rd(t,r,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),B.T=d}}else try{d=a(h,l),ly(t,r,d)}catch(H){rd(t,r,H)}}function ly(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){uy(t,r,l)},function(l){return rd(t,r,l)}):uy(t,r,a)}function uy(t,r,a){r.status="fulfilled",r.value=a,cy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,oy(t,a)))}function rd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,cy(r),r=r.next;while(r!==l)}t.action=null}function cy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function hy(t,r){return r}function fy(t,r){if(We){var a=mt.formState;if(a!==null){e:{var l=Ue;if(We){if(yt){t:{for(var h=yt,d=Kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){yt=Xn(h.nextSibling),l=h.data==="F!";break e}}ji(l)}l=!1}l&&(r=a[0])}}return a=pn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hy,lastRenderedState:r},a.queue=l,a=Oy.bind(null,Ue,l),l.dispatch=a,l=nd(!1),d=ud.bind(null,Ue,!1,l.queue),l=pn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=n1.bind(null,Ue,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function dy(t){var r=Ot();return my(r,ct,t)}function my(t,r,a){if(r=ed(t,r,hy)[0],t=pc(ai)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ml(r)}catch(_){throw _===Ua?sc:_}else l=r;r=Ot();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ue.flags|=2048,Fa(9,{destroy:void 0},r1.bind(null,h,a),null)),[l,d,t]}function r1(t,r){t.action=r}function py(t){var r=Ot(),a=ct;if(a!==null)return my(r,a,t);Ot(),r=r.memoizedState,a=Ot();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Fa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ue.updateQueue,r===null&&(r=dc(),Ue.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function gy(){return Ot().memoizedState}function gc(t,r,a,l){var h=pn();Ue.flags|=t,h.memoizedState=Fa(1|r,{destroy:void 0},a,l===void 0?null:l)}function yc(t,r,a,l){var h=Ot();l=l===void 0?null:l;var d=h.memoizedState.inst;ct!==null&&l!==null&&Yf(l,ct.memoizedState.deps)?h.memoizedState=Fa(r,d,a,l):(Ue.flags|=t,h.memoizedState=Fa(1|r,d,a,l))}function yy(t,r){gc(8390656,8,t,r)}function id(t,r){yc(2048,8,t,r)}function i1(t){Ue.flags|=4;var r=Ue.updateQueue;if(r===null)r=dc(),Ue.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function _y(t){var r=Ot().memoizedState;return i1({ref:r,nextImpl:t}),function(){if((rt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function vy(t,r){return yc(4,2,t,r)}function Ey(t,r){return yc(4,4,t,r)}function Ty(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function by(t,r,a){a=a!=null?a.concat([t]):null,yc(4,4,Ty.bind(null,r,t),a)}function sd(){}function Sy(t,r){var a=Ot();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Yf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Ay(t,r){var a=Ot();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Yf(r,l[1]))return l[0];if(l=t(),$s){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[l,r],l}function ad(t,r,a){return a===void 0||(si&1073741824)!==0&&(Qe&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=w_(),Ue.lanes|=t,Yi|=t,a)}function wy(t,r,a,l){return In(a,r)?a:za.current!==null?(t=ad(t,a,l),In(t,r)||(jt=!0),t):(si&42)===0||(si&1073741824)!==0&&(Qe&261930)===0?(jt=!0,t.memoizedState=a):(t=w_(),Ue.lanes|=t,Yi|=t,r)}function Ry(t,r,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=B.T,S={};B.T=S,ud(t,!1,r,a);try{var O=h(),H=B.S;if(H!==null&&H(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=ZS(O,l);pl(t,r,$,Vn(t))}else pl(t,r,l,Vn(t))}catch(ee){pl(t,r,{then:function(){},status:"rejected",reason:ee},Vn())}finally{se.p=d,_!==null&&S.types!==null&&(_.types=S.types),B.T=_}}function s1(){}function od(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Cy(t).queue;Ry(t,h,r,ge,a===null?s1:function(){return Iy(t),a(l)})}function Cy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Iy(t){var r=Cy(t);r.next===null&&(r=t.alternate.memoizedState),pl(t,r.next.queue,{},Vn())}function ld(){return tn(Nl)}function xy(){return Ot().memoizedState}function Dy(){return Ot().memoizedState}function a1(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Vn();t=qi(a);var l=Fi(r,t,a);l!==null&&(Sn(l,r,a),cl(l,r,a)),r={cache:Pf()},t.payload=r;return}r=r.return}}function o1(t,r,a){var l=Vn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?Ny(r,a):(a=Rf(t,r,a,l),a!==null&&(Sn(a,t,l),My(a,r,l)))}function Oy(t,r,a){var l=Vn();pl(t,r,a,l)}function pl(t,r,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))Ny(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,In(S,_))return Ju(t,r,h,0),mt===null&&Wu(),!1}catch{}if(a=Rf(t,r,h,l),a!==null)return Sn(a,t,l),My(a,r,l),!0}return!1}function ud(t,r,a,l){if(l={lane:2,revertLane:Bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(r)throw Error(s(479))}else r=Rf(t,a,l,2),r!==null&&Sn(r,t,2)}function _c(t){var r=t.alternate;return t===Ue||r!==null&&r===Ue}function Ny(t,r){Ba=hc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function My(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Po(t,a)}}var gl={readContext:tn,use:mc,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};gl.useEffectEvent=Rt;var Vy={readContext:tn,use:mc,useCallback:function(t,r){return pn().memoizedState=[t,r===void 0?null:r],t},useContext:tn,useEffect:yy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,gc(4194308,4,Ty.bind(null,r,t),a)},useLayoutEffect:function(t,r){return gc(4194308,4,t,r)},useInsertionEffect:function(t,r){gc(4,2,t,r)},useMemo:function(t,r){var a=pn();r=r===void 0?null:r;var l=t();if($s){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=pn();if(a!==void 0){var h=a(r);if($s){Un(!0);try{a(r)}finally{Un(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=o1.bind(null,Ue,t),[l.memoizedState,t]},useRef:function(t){var r=pn();return t={current:t},r.memoizedState=t},useState:function(t){t=nd(t);var r=t.queue,a=Oy.bind(null,Ue,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(t,r){var a=pn();return ad(a,t,r)},useTransition:function(){var t=nd(!1);return t=Ry.bind(null,Ue,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ue,h=pn();if(We){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),mt===null)throw Error(s(349));(Qe&127)!==0||ty(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,yy(ry.bind(null,l,d,t),[t]),l.flags|=2048,Fa(9,{destroy:void 0},ny.bind(null,l,d,a,r),null),a},useId:function(){var t=pn(),r=mt.identifierPrefix;if(We){var a=zr,l=jr;a=(l&~(1<<32-It(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=fc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=e1++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:ld,useFormState:fy,useActionState:fy,useOptimistic:function(t){var r=pn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ud.bind(null,Ue,!0,a),a.dispatch=r,[t,r]},useMemoCache:Zf,useCacheRefresh:function(){return pn().memoizedState=a1.bind(null,Ue)},useEffectEvent:function(t){var r=pn(),a={impl:t};return r.memoizedState=a,function(){if((rt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:tn,use:mc,useCallback:Sy,useContext:tn,useEffect:id,useImperativeHandle:by,useInsertionEffect:vy,useLayoutEffect:Ey,useMemo:Ay,useReducer:pc,useRef:gy,useState:function(){return pc(ai)},useDebugValue:sd,useDeferredValue:function(t,r){var a=Ot();return wy(a,ct.memoizedState,t,r)},useTransition:function(){var t=pc(ai)[0],r=Ot().memoizedState;return[typeof t=="boolean"?t:ml(t),r]},useSyncExternalStore:ey,useId:xy,useHostTransitionStatus:ld,useFormState:dy,useActionState:dy,useOptimistic:function(t,r){var a=Ot();return ay(a,ct,t,r)},useMemoCache:Zf,useCacheRefresh:Dy};cd.useEffectEvent=_y;var ky={readContext:tn,use:mc,useCallback:Sy,useContext:tn,useEffect:id,useImperativeHandle:by,useInsertionEffect:vy,useLayoutEffect:Ey,useMemo:Ay,useReducer:td,useRef:gy,useState:function(){return td(ai)},useDebugValue:sd,useDeferredValue:function(t,r){var a=Ot();return ct===null?ad(a,t,r):wy(a,ct.memoizedState,t,r)},useTransition:function(){var t=td(ai)[0],r=Ot().memoizedState;return[typeof t=="boolean"?t:ml(t),r]},useSyncExternalStore:ey,useId:xy,useHostTransitionStatus:ld,useFormState:py,useActionState:py,useOptimistic:function(t,r){var a=Ot();return ct!==null?ay(a,ct,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:Dy};ky.useEffectEvent=_y;function hd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var fd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Vn(),h=qi(l);h.payload=r,a!=null&&(h.callback=a),r=Fi(t,h,l),r!==null&&(Sn(r,t,l),cl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Vn(),h=qi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Fi(t,h,l),r!==null&&(Sn(r,t,l),cl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Vn(),l=qi(a);l.tag=2,r!=null&&(l.callback=r),r=Fi(t,l,a),r!==null&&(Sn(r,t,a),cl(r,t,a))}};function Ly(t,r,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!nl(a,l)||!nl(h,d):!0}function Py(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&fd.enqueueReplaceState(r,r.state,null)}function Ws(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Uy(t){$u(t)}function jy(t){console.error(t)}function zy(t){$u(t)}function vc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function By(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(t,r,a){return a=qi(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(t,r)},a}function qy(t){return t=qi(t),t.tag=3,t}function Fy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){By(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){By(r,a,l),typeof h!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function l1(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ka(r,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 31:case 13:return Yn===null?Oc():a.alternate===null&&Ct===0&&(Ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ac?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Ud(t,l,h)),!1;case 22:return a.flags|=65536,l===ac?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Ud(t,l,h)),!1}throw Error(s(435,a.tag))}return Ud(t,l,h),Oc(),!1}if(We)return r=Dn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Nf&&(t=Error(s(422),{cause:l}),sl(Hn(t,a)))):(l!==Nf&&(r=Error(s(423),{cause:l}),sl(Hn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Hn(l,a),h=dd(t.stateNode,l,h),Ff(t,h),Ct!==4&&(Ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Hn(d,a),Al===null?Al=[d]:Al.push(d),Ct!==4&&(Ct=2),r===null)return!0;l=Hn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=dd(a.stateNode,l,t),Ff(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Xi===null||!Xi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=qy(h),Fy(h,t,a,l),Ff(a,h),!1}a=a.return}while(a!==null);return!1}var md=Error(s(461)),jt=!1;function nn(t,r,a,l){r.child=t===null?Kg(r,null,a,l):Xs(r,t.child,a,l)}function Hy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Gs(r),l=Xf(t,r,a,_,d,h),S=$f(),t!==null&&!jt?(Wf(t,r,h),oi(t,r,h)):(We&&S&&Df(r),r.flags|=1,nn(t,r,l,h),r.child)}function Gy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Qy(t,r,d,l,h)):(t=ec(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!bd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(_,l)&&t.ref===r.ref)return oi(t,r,h)}return r.flags|=1,t=ti(d,l),t.ref=r.ref,t.return=r,r.child=t}function Qy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(nl(d,l)&&t.ref===r.ref)if(jt=!1,r.pendingProps=l=d,bd(t,h))(t.flags&131072)!==0&&(jt=!0);else return r.lanes=t.lanes,oi(t,r,h)}return pd(t,r,a,l,h)}function Ky(t,r,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,r.child=null;return Yy(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ic(r,d!==null?d.cachePool:null),d!==null?$g(r,d):Gf(),Wg(r);else return l=r.lanes=536870912,Yy(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ic(r,d.cachePool),$g(r,d),Gi(),r.memoizedState=null):(t!==null&&ic(r,null),Gf(),Gi());return nn(t,r,h,a),r.child}function yl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Yy(t,r,a,l,h){var d=jf();return d=d===null?null:{parent:Pt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&ic(r,null),Gf(),Wg(r),t!==null&&ka(t,r,l,!0),r.childLanes=h,null}function Ec(t,r){return r=bc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Xy(t,r,a){return Xs(r,t.child,null,a),t=Ec(r,r.pendingProps),t.flags|=2,On(r),r.memoizedState=null,t}function u1(t,r,a){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(We){if(l.mode==="hidden")return t=Ec(r,l),r.lanes=536870912,yl(null,t);if(Kf(r),(t=yt)?(t=ov(t,Kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Pi!==null?{id:jr,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},a=Ng(t),a.return=r,r.child=a,en=r,yt=null)):t=null,t===null)throw ji(r);return r.lanes=536870912,null}return Ec(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Kf(r),h)if(r.flags&256)r.flags&=-257,r=Xy(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(jt||ka(t,r,a,!1),h=(a&t.childLanes)!==0,jt||h){if(l=mt,l!==null&&(_=Uo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Bs(t,_),Sn(l,t,_),md;Oc(),r=Xy(t,r,a)}else t=d.treeContext,yt=Xn(_.nextSibling),en=r,We=!0,Ui=null,Kn=!1,t!==null&&kg(r,t),r=Ec(r,l),r.flags|=4096;return r}return t=ti(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Tc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function pd(t,r,a,l,h){return Gs(r),a=Xf(t,r,a,l,void 0,h),l=$f(),t!==null&&!jt?(Wf(t,r,h),oi(t,r,h)):(We&&l&&Df(r),r.flags|=1,nn(t,r,a,h),r.child)}function $y(t,r,a,l,h,d){return Gs(r),r.updateQueue=null,a=Zg(r,l,a,h),Jg(t),l=$f(),t!==null&&!jt?(Wf(t,r,d),oi(t,r,d)):(We&&l&&Df(r),r.flags|=1,nn(t,r,a,d),r.child)}function Wy(t,r,a,l,h){if(Gs(r),r.stateNode===null){var d=Oa,_=a.contextType;typeof _=="object"&&_!==null&&(d=tn(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Bf(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?tn(_):Oa,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(hd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&fd.enqueueReplaceState(d,d.state,null),fl(r,l,d,h),hl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var S=r.memoizedProps,O=Ws(a,S);d.props=O;var H=d.context,$=a.contextType;_=Oa,typeof $=="object"&&$!==null&&(_=tn($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==_)&&Py(r,d,l,_),Bi=!1;var G=r.memoizedState;d.state=G,fl(r,l,d,h),hl(),H=r.memoizedState,S||G!==H||Bi?(typeof ee=="function"&&(hd(r,a,ee,l),H=r.memoizedState),(O=Bi||Ly(r,a,O,l,G,H,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,qf(t,r),_=r.memoizedProps,$=Ws(a,_),d.props=$,ee=r.pendingProps,G=d.context,H=a.contextType,O=Oa,typeof H=="object"&&H!==null&&(O=tn(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||G!==O)&&Py(r,d,l,O),Bi=!1,G=r.memoizedState,d.state=G,fl(r,l,d,h),hl();var Y=r.memoizedState;_!==ee||G!==Y||Bi||t!==null&&t.dependencies!==null&&nc(t.dependencies)?(typeof S=="function"&&(hd(r,a,S,l),Y=r.memoizedState),($=Bi||Ly(r,a,$,l,G,Y,O)||t!==null&&t.dependencies!==null&&nc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,O)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=O,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Tc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Xs(r,t.child,null,h),r.child=Xs(r,null,a,h)):nn(t,r,a,h),r.memoizedState=d.state,t=r.child):t=oi(t,r,h),t}function Jy(t,r,a,l){return Fs(),r.flags|=256,nn(t,r,a,l),r.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:Bg()}}function _d(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Mn),t}function Zy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(We){if(h?Hi(r):Gi(),(t=yt)?(t=ov(t,Kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Pi!==null?{id:jr,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},a=Ng(t),a.return=r,r.child=a,en=r,yt=null)):t=null,t===null)throw ji(r);return em(t)?r.lanes=32:r.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Gi(),h=r.mode,S=bc({mode:"hidden",children:S},h),l=qs(l,h,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,l=r.child,l.memoizedState=yd(a),l.childLanes=_d(t,_,a),r.memoizedState=gd,yl(null,l)):(Hi(r),vd(r,S))}var O=t.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(d)r.flags&256?(Hi(r),r.flags&=-257,r=Ed(t,r,a)):r.memoizedState!==null?(Gi(),r.child=t.child,r.flags|=128,r=null):(Gi(),S=l.fallback,h=r.mode,l=bc({mode:"visible",children:l.children},h),S=qs(S,h,a,null),S.flags|=2,l.return=r,S.return=r,l.sibling=S,r.child=l,Xs(r,t.child,null,a),l=r.child,l.memoizedState=yd(a),l.childLanes=_d(t,_,a),r.memoizedState=gd,r=yl(null,l));else if(Hi(r),em(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,sl({value:l,source:null,stack:null}),r=Ed(t,r,a)}else if(jt||ka(t,r,a,!1),_=(a&t.childLanes)!==0,jt||_){if(_=mt,_!==null&&(l=Uo(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Bs(t,l),Sn(_,t,l),md;Zd(S)||Oc(),r=Ed(t,r,a)}else Zd(S)?(r.flags|=192,r.child=t.child,r=null):(t=O.treeContext,yt=Xn(S.nextSibling),en=r,We=!0,Ui=null,Kn=!1,t!==null&&kg(r,t),r=vd(r,l.children),r.flags|=4096);return r}return h?(Gi(),S=l.fallback,h=r.mode,O=t.child,H=O.sibling,l=ti(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,H!==null?S=ti(H,S):(S=qs(S,h,a,null),S.flags|=2),S.return=r,l.return=r,l.sibling=S,r.child=l,yl(null,l),l=r.child,S=t.child.memoizedState,S===null?S=yd(a):(h=S.cachePool,h!==null?(O=Pt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=Bg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=_d(t,_,a),r.memoizedState=gd,yl(t.child,l)):(Hi(r),a=t.child,t=a.sibling,a=ti(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function vd(t,r){return r=bc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function bc(t,r){return t=xn(22,t,null,r),t.lanes=0,t}function Ed(t,r,a){return Xs(r,t.child,null,a),t=vd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function e_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),kf(t.return,r,a)}function Td(t,r,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function t_(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Dt.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,ae(Dt,_),nn(t,r,l,a),l=We?il:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e_(t,a,r);else if(t.tag===19)e_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&cc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Td(r,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&cc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Td(r,!0,a,null,d,l);break;case"together":Td(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function oi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Yi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(ka(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=ti(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=ti(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function bd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&nc(t)))}function c1(t,r,a){switch(r.tag){case 3:Et(r,r.stateNode.containerInfo),zi(r,Pt,t.memoizedState.cache),Fs();break;case 27:case 5:Er(r);break;case 4:Et(r,r.stateNode.containerInfo);break;case 10:zi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Kf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Hi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Zy(t,r,a):(Hi(r),t=oi(t,r,a),t!==null?t.sibling:null);Hi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ka(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return t_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(Dt,Dt.current),l)break;return null;case 22:return r.lanes=0,Ky(t,r,a,r.pendingProps);case 24:zi(r,Pt,t.memoizedState.cache)}return oi(t,r,a)}function n_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)jt=!0;else{if(!bd(t,a)&&(r.flags&128)===0)return jt=!1,c1(t,r,a);jt=(t.flags&131072)!==0}else jt=!1,We&&(r.flags&1048576)!==0&&Vg(r,il,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Ks(r.elementType),r.type=t,typeof t=="function")Cf(t)?(l=Ws(t,l),r.tag=1,r=Wy(null,r,t,l,a)):(r.tag=0,r=pd(null,r,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ve){r.tag=11,r=Hy(null,r,t,l,a);break e}else if(h===x){r.tag=14,r=Gy(null,r,t,l,a);break e}}throw r=ce(t)||t,Error(s(306,r,""))}}return r;case 0:return pd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Ws(l,r.pendingProps),Wy(t,r,l,h,a);case 3:e:{if(Et(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,qf(t,r),fl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,zi(r,Pt,l),l!==d.cache&&Lf(r,[Pt],a,!0),hl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Jy(t,r,l,a);break e}else if(l!==h){h=Hn(Error(s(424)),r),sl(h),r=Jy(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,yt=Xn(t.firstChild),en=r,We=!0,Ui=null,Kn=!0,a=Kg(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Fs(),l===h){r=oi(t,r,a);break e}nn(t,r,l,a)}r=r.child}return r;case 26:return Tc(t,r),t===null?(a=dv(r.type,null,r.pendingProps,null))?r.memoizedState=a:We||(a=r.type,t=r.pendingProps,l=Uc(Le.current).createElement(a),l[Vt]=r,l[Yt]=t,rn(l,a,t),kt(l),r.stateNode=l):r.memoizedState=dv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Er(r),t===null&&We&&(l=r.stateNode=cv(r.type,r.pendingProps,Le.current),en=r,Kn=!0,h=yt,Zi(r.type)?(tm=h,yt=Xn(l.firstChild)):yt=h),nn(t,r,r.pendingProps.children,a),Tc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&We&&((h=l=yt)&&(l=z1(l,r.type,r.pendingProps,Kn),l!==null?(r.stateNode=l,en=r,yt=Xn(l.firstChild),Kn=!1,h=!0):h=!1),h||ji(r)),Er(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,$d(h,d)?l=null:_!==null&&$d(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=Xf(t,r,t1,null,null,a),Nl._currentValue=h),Tc(t,r),nn(t,r,l,a),r.child;case 6:return t===null&&We&&((t=a=yt)&&(a=B1(a,r.pendingProps,Kn),a!==null?(r.stateNode=a,en=r,yt=null,t=!0):t=!1),t||ji(r)),null;case 13:return Zy(t,r,a);case 4:return Et(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Xs(r,null,l,a):nn(t,r,l,a),r.child;case 11:return Hy(t,r,r.type,r.pendingProps,a);case 7:return nn(t,r,r.pendingProps,a),r.child;case 8:return nn(t,r,r.pendingProps.children,a),r.child;case 12:return nn(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,zi(r,r.type,l.value),nn(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Gs(r),h=tn(h),l=l(h),r.flags|=1,nn(t,r,l,a),r.child;case 14:return Gy(t,r,r.type,r.pendingProps,a);case 15:return Qy(t,r,r.type,r.pendingProps,a);case 19:return t_(t,r,a);case 31:return u1(t,r,a);case 22:return Ky(t,r,a,r.pendingProps);case 24:return Gs(r),l=tn(Pt),t===null?(h=jf(),h===null&&(h=mt,d=Pf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Bf(r),zi(r,Pt,h)):((t.lanes&a)!==0&&(qf(t,r),fl(r,null,null,a),hl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),zi(r,Pt,l)):(l=d.cache,zi(r,Pt,l),l!==h.cache&&Lf(r,[Pt],a,!0))),nn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function li(t){t.flags|=4}function Sd(t,r,a,l,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(x_())t.flags|=8192;else throw Ys=ac,zf}else t.flags&=-16777217}function r_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!_v(r))if(x_())t.flags|=8192;else throw Ys=ac,zf}function Sc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?xu():536870912,t.lanes|=r,Ka|=r)}function _l(t,r){if(!We)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function _t(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function h1(t,r,a){var l=r.pendingProps;switch(Of(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(r),null;case 1:return _t(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ii(Pt),dt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Va(r)?li(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Mf())),_t(r),null;case 26:var h=r.type,d=r.memoizedState;return t===null?(li(r),d!==null?(_t(r),r_(r,d)):(_t(r),Sd(r,h,null,l,a))):d?d!==t.memoizedState?(li(r),_t(r),r_(r,d)):(_t(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&li(r),_t(r),Sd(r,h,t,l,a)),null;case 27:if(Tr(r),a=Le.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&li(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return _t(r),null}t=fe.current,Va(r)?Lg(r):(t=cv(h,l,a),r.stateNode=t,li(r))}return _t(r),null;case 5:if(Tr(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&li(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return _t(r),null}if(d=fe.current,Va(r))Lg(r);else{var _=Uc(Le.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Vt]=r,d[Yt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(rn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&li(r)}}return _t(r),Sd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&li(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Le.current,Va(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Vt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Z_(t.nodeValue,a)),t||ji(r,!0)}else t=Uc(t).createTextNode(l),t[Vt]=r,r.stateNode=t}return _t(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Va(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Vt]=r}else Fs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;_t(r),t=!1}else a=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(On(r),r):(On(r),null);if((r.flags&128)!==0)throw Error(s(558))}return _t(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Va(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Vt]=r}else Fs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;_t(r),h=!1}else h=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(On(r),r):(On(r),null)}return On(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Sc(r,r.updateQueue),_t(r),null);case 4:return dt(),t===null&&Gd(r.stateNode.containerInfo),_t(r),null;case 10:return ii(r.type),_t(r),null;case 19:if(Z(Dt),l=r.memoizedState,l===null)return _t(r),null;if(h=(r.flags&128)!==0,d=l.rendering,d===null)if(h)_l(l,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=cc(t),d!==null){for(r.flags|=128,_l(l,!1),t=d.updateQueue,r.updateQueue=t,Sc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Og(a,t),a=a.sibling;return ae(Dt,Dt.current&1|2),We&&ni(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&it()>Ic&&(r.flags|=128,h=!0,_l(l,!1),r.lanes=4194304)}else{if(!h)if(t=cc(d),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,Sc(r,t),_l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!We)return _t(r),null}else 2*it()-l.renderingStartTime>Ic&&a!==536870912&&(r.flags|=128,h=!0,_l(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=it(),t.sibling=null,a=Dt.current,ae(Dt,h?a&1|2:a&1),We&&ni(r,l.treeForkCount),t):(_t(r),null);case 22:case 23:return On(r),Qf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(_t(r),r.subtreeFlags&6&&(r.flags|=8192)):_t(r),a=r.updateQueue,a!==null&&Sc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&Z(Qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ii(Pt),_t(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function f1(t,r){switch(Of(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ii(Pt),dt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Tr(r),null;case 31:if(r.memoizedState!==null){if(On(r),r.alternate===null)throw Error(s(340));Fs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(On(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Fs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Z(Dt),null;case 4:return dt(),null;case 10:return ii(r.type),null;case 22:case 23:return On(r),Qf(),t!==null&&Z(Qs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ii(Pt),null;case 25:return null;default:return null}}function i_(t,r){switch(Of(r),r.tag){case 3:ii(Pt),dt();break;case 26:case 27:case 5:Tr(r);break;case 4:dt();break;case 31:r.memoizedState!==null&&On(r);break;case 13:On(r);break;case 19:Z(Dt);break;case 10:ii(r.type);break;case 22:case 23:On(r),Qf(),t!==null&&Z(Qs);break;case 24:ii(Pt)}}function vl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){lt(r,r.return,S)}}function Qi(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=r;var O=a,H=S;try{H()}catch($){lt(h,O,$)}}}l=l.next}while(l!==d)}}catch($){lt(r,r.return,$)}}function s_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Xg(r,a)}catch(l){lt(t,t.return,l)}}}function a_(t,r,a){a.props=Ws(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){lt(t,r,l)}}function El(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){lt(t,r,h)}}function Br(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){lt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){lt(t,r,h)}else a.current=null}function o_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){lt(t,t.return,h)}}function Ad(t,r,a){try{var l=t.stateNode;V1(l,t.type,a,r),l[Yt]=r}catch(h){lt(t,t.return,h)}}function l_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zi(t.type)||t.tag===4}function wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||l_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ar));else if(l!==4&&(l===27&&Zi(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Rd(t,r,a),t=t.sibling;t!==null;)Rd(t,r,a),t=t.sibling}function Ac(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Zi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ac(t,r,a),t=t.sibling;t!==null;)Ac(t,r,a),t=t.sibling}function u_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);rn(r,l,a),r[Vt]=t,r[Yt]=a}catch(d){lt(t,t.return,d)}}var ui=!1,zt=!1,Cd=!1,c_=typeof WeakSet=="function"?WeakSet:Set,$t=null;function d1(t,r){if(t=t.containerInfo,Yd=Gc,t=bg(t),Ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,O=-1,H=0,$=0,ee=t,G=null;t:for(;;){for(var Y;ee!==a||h!==0&&ee.nodeType!==3||(S=_+h),ee!==d||l!==0&&ee.nodeType!==3||(O=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)G=ee,ee=Y;for(;;){if(ee===t)break t;if(G===a&&++H===h&&(S=_),G===d&&++$===l&&(O=_),(Y=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=Y}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:t,selectionRange:a},Gc=!1,$t=r;$t!==null;)if(r=$t,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,$t=t;else for(;$t!==null;){switch(r=$t,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ye=Ws(a.type,h);t=l.getSnapshotBeforeUpdate(ye,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){lt(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,$t=t;break}$t=r.return}}function h_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:hi(t,a),l&4&&vl(5,a);break;case 1:if(hi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){lt(a,a.return,_)}else{var h=Ws(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){lt(a,a.return,_)}}l&64&&s_(a),l&512&&El(a,a.return);break;case 3:if(hi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Xg(t,r)}catch(_){lt(a,a.return,_)}}break;case 27:r===null&&l&4&&u_(a);case 26:case 5:hi(t,a),r===null&&l&4&&o_(a),l&512&&El(a,a.return);break;case 12:hi(t,a);break;case 31:hi(t,a),l&4&&m_(t,a);break;case 13:hi(t,a),l&4&&p_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=b1.bind(null,a),q1(t,a))));break;case 22:if(l=a.memoizedState!==null||ui,!l){r=r!==null&&r.memoizedState!==null||zt,h=ui;var d=zt;ui=l,(zt=r)&&!d?fi(t,a,(a.subtreeFlags&8772)!==0):hi(t,a),ui=h,zt=d}break;case 30:break;default:hi(t,a)}}function f_(t){var r=t.alternate;r!==null&&(t.alternate=null,f_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ya(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var St=null,vn=!1;function ci(t,r,a){for(a=a.child;a!==null;)d_(t,r,a),a=a.sibling}function d_(t,r,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(nr,a)}catch{}switch(a.tag){case 26:zt||Br(a,r),ci(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||Br(a,r);var l=St,h=vn;Zi(a.type)&&(St=a.stateNode,vn=!1),ci(t,r,a),xl(a.stateNode),St=l,vn=h;break;case 5:zt||Br(a,r);case 6:if(l=St,h=vn,St=null,ci(t,r,a),St=l,vn=h,St!==null)if(vn)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(a.stateNode)}catch(d){lt(a,r,d)}else try{St.removeChild(a.stateNode)}catch(d){lt(a,r,d)}break;case 18:St!==null&&(vn?(t=St,sv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),to(t)):sv(St,a.stateNode));break;case 4:l=St,h=vn,St=a.stateNode.containerInfo,vn=!0,ci(t,r,a),St=l,vn=h;break;case 0:case 11:case 14:case 15:Qi(2,a,r),zt||Qi(4,a,r),ci(t,r,a);break;case 1:zt||(Br(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&a_(a,r,l)),ci(t,r,a);break;case 21:ci(t,r,a);break;case 22:zt=(l=zt)||a.memoizedState!==null,ci(t,r,a),zt=l;break;default:ci(t,r,a)}}function m_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(a){lt(r,r.return,a)}}}function p_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(a){lt(r,r.return,a)}}function m1(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new c_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new c_),r;default:throw Error(s(435,t.tag))}}function wc(t,r){var a=m1(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var h=S1.bind(null,t,l);l.then(h,h)}})}function En(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Zi(S.type)){St=S.stateNode,vn=!1;break e}break;case 5:St=S.stateNode,vn=!1;break e;case 3:case 4:St=S.stateNode.containerInfo,vn=!0;break e}S=S.return}if(St===null)throw Error(s(160));d_(d,_,h),St=null,vn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)g_(r,t),r=r.sibling}var fr=null;function g_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(r,t),Tn(t),l&4&&(Qi(3,t,t.return),vl(3,t),Qi(5,t,t.return));break;case 1:En(r,t),Tn(t),l&512&&(zt||a===null||Br(a,a.return)),l&64&&ui&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=fr;if(En(r,t),Tn(t),l&512&&(zt||a===null||Br(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Cr]||d[Vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),rn(d,l,a),d[Vt]=t,kt(d),l=d;break e;case"link":var _=gv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),rn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=gv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),rn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Vt]=t,kt(d),l=d}t.stateNode=l}else yv(h,t.type,t.stateNode);else t.stateNode=pv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?yv(h,t.type,t.stateNode):pv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(r,t),Tn(t),l&512&&(zt||a===null||Br(a,a.return)),a!==null&&l&4&&Ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(r,t),Tn(t),l&512&&(zt||a===null||Br(a,a.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(ye){lt(t,t.return,ye)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ad(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Cd=!0);break;case 6:if(En(r,t),Tn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ye){lt(t,t.return,ye)}}break;case 3:if(Bc=null,h=fr,fr=jc(r.containerInfo),En(r,t),fr=h,Tn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{to(r.containerInfo)}catch(ye){lt(t,t.return,ye)}Cd&&(Cd=!1,y_(t));break;case 4:l=fr,fr=jc(t.stateNode.containerInfo),En(r,t),Tn(t),fr=l;break;case 12:En(r,t),Tn(t);break;case 31:En(r,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 13:En(r,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cc=it()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,H=ui,$=zt;if(ui=H||h,zt=$||O,En(r,t),zt=$,ui=H,Tn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||O||ui||zt||Js(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(d=O.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=O.stateNode;var ee=O.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ye){lt(O,O.return,ye)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(ye){lt(O,O.return,ye)}}}else if(r.tag===18){if(a===null){O=r;try{var Y=O.stateNode;h?av(Y,!0):av(O.stateNode,!1)}catch(ye){lt(O,O.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wc(t,a))));break;case 19:En(r,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 30:break;case 21:break;default:En(r,t),Tn(t)}}function Tn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(l_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=wd(t);Ac(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(_n(_,""),a.flags&=-33);var S=wd(t);Ac(t,S,_);break;case 3:case 4:var O=a.stateNode.containerInfo,H=wd(t);Rd(t,H,O);break;default:throw Error(s(161))}}catch($){lt(t,t.return,$)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function y_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;y_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function hi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)h_(t,r.alternate,r),r=r.sibling}function Js(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Qi(4,r,r.return),Js(r);break;case 1:Br(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&a_(r,r.return,a),Js(r);break;case 27:xl(r.stateNode);case 26:case 5:Br(r,r.return),Js(r);break;case 22:r.memoizedState===null&&Js(r);break;case 30:Js(r);break;default:Js(r)}t=t.sibling}}function fi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:fi(h,d,a),vl(4,d);break;case 1:if(fi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){lt(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Yg(O[h],S)}catch(H){lt(l,l.return,H)}}a&&_&64&&s_(d),El(d,d.return);break;case 27:u_(d);case 26:case 5:fi(h,d,a),a&&l===null&&_&4&&o_(d),El(d,d.return);break;case 12:fi(h,d,a);break;case 31:fi(h,d,a),a&&_&4&&m_(h,d);break;case 13:fi(h,d,a),a&&_&4&&p_(h,d);break;case 22:d.memoizedState===null&&fi(h,d,a),El(d,d.return);break;case 30:break;default:fi(h,d,a)}r=r.sibling}}function Id(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function xd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&al(t))}function dr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)__(t,r,a,l),r=r.sibling}function __(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:dr(t,r,a,l),h&2048&&vl(9,r);break;case 1:dr(t,r,a,l);break;case 3:dr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&al(t)));break;case 12:if(h&2048){dr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){lt(r,r.return,O)}}else dr(t,r,a,l);break;case 31:dr(t,r,a,l);break;case 13:dr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?dr(t,r,a,l):Tl(t,r):d._visibility&2?dr(t,r,a,l):(d._visibility|=2,Ha(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Id(_,r);break;case 24:dr(t,r,a,l),h&2048&&xd(r.alternate,r);break;default:dr(t,r,a,l)}}function Ha(t,r,a,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,S=a,O=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Ha(d,_,S,O,h),vl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Ha(d,_,S,O,h):Tl(d,_):($._visibility|=2,Ha(d,_,S,O,h)),h&&H&2048&&Id(_.alternate,_);break;case 24:Ha(d,_,S,O,h),h&&H&2048&&xd(_.alternate,_);break;default:Ha(d,_,S,O,h)}r=r.sibling}}function Tl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:Tl(a,l),h&2048&&Id(l.alternate,l);break;case 24:Tl(a,l),h&2048&&xd(l.alternate,l);break;default:Tl(a,l)}r=r.sibling}}var bl=8192;function Ga(t,r,a){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)v_(t,r,a),t=t.sibling}function v_(t,r,a){switch(t.tag){case 26:Ga(t,r,a),t.flags&bl&&t.memoizedState!==null&&eA(a,fr,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,r,a);break;case 3:case 4:var l=fr;fr=jc(t.stateNode.containerInfo),Ga(t,r,a),fr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=bl,bl=16777216,Ga(t,r,a),bl=l):Ga(t,r,a));break;default:Ga(t,r,a)}}function E_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Sl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];$t=l,b_(l,t)}E_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)T_(t),t=t.sibling}function T_(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&Qi(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Rc(t)):Sl(t);break;default:Sl(t)}}function Rc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];$t=l,b_(l,t)}E_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Qi(8,r,r.return),Rc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(r));break;default:Rc(r)}t=t.sibling}}function b_(t,r){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:Qi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$t=l;else e:for(a=t;$t!==null;){l=$t;var h=l.sibling,d=l.return;if(f_(l),l===a){$t=null;break e}if(h!==null){h.return=d,$t=h;break e}$t=d}}}var p1={getCacheForType:function(t){var r=tn(Pt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return tn(Pt).controller.signal}},g1=typeof WeakMap=="function"?WeakMap:Map,rt=0,mt=null,He=null,Qe=0,ot=0,Nn=null,Ki=!1,Qa=!1,Dd=!1,di=0,Ct=0,Yi=0,Zs=0,Od=0,Mn=0,Ka=0,Al=null,bn=null,Nd=!1,Cc=0,S_=0,Ic=1/0,xc=null,Xi=null,Qt=0,$i=null,Ya=null,mi=0,Md=0,Vd=null,A_=null,wl=0,kd=null;function Vn(){return(rt&2)!==0&&Qe!==0?Qe&-Qe:B.T!==null?Bd():Du()}function w_(){if(Mn===0)if((Qe&536870912)===0||We){var t=Rs;Rs<<=1,(Rs&3932160)===0&&(Rs=262144),Mn=t}else Mn=536870912;return t=Dn.current,t!==null&&(t.flags|=32),Mn}function Sn(t,r,a){(t===mt&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),Wi(t,Qe,Mn,!1)),Cs(t,a),((rt&2)===0||t!==mt)&&(t===mt&&((rt&2)===0&&(Zs|=a),Ct===4&&Wi(t,Qe,Mn,!1)),qr(t))}function R_(t,r,a){if((rt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||rr(t,r),h=l?v1(t,r):Pd(t,r,!0),d=l;do{if(h===0){Qa&&!l&&Wi(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!y1(a)){h=Pd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=t;h=Al;var O=S.current.memoizedState.isDehydrated;if(O&&(Xa(S,_).flags|=256),_=Pd(S,_,!1),_!==2){if(Dd&&!O){S.errorRecoveryDisabledLanes|=d,Zs|=d,h=4;break e}d=bn,bn=h,d!==null&&(bn===null?bn=d:bn.push.apply(bn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Xa(t,0),Wi(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Wi(l,r,Mn,!Ki);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Cc+300-it(),10<h)){if(Wi(l,r,Mn,!Ki),Ar(l,0,!0)!==0)break e;mi=r,l.timeoutHandle=rv(C_.bind(null,l,a,bn,xc,Nd,r,Mn,Zs,Ka,Ki,d,"Throttled",-0,0),h);break e}C_(l,a,bn,xc,Nd,r,Mn,Zs,Ka,Ki,d,null,-0,0)}}break}while(!0);qr(t)}function C_(t,r,a,l,h,d,_,S,O,H,$,ee,G,Y){if(t.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ar},v_(r,d,ee);var ye=(d&62914560)===d?Cc-it():(d&4194048)===d?S_-it():0;if(ye=tA(ee,ye),ye!==null){mi=d,t.cancelPendingCommit=ye(k_.bind(null,t,r,d,a,l,h,_,S,O,$,ee,null,G,Y)),Wi(t,d,_,!H);return}}k_(t,r,d,a,l,h,_,S,O)}function y1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!In(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Wi(t,r,a,l){r&=~Od,r&=~Zs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-It(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Is(t,a,r)}function Dc(){return(rt&6)===0?(Rl(0),!1):!0}function Ld(){if(He!==null){if(ot===0)var t=He.return;else t=He,ri=Hs=null,Jf(t),ja=null,ll=0,t=He;for(;t!==null;)i_(t.alternate,t),t=t.return;He=null}}function Xa(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,P1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),mi=0,Ld(),mt=t,He=a=ti(t.current,null),Qe=r,ot=0,Nn=null,Ki=!1,Qa=rr(t,r),Dd=!1,Ka=Mn=Od=Zs=Yi=Ct=0,bn=Al=null,Nd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-It(l),d=1<<h;r|=t[h],l&=~d}return di=r,Wu(),a}function I_(t,r){Ue=null,B.H=gl,r===Ua||r===sc?(r=Hg(),ot=3):r===zf?(r=Hg(),ot=4):ot=r===md?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Nn=r,He===null&&(Ct=1,vc(t,Hn(r,t.current)))}function x_(){var t=Dn.current;return t===null?!0:(Qe&4194048)===Qe?Yn===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?t===Yn:!1}function D_(){var t=B.H;return B.H=gl,t===null?gl:t}function O_(){var t=B.A;return B.A=p1,t}function Oc(){Ct=4,Ki||(Qe&4194048)!==Qe&&Dn.current!==null||(Qa=!0),(Yi&134217727)===0&&(Zs&134217727)===0||mt===null||Wi(mt,Qe,Mn,!1)}function Pd(t,r,a){var l=rt;rt|=2;var h=D_(),d=O_();(mt!==t||Qe!==r)&&(xc=null,Xa(t,r)),r=!1;var _=Ct;e:do try{if(ot!==0&&He!==null){var S=He,O=Nn;switch(ot){case 8:Ld(),_=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(r=!0);var H=ot;if(ot=0,Nn=null,$a(t,S,O,H),a&&Qa){_=0;break e}break;default:H=ot,ot=0,Nn=null,$a(t,S,O,H)}}_1(),_=Ct;break}catch($){I_(t,$)}while(!0);return r&&t.shellSuspendCounter++,ri=Hs=null,rt=l,B.H=h,B.A=d,He===null&&(mt=null,Qe=0,Wu()),_}function _1(){for(;He!==null;)N_(He)}function v1(t,r){var a=rt;rt|=2;var l=D_(),h=O_();mt!==t||Qe!==r?(xc=null,Ic=it()+500,Xa(t,r)):Qa=rr(t,r);e:do try{if(ot!==0&&He!==null){r=He;var d=Nn;t:switch(ot){case 1:ot=0,Nn=null,$a(t,r,d,1);break;case 2:case 9:if(qg(d)){ot=0,Nn=null,M_(r);break}r=function(){ot!==2&&ot!==9||mt!==t||(ot=7),qr(t)},d.then(r,r);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:qg(d)?(ot=0,Nn=null,M_(r)):(ot=0,Nn=null,$a(t,r,d,7));break;case 5:var _=null;switch(He.tag){case 26:_=He.memoizedState;case 5:case 27:var S=He;if(_?_v(_):S.stateNode.complete){ot=0,Nn=null;var O=S.sibling;if(O!==null)He=O;else{var H=S.return;H!==null?(He=H,Nc(H)):He=null}break t}}ot=0,Nn=null,$a(t,r,d,5);break;case 6:ot=0,Nn=null,$a(t,r,d,6);break;case 8:Ld(),Ct=6;break e;default:throw Error(s(462))}}E1();break}catch($){I_(t,$)}while(!0);return ri=Hs=null,B.H=l,B.A=h,rt=a,He!==null?0:(mt=null,Qe=0,Wu(),Ct)}function E1(){for(;He!==null&&!Tt();)N_(He)}function N_(t){var r=n_(t.alternate,t,di);t.memoizedProps=t.pendingProps,r===null?Nc(t):He=r}function M_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=$y(a,r,r.pendingProps,r.type,void 0,Qe);break;case 11:r=$y(a,r,r.pendingProps,r.type.render,r.ref,Qe);break;case 5:Jf(r);default:i_(a,r),r=He=Og(r,di),r=n_(a,r,di)}t.memoizedProps=t.pendingProps,r===null?Nc(t):He=r}function $a(t,r,a,l){ri=Hs=null,Jf(r),ja=null,ll=0;var h=r.return;try{if(l1(t,h,r,a,Qe)){Ct=1,vc(t,Hn(a,t.current)),He=null;return}}catch(d){if(h!==null)throw He=h,d;Ct=1,vc(t,Hn(a,t.current)),He=null;return}r.flags&32768?(We||l===1?t=!0:Qa||(Qe&536870912)!==0?t=!1:(Ki=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),V_(r,t)):Nc(r)}function Nc(t){var r=t;do{if((r.flags&32768)!==0){V_(r,Ki);return}t=r.return;var a=h1(r.alternate,r,di);if(a!==null){He=a;return}if(r=r.sibling,r!==null){He=r;return}He=r=t}while(r!==null);Ct===0&&(Ct=5)}function V_(t,r){do{var a=f1(t.alternate,t);if(a!==null){a.flags&=32767,He=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){He=t;return}He=t=a}while(t!==null);Ct=6,He=null}function k_(t,r,a,l,h,d,_,S,O){t.cancelPendingCommit=null;do Mc();while(Qt!==0);if((rt&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=wf,gf(t,a,d,_,S,O),t===mt&&(He=mt=null,Qe=0),Ya=r,$i=t,mi=a,Md=d,Vd=h,A_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,A1(Ci,function(){return z_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=se.p,se.p=2,_=rt,rt|=4;try{d1(t,r,a)}finally{rt=_,se.p=h,B.T=l}}Qt=1,L_(),P_(),U_()}}function L_(){if(Qt===1){Qt=0;var t=$i,r=Ya,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var l=se.p;se.p=2;var h=rt;rt|=4;try{g_(r,t);var d=Xd,_=bg(t.containerInfo),S=d.focusedElem,O=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Tg(S.ownerDocument.documentElement,S)){if(O!==null&&Ef(S)){var H=O.start,$=O.end;if($===void 0&&($=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min($,S.value.length);else{var ee=S.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var Y=G.getSelection(),ye=S.textContent.length,Ae=Math.min(O.start,ye),ft=O.end===void 0?Ae:Math.min(O.end,ye);!Y.extend&&Ae>ft&&(_=ft,ft=Ae,Ae=_);var j=Eg(S,Ae),V=Eg(S,ft);if(j&&V&&(Y.rangeCount!==1||Y.anchorNode!==j.node||Y.anchorOffset!==j.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var F=ee.createRange();F.setStart(j.node,j.offset),Y.removeAllRanges(),Ae>ft?(Y.addRange(F),Y.extend(V.node,V.offset)):(F.setEnd(V.node,V.offset),Y.addRange(F))}}}}for(ee=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var J=ee[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Gc=!!Yd,Xd=Yd=null}finally{rt=h,se.p=l,B.T=a}}t.current=r,Qt=2}}function P_(){if(Qt===2){Qt=0;var t=$i,r=Ya,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var l=se.p;se.p=2;var h=rt;rt|=4;try{h_(t,r.alternate,r)}finally{rt=h,se.p=l,B.T=a}}Qt=3}}function U_(){if(Qt===4||Qt===3){Qt=0,Re();var t=$i,r=Ya,a=mi,l=A_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Qt=5:(Qt=0,Ya=$i=null,j_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Xi=null),Wr(a),r=r.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(nr,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=B.T,h=se.p,se.p=2,B.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{B.T=r,se.p=h}}(mi&3)!==0&&Mc(),qr(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===kd?wl++:(wl=0,kd=t):wl=0,Rl(0)}}function j_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,al(r)))}function Mc(){return L_(),P_(),U_(),z_()}function z_(){if(Qt!==5)return!1;var t=$i,r=Md;Md=0;var a=Wr(mi),l=B.T,h=se.p;try{se.p=32>a?32:a,B.T=null,a=Vd,Vd=null;var d=$i,_=mi;if(Qt=0,Ya=$i=null,mi=0,(rt&6)!==0)throw Error(s(331));var S=rt;if(rt|=4,T_(d.current),__(d,d.current,_,a),rt=S,Rl(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(nr,d)}catch{}return!0}finally{se.p=h,B.T=l,j_(t,r)}}function B_(t,r,a){r=Hn(a,r),r=dd(t.stateNode,r,2),t=Fi(t,r,2),t!==null&&(Cs(t,2),qr(t))}function lt(t,r,a){if(t.tag===3)B_(t,t,a);else for(;r!==null;){if(r.tag===3){B_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xi===null||!Xi.has(l))){t=Hn(a,t),a=qy(2),l=Fi(r,a,2),l!==null&&(Fy(a,l,r,t),Cs(l,2),qr(l));break}}r=r.return}}function Ud(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new g1;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Dd=!0,h.add(a),t=T1.bind(null,t,r,a),r.then(t,t))}function T1(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,mt===t&&(Qe&a)===a&&(Ct===4||Ct===3&&(Qe&62914560)===Qe&&300>it()-Cc?(rt&2)===0&&Xa(t,0):Od|=a,Ka===Qe&&(Ka=0)),qr(t)}function q_(t,r){r===0&&(r=xu()),t=Bs(t,r),t!==null&&(Cs(t,r),qr(t))}function b1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),q_(t,a)}function S1(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),q_(t,a)}function A1(t,r){return Je(t,r)}var Vc=null,Wa=null,jd=!1,kc=!1,zd=!1,Ji=0;function qr(t){t!==Wa&&t.next===null&&(Wa===null?Vc=Wa=t:Wa=Wa.next=t),kc=!0,jd||(jd=!0,R1())}function Rl(t,r){if(!zd&&kc){zd=!0;do for(var a=!1,l=Vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-It(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Q_(l,d))}else d=Qe,d=Ar(l,l===mt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||rr(l,d)||(a=!0,Q_(l,d));l=l.next}while(a);zd=!1}}function w1(){F_()}function F_(){kc=jd=!1;var t=0;Ji!==0&&L1()&&(t=Ji);for(var r=it(),a=null,l=Vc;l!==null;){var h=l.next,d=H_(l,r);d===0?(l.next=null,a===null?Vc=h:a.next=h,h===null&&(Wa=a)):(a=l,(t!==0||(d&3)!==0)&&(kc=!0)),l=h}Qt!==0&&Qt!==5||Rl(t),Ji!==0&&(Ji=0)}function H_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-It(d),S=1<<_,O=h[_];O===-1?((S&a)===0||(S&l)!==0)&&(h[_]=pf(S,r)):O<=r&&(t.expiredLanes|=S),d&=~S}if(r=mt,a=Qe,a=Ar(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Oe(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||rr(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Oe(l),Wr(a)){case 2:case 8:a=Lo;break;case 32:a=Ci;break;case 268435456:a=Au;break;default:a=Ci}return l=G_.bind(null,t),a=Je(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Oe(l),t.callbackPriority=2,t.callbackNode=null,2}function G_(t,r){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Mc()&&t.callbackNode!==a)return null;var l=Qe;return l=Ar(t,t===mt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(R_(t,l,r),H_(t,it()),t.callbackNode!=null&&t.callbackNode===a?G_.bind(null,t):null)}function Q_(t,r){if(Mc())return null;R_(t,r,!0)}function R1(){U1(function(){(rt&6)!==0?Je(ko,w1):F_()})}function Bd(){if(Ji===0){var t=La;t===0&&(t=br,br<<=1,(br&261888)===0&&(br=256)),Ji=t}return Ji}function K_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function Y_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function C1(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=K_((h[Yt]||null).action),_=l.submitter;_&&(r=(r=_[Yt]||null)?K_(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var S=new kr("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ji!==0){var O=_?Y_(h,_):new FormData(h);od(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(S.preventDefault(),O=_?Y_(h,_):new FormData(h),od(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var qd=0;qd<Af.length;qd++){var Fd=Af[qd],I1=Fd.toLowerCase(),x1=Fd[0].toUpperCase()+Fd.slice(1);hr(I1,"on"+x1)}hr(wg,"onAnimationEnd"),hr(Rg,"onAnimationIteration"),hr(Cg,"onAnimationStart"),hr("dblclick","onDoubleClick"),hr("focusin","onFocus"),hr("focusout","onBlur"),hr(GS,"onTransitionRun"),hr(QS,"onTransitionStart"),hr(KS,"onTransitionCancel"),hr(Ig,"onTransitionEnd"),Or("onMouseEnter",["mouseout","mouseover"]),Or("onMouseLeave",["mouseout","mouseover"]),Or("onPointerEnter",["pointerout","pointerover"]),Or("onPointerLeave",["pointerout","pointerover"]),Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function X_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var S=l[_],O=S.instance,H=S.currentTarget;if(S=S.listener,O!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=H;try{d(h)}catch($){$u($)}h.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(S=l[_],O=S.instance,H=S.currentTarget,S=S.listener,O!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=H;try{d(h)}catch($){$u($)}h.currentTarget=null,d=O}}}}function Ge(t,r){var a=r[ga];a===void 0&&(a=r[ga]=new Set);var l=t+"__bubble";a.has(l)||($_(r,t,2,!1),a.add(l))}function Hd(t,r,a){var l=0;r&&(l|=4),$_(a,t,l,r)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[Lc]){t[Lc]=!0,jo.forEach(function(a){a!=="selectionchange"&&(D1.has(a)||Hd(a,!1,t),Hd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Lc]||(r[Lc]=!0,Hd("selectionchange",!1,r))}}function $_(t,r,a,l){switch(wv(r)){case 2:var h=iA;break;case 8:h=sA;break;default:h=am}a=h.bind(null,r,a,t),h=void 0,!Ms||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Qd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=Ir(S),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Mi(function(){var H=d,$=zn(a),ee=[];e:{var G=xg.get(t);if(G!==void 0){var Y=kr,ye=t;switch(t){case"keypress":if(ks(a)===0)break e;case"keydown":case"keyup":Y=Ku;break;case"focusin":ye="focus",Y=Ps;break;case"focusout":ye="blur",Y=Ps;break;case"beforeblur":case"afterblur":Y=Ps;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case wg:case Rg:case Cg:Y=zu;break;case Ig:Y=A;break;case"scroll":case"scrollend":Y=Wo;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ei;break;case"toggle":case"beforetoggle":Y=Pe}var Ae=(r&4)!==0,ft=!Ae&&(t==="scroll"||t==="scrollend"),j=Ae?G!==null?G+"Capture":null:G;Ae=[];for(var V=H,F;V!==null;){var J=V;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||j===null||(J=or(V,j),J!=null&&Ae.push(Il(V,J,F))),ft)break;V=V.return}0<Ae.length&&(G=new Y(G,ye,null,a,$),ee.push({event:G,listeners:Ae}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",G&&a!==Yo&&(ye=a.relatedTarget||a.fromElement)&&(Ir(ye)||ye[Rr]))break e;if((Y||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(ye=a.relatedTarget||a.toElement,Y=H,ye=ye?Ir(ye):null,ye!==null&&(ft=u(ye),Ae=ye.tag,ye!==ft||Ae!==5&&Ae!==27&&Ae!==6)&&(ye=null)):(Y=null,ye=H),Y!==ye)){if(Ae=Jo,J="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=ei,J="onPointerLeave",j="onPointerEnter",V="pointer"),ft=Y==null?G:Rn(Y),F=ye==null?G:Rn(ye),G=new Ae(J,V+"leave",Y,a,$),G.target=ft,G.relatedTarget=F,J=null,Ir($)===H&&(Ae=new Ae(j,V+"enter",ye,a,$),Ae.target=F,Ae.relatedTarget=ft,J=Ae),ft=J,Y&&ye)t:{for(Ae=O1,j=Y,V=ye,F=0,J=j;J;J=Ae(J))F++;J=0;for(var Te=V;Te;Te=Ae(Te))J++;for(;0<F-J;)j=Ae(j),F--;for(;0<J-F;)V=Ae(V),J--;for(;F--;){if(j===V||V!==null&&j===V.alternate){Ae=j;break t}j=Ae(j),V=Ae(V)}Ae=null}else Ae=null;Y!==null&&W_(ee,G,Y,Ae,!1),ye!==null&&ft!==null&&W_(ee,ft,ye,Ae,!0)}}e:{if(G=H?Rn(H):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var et=mg;else if(fg(G))if(pg)et=qS;else{et=zS;var Ee=jS}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Ea(H.elementType)&&(et=mg):et=BS;if(et&&(et=et(t,H))){dg(ee,et,a,$);break e}Ee&&Ee(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Go(G,"number",G.value)}switch(Ee=H?Rn(H):window,t){case"focusin":(fg(Ee)||Ee.contentEditable==="true")&&(Ia=Ee,Tf=H,rl=null);break;case"focusout":rl=Tf=Ia=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,Sg(ee,a,$);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":Sg(ee,a,$)}var ze;if(nt)e:{switch(t){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Ca?Us(t,a)&&(Ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ke="onCompositionStart");Ke&&(Ur&&a.locale!=="ko"&&(Ca||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Ca&&(ze=$o()):(Vr=$,Xo="value"in Vr?Vr.value:Vr.textContent,Ca=!0)),Ee=Pc(H,Ke),0<Ee.length&&(Ke=new Pr(Ke,t,null,a,$),ee.push({event:Ke,listeners:Ee}),ze?Ke.data=ze:(ze=Ra(a),ze!==null&&(Ke.data=ze)))),(ze=qn?kS(t,a):LS(t,a))&&(Ke=Pc(H,"onBeforeInput"),0<Ke.length&&(Ee=new Pr("onBeforeInput","beforeinput",null,a,$),ee.push({event:Ee,listeners:Ke}),Ee.data=ze)),C1(ee,t,H,a,$)}X_(ee,r)})}function Il(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Pc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=or(t,a),h!=null&&l.unshift(Il(t,h,d)),h=or(t,r),h!=null&&l.push(Il(t,h,d))),t.tag===3)return l;t=t.return}return[]}function O1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function W_(t,r,a,l,h){for(var d=r._reactName,_=[];a!==null&&a!==l;){var S=a,O=S.alternate,H=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||H===null||(O=H,h?(H=or(a,d),H!=null&&_.unshift(Il(a,H,O))):h||(H=or(a,d),H!=null&&_.push(Il(a,H,O)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var N1=/\r\n?/g,M1=/\u0000|\uFFFD/g;function J_(t){return(typeof t=="string"?t:""+t).replace(N1,`
`).replace(M1,"")}function Z_(t,r){return r=J_(r),J_(t)===r}function ht(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&_n(t,""+l);break;case"className":Cn(t,"class",l);break;case"tabIndex":Cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,a,l);break;case"style":Ko(t,l,d);break;case"data":if(r!=="object"){Cn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&ht(t,r,"name",h.name,h,null),ht(t,r,"formEncType",h.formEncType,h,null),ht(t,r,"formMethod",h.formMethod,h,null),ht(t,r,"formTarget",h.formTarget,h,null)):(ht(t,r,"encType",h.encType,h,null),ht(t,r,"method",h.method,h,null),ht(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ar);break;case"onScroll":l!=null&&Ge("scroll",t);break;case"onScrollEnd":l!=null&&Ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ge("beforetoggle",t),Ge("toggle",t),_a(t,"popover",l);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pu.get(a)||a,_a(t,a,l))}}function Kd(t,r,a,l,h,d){switch(a){case"style":Ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Ge("scroll",t);break;case"onScrollEnd":l!=null&&Ge("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ar);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[Yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):_a(t,a,l)}}}function rn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",t),Ge("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ht(t,r,d,_,a,null)}}h&&ht(t,r,"srcSet",a.srcSet,a,null),l&&ht(t,r,"src",a.src,a,null);return;case"input":Ge("invalid",t);var S=d=_=h=null,O=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":O=$;break;case"defaultChecked":H=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:ht(t,r,l,$,a,null)}}Vu(t,d,S,O,H,_,h,!1);return;case"select":Ge("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:ht(t,r,h,S,a,null)}r=d,a=_,t.multiple=!!l,r!=null?xi(t,!!l,r,!1):a!=null&&xi(t,!!l,a,!0);return;case"textarea":Ge("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ht(t,r,_,S,a,null)}Di(t,l,h,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ht(t,r,O,l,a,null));return;case"dialog":Ge("beforetoggle",t),Ge("toggle",t),Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":Ge("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Ge(Cl[l],t);break;case"image":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"embed":case"source":case"link":Ge("error",t),Ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ht(t,r,H,l,a,null)}return;default:if(Ea(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Kd(t,r,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&ht(t,r,S,l,a,null))}function V1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,O=null,H=null,$=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=ee;default:l.hasOwnProperty(Y)||ht(t,r,Y,null,l,ee)}}for(var G in l){var Y=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(Y!=null||ee!=null))switch(G){case"type":d=Y;break;case"name":h=Y;break;case"checked":H=Y;break;case"defaultChecked":$=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==ee&&ht(t,r,G,Y,l,ee)}}va(t,_,S,O,H,$,d,h);return;case"select":Y=_=S=G=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(d)||ht(t,r,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":G=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==O&&ht(t,r,h,d,l,O)}r=S,a=_,l=Y,G!=null?xi(t,!!a,G,!1):!!l!=!!a&&(r!=null?xi(t,!!a,r,!0):xi(t,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ht(t,r,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":G=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ht(t,r,_,h,l,d)}ku(t,G,Y);return;case"option":for(var ye in a)G=a[ye],a.hasOwnProperty(ye)&&G!=null&&!l.hasOwnProperty(ye)&&(ye==="selected"?t.selected=!1:ht(t,r,ye,null,l,G));for(O in l)G=l[O],Y=a[O],l.hasOwnProperty(O)&&G!==Y&&(G!=null||Y!=null)&&(O==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":ht(t,r,O,G,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)G=a[Ae],a.hasOwnProperty(Ae)&&G!=null&&!l.hasOwnProperty(Ae)&&ht(t,r,Ae,null,l,G);for(H in l)if(G=l[H],Y=a[H],l.hasOwnProperty(H)&&G!==Y&&(G!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:ht(t,r,H,G,l,Y)}return;default:if(Ea(r)){for(var ft in a)G=a[ft],a.hasOwnProperty(ft)&&G!==void 0&&!l.hasOwnProperty(ft)&&Kd(t,r,ft,void 0,l,G);for($ in l)G=l[$],Y=a[$],!l.hasOwnProperty($)||G===Y||G===void 0&&Y===void 0||Kd(t,r,$,G,l,Y);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&ht(t,r,j,null,l,G);for(ee in l)G=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||G===Y||G==null&&Y==null||ht(t,r,ee,G,l,Y)}function ev(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&ev(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],H=O.startTime;if(H>S)break;var $=O.transferSize,ee=O.initiatorType;$&&ev(ee)&&(O=O.responseEnd,_+=$*(O<S?1:(S-H)/(O-H)))}if(--l,r+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Yd=null,Xd=null;function Uc(t){return t.nodeType===9?t:t.ownerDocument}function tv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function $d(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wd=null;function L1(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,P1=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,U1=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(t){return iv.resolve(null).then(t).catch(j1)}:rv;function j1(t){setTimeout(function(){throw t})}function Zi(t){return t==="head"}function sv(t,r){var a=r,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),to(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")xl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,xl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[Cr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&xl(t.ownerDocument.body);a=h}while(a);to(r)}function av(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Jd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jd(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function z1(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Cr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function B1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function ov(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Xn(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function q1(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var tm=null;function lv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Xn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function uv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function cv(t,r,a){switch(r=Uc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ya(t)}var $n=new Map,hv=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var pi=se.d;se.d={f:F1,r:H1,D:G1,C:Q1,L:K1,m:Y1,X:$1,S:X1,M:W1};function F1(){var t=pi.f(),r=Dc();return t||r}function H1(t){var r=jn(t);r!==null&&r.tag===5&&r.type==="form"?Iy(r):pi.r(t)}var Ja=typeof document>"u"?null:document;function fv(t,r,a){var l=Ja;if(l&&typeof r=="string"&&r){var h=yn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),hv.has(h)||(hv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),rn(r,"link",t),kt(r),l.head.appendChild(r)))}}function G1(t){pi.D(t),fv("dns-prefetch",t,null)}function Q1(t,r){pi.C(t,r),fv("preconnect",t,r)}function K1(t,r,a){pi.L(t,r,a);var l=Ja;if(l&&t&&r){var h='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yn(a.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var d=h;switch(r){case"style":d=Za(t);break;case"script":d=eo(t)}$n.has(d)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),$n.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Dl(d))||r==="script"&&l.querySelector(Ol(d))||(r=l.createElement("link"),rn(r,"link",t),kt(r),l.head.appendChild(r)))}}function Y1(t,r){pi.m(t,r);var a=Ja;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!$n.has(d)&&(t=b({rel:"modulepreload",href:t},r),$n.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),rn(l,"link",t),kt(l),a.head.appendChild(l)}}}function X1(t,r,a){pi.S(t,r,a);var l=Ja;if(l&&t){var h=xr(l).hoistableStyles,d=Za(t);r=r||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Dl(d)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=$n.get(d))&&nm(t,a);var O=_=l.createElement("link");kt(O),rn(O,"link",t),O._p=new Promise(function(H,$){O.onload=H,O.onerror=$}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,zc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function $1(t,r){pi.X(t,r);var a=Ja;if(a&&t){var l=xr(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=b({src:t,async:!0},r),(r=$n.get(h))&&rm(t,r),d=a.createElement("script"),kt(d),rn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function W1(t,r){pi.M(t,r);var a=Ja;if(a&&t){var l=xr(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=b({src:t,async:!0,type:"module"},r),(r=$n.get(h))&&rm(t,r),d=a.createElement("script"),kt(d),rn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function dv(t,r,a,l){var h=(h=Le.current)?jc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Za(a.href),a=xr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Za(a.href);var d=xr(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Dl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),d||J1(h,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=eo(a),a=xr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Za(t){return'href="'+yn(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function mv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function J1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),rn(r,"link",a),kt(r),t.head.appendChild(r))}function eo(t){return'[src="'+yn(t)+'"]'}function Ol(t){return"script[async]"+t}function pv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+yn(a.href)+'"]');if(l)return r.instance=l,kt(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),kt(l),rn(l,"style",h),zc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Za(a.href);var d=t.querySelector(Dl(h));if(d)return r.state.loading|=4,r.instance=d,kt(d),d;l=mv(a),(h=$n.get(h))&&nm(l,h),d=(t.ownerDocument||t).createElement("link"),kt(d);var _=d;return _._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),rn(d,"link",l),r.state.loading|=4,zc(d,a.precedence,t),r.instance=d;case"script":return d=eo(a.src),(h=t.querySelector(Ol(d)))?(r.instance=h,kt(h),h):(l=a,(h=$n.get(d))&&(l=b({},a),rm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),kt(h),rn(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,zc(l,a.precedence,t));return r.instance}function zc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===r)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function nm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function rm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Bc=null;function gv(t,r,a){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(a,l)}else h=Bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Cr]||d[Vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function yv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Z1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function _v(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function eA(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Za(l.href),d=r.querySelector(Dl(h));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=qc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,kt(d);return}d=r.ownerDocument||r,l=mv(l),(h=$n.get(h))&&nm(l,h),d=d.createElement("link"),kt(d);var _=d;_._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),rn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=qc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var im=0;function tA(t,r){return t.stylesheets&&t.count===0&&Hc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Hc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&im===0&&(im=62500*k1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Hc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>im?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fc=null;function Hc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fc=new Map,r.forEach(nA,t),Fc=null,qc.call(t))}function nA(t,r){if(!(r.state.loading&4)){var a=Fc.get(t);if(a)var l=a.get(null);else{a=new Map,Fc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=qc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Nl={$$typeof:re,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function rA(t,r,a,l,h,d,_,S,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.hiddenUpdates=wr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function vv(t,r,a,l,h,d,_,S,O,H,$,ee){return t=new rA(t,r,a,_,O,H,$,ee,S),r=1,d===!0&&(r|=24),d=xn(3,null,null,r),t.current=d,d.stateNode=t,r=Pf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Bf(d),t}function Ev(t){return t?(t=Oa,t):Oa}function Tv(t,r,a,l,h,d){h=Ev(h),l.context===null?l.context=h:l.pendingContext=h,l=qi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Fi(t,l,r),a!==null&&(Sn(a,t,r),cl(a,t,r))}function bv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function sm(t,r){bv(t,r),(t=t.alternate)&&bv(t,r)}function Sv(t){if(t.tag===13||t.tag===31){var r=Bs(t,67108864);r!==null&&Sn(r,t,67108864),sm(t,67108864)}}function Av(t){if(t.tag===13||t.tag===31){var r=Vn();r=xs(r);var a=Bs(t,r);a!==null&&Sn(a,t,r),sm(t,r)}}var Gc=!0;function iA(t,r,a,l){var h=B.T;B.T=null;var d=se.p;try{se.p=2,am(t,r,a,l)}finally{se.p=d,B.T=h}}function sA(t,r,a,l){var h=B.T;B.T=null;var d=se.p;try{se.p=8,am(t,r,a,l)}finally{se.p=d,B.T=h}}function am(t,r,a,l){if(Gc){var h=om(l);if(h===null)Qd(t,r,l,Qc,a),Rv(t,l);else if(oA(h,t,r,a,l))l.stopPropagation();else if(Rv(t,l),r&4&&-1<aA.indexOf(t)){for(;h!==null;){var d=jn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Sr(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var O=1<<31-It(_);S.entanglements[1]|=O,_&=~O}qr(d),(rt&6)===0&&(Ic=it()+500,Rl(0))}}break;case 31:case 13:S=Bs(d,2),S!==null&&Sn(S,d,2),Dc(),sm(d,2)}if(d=om(l),d===null&&Qd(t,r,l,Qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Qd(t,r,l,null,a)}}function om(t){return t=zn(t),lm(t)}var Qc=null;function lm(t){if(Qc=null,t=Ir(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Qc=t,null}function wv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ws()){case ko:return 2;case Lo:return 8;case Ci:case mf:return 32;case Au:return 268435456;default:return 32}default:return 32}}var um=!1,es=null,ts=null,ns=null,Ml=new Map,Vl=new Map,rs=[],aA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rv(t,r){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Ml.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(r.pointerId)}}function kl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=jn(r),r!==null&&Sv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function oA(t,r,a,l,h){switch(r){case"focusin":return es=kl(es,t,r,a,l,h),!0;case"dragenter":return ts=kl(ts,t,r,a,l,h),!0;case"mouseover":return ns=kl(ns,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ml.set(d,kl(Ml.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Vl.set(d,kl(Vl.get(d)||null,t,r,a,l,h)),!0}return!1}function Cv(t){var r=Ir(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,ir(t.priority,function(){Av(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,ir(t.priority,function(){Av(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Yo=l,a.target.dispatchEvent(l),Yo=null}else return r=jn(a),r!==null&&Sv(r),t.blockedOn=a,!1;r.shift()}return!0}function Iv(t,r,a){Kc(t)&&a.delete(r)}function lA(){um=!1,es!==null&&Kc(es)&&(es=null),ts!==null&&Kc(ts)&&(ts=null),ns!==null&&Kc(ns)&&(ns=null),Ml.forEach(Iv),Vl.forEach(Iv)}function Yc(t,r){t.blockedOn===r&&(t.blockedOn=null,um||(um=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,lA)))}var Xc=null;function xv(t){Xc!==t&&(Xc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Xc===t&&(Xc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(lm(l||a)===null)continue;break}var d=jn(a);d!==null&&(t.splice(r,3),r-=3,od(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function to(t){function r(O){return Yc(O,t)}es!==null&&Yc(es,t),ts!==null&&Yc(ts,t),ns!==null&&Yc(ns,t),Ml.forEach(r),Vl.forEach(r);for(var a=0;a<rs.length;a++){var l=rs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rs.length&&(a=rs[0],a.blockedOn===null);)Cv(a),a.blockedOn===null&&rs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Yt]||null;if(typeof d=="function")_||xv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Yt]||null)S=_.formAction;else if(lm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),xv(a)}}}function Dv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function cm(t){this._internalRoot=t}$c.prototype.render=cm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Vn();Tv(a,l,t,r,null,null)},$c.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Tv(t.current,2,null,t,null,null),Dc(),r[Rr]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var r=Du();t={blockedOn:null,target:t,priority:r};for(var a=0;a<rs.length&&r!==0&&r<rs[a].priority;a++);rs.splice(a,0,t),a===0&&Cv(t)}};var Ov=e.version;if(Ov!=="19.2.3")throw Error(s(527,Ov,"19.2.3"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var uA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{nr=Wc.inject(uA),Jt=Wc}catch{}}return Pl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Uy,d=jy,_=zy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=vv(t,1,!1,null,null,a,l,null,h,d,_,Dv),t[Rr]=r.current,Gd(t),new cm(r)},Pl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Uy,_=jy,S=zy,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=vv(t,1,!0,r,a??null,l,h,O,d,_,S,Dv),r.context=Ev(null),a=r.current,l=Vn(),l=xs(l),h=qi(l),h.callback=null,Fi(a,h,l),a=l,r.current.lanes=a,Cs(r,a),qr(r),t[Rr]=r.current,Gd(t),new $c(r)},Pl.version="19.2.3",Pl}var Bv;function vA(){if(Bv)return dm.exports;Bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),dm.exports=_A(),dm.exports}var EA=vA();var qv="popstate";function TA(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Nm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Jl(o)}return SA(e,n,null,i)}function At(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function er(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bA(){return Math.random().toString(36).substring(2,10)}function Fv(i,e){return{usr:i.state,key:i.key,idx:e}}function Nm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?bo(e):e,state:n,key:e&&e.key||s||bA()}}function Jl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function bo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function SA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function b(){m="POP";let P=T(),W=P==null?null:P-g;g=P,p&&p({action:m,location:Q.location,delta:W})}function I(P,W){m="PUSH";let X=Nm(Q.location,P,W);g=T()+1;let re=Fv(X,g),ve=Q.createHref(X);try{f.pushState(re,"",ve)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(ve)}u&&p&&p({action:m,location:Q.location,delta:1})}function U(P,W){m="REPLACE";let X=Nm(Q.location,P,W);g=T();let re=Fv(X,g),ve=Q.createHref(X);f.replaceState(re,"",ve),u&&p&&p({action:m,location:Q.location,delta:0})}function z(P){return AA(P)}let Q={get action(){return m},get location(){return i(o,f)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(qv,b),p=P,()=>{o.removeEventListener(qv,b),p=null}},createHref(P){return e(o,P)},createURL:z,encodeLocation(P){let W=z(P);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:I,replace:U,go(P){return f.go(P)}};return Q}function AA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),At(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Jl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function OE(i,e,n="/"){return wA(i,e,n,!1)}function wA(i,e,n,s){let o=typeof e=="string"?bo(e):e,u=Ti(o.pathname||"/",n);if(u==null)return null;let f=NE(i);RA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=PA(u);m=kA(f[p],g,s)}return m}function NE(i,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let T={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&p)return;At(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let b=_i([s,T.relativePath]),I=n.concat(T);f.children&&f.children.length>0&&(At(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),NE(f.children,e,I,b,p)),!(f.path==null&&!f.index)&&e.push({path:b,score:MA(b,f.index),routesMeta:I})};return i.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of ME(f.path))u(f,m,!0,p)}),e}function ME(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=ME(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function RA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:VA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var CA=/^:[\w-]+$/,IA=3,xA=2,DA=1,OA=10,NA=-2,Hv=i=>i==="*";function MA(i,e){let n=i.split("/"),s=n.length;return n.some(Hv)&&(s+=NA),e&&(s+=xA),n.filter(o=>!Hv(o)).reduce((o,u)=>o+(CA.test(u)?IA:u===""?DA:OA),s)}function VA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function kA(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),I=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:_i([u,b.pathname]),pathnameBase:BA(_i([u,b.pathnameBase])),route:I}),b.pathnameBase!=="/"&&(u=_i([u,b.pathnameBase]))}return f}function _h(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=LA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:b},I)=>{if(T==="*"){let z=m[I]||"";f=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const U=m[I];return b&&!U?g[T]=void 0:g[T]=(U||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function LA(i,e=!1,n=!0){er(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function PA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ti(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var VE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UA=i=>VE.test(i);function jA(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?bo(i):i,u;if(n)if(UA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),er(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Gv(n.substring(1),"/"):u=Gv(n,e)}else u=e;return{pathname:u,search:qA(s),hash:FA(o)}}function Gv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ym(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function up(i){let e=zA(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function cp(i,e,n,s=!1){let o;typeof i=="string"?o=bo(i):(o={...i},At(!o.pathname||!o.pathname.includes("?"),ym("?","pathname","search",o)),At(!o.pathname||!o.pathname.includes("#"),ym("#","pathname","hash",o)),At(!o.search||!o.search.includes("#"),ym("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),b-=1;o.pathname=I.join("/")}m=b>=0?e[b]:"/"}let p=jA(o,m),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var _i=i=>i.join("/").replace(/\/\/+/g,"/"),BA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),qA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,FA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,HA=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function GA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function QA(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var kE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function LE(i,e){let n=i;if(typeof n!="string"||!VE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(kE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Ti(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{er(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var PE=["POST","PUT","PATCH","DELETE"];new Set(PE);var KA=["GET",...PE];new Set(KA);var So=L.createContext(null);So.displayName="DataRouter";var zh=L.createContext(null);zh.displayName="DataRouterState";var YA=L.createContext(!1),UE=L.createContext({isTransitioning:!1});UE.displayName="ViewTransition";var XA=L.createContext(new Map);XA.displayName="Fetchers";var $A=L.createContext(null);$A.displayName="Await";var Pn=L.createContext(null);Pn.displayName="Navigation";var lu=L.createContext(null);lu.displayName="Location";var vr=L.createContext({outlet:null,matches:[],isDataRoute:!1});vr.displayName="Route";var hp=L.createContext(null);hp.displayName="RouteError";var jE="REACT_ROUTER_ERROR",WA="REDIRECT",JA="ROUTE_ERROR_RESPONSE";function ZA(i){if(i.startsWith(`${jE}:${WA}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ew(i){if(i.startsWith(`${jE}:${JA}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new HA(e.status,e.statusText,e.data)}catch{}}function tw(i,{relative:e}={}){At(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Pn),{hash:o,pathname:u,search:f}=uu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:_i([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Ao(){return L.useContext(lu)!=null}function tr(){return At(Ao(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(lu).location}var zE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BE(i){L.useContext(Pn).static||L.useLayoutEffect(i)}function fp(){let{isDataRoute:i}=L.useContext(vr);return i?gw():nw()}function nw(){At(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(So),{basename:e,navigator:n}=L.useContext(Pn),{matches:s}=L.useContext(vr),{pathname:o}=tr(),u=JSON.stringify(up(s)),f=L.useRef(!1);return BE(()=>{f.current=!0}),L.useCallback((p,g={})=>{if(er(f.current,zE),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=cp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:_i([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,i])}var rw=L.createContext(null);function iw(i){let e=L.useContext(vr).outlet;return L.useMemo(()=>e&&L.createElement(rw.Provider,{value:i},e),[e,i])}function uu(i,{relative:e}={}){let{matches:n}=L.useContext(vr),{pathname:s}=tr(),o=JSON.stringify(up(n));return L.useMemo(()=>cp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function sw(i,e){return qE(i,e)}function qE(i,e,n,s,o){At(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(Pn),{matches:f}=L.useContext(vr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let X=b&&b.path||"";HE(g,!b||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let I=tr(),U;if(e){let X=typeof e=="string"?bo(e):e;At(T==="/"||X.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${X.pathname}" was given in the \`location\` prop.`),U=X}else U=I;let z=U.pathname||"/",Q=z;if(T!=="/"){let X=T.replace(/^\//,"").split("/");Q="/"+z.replace(/^\//,"").split("/").slice(X.length).join("/")}let P=OE(i,{pathname:Q});er(b||P!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),er(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=cw(P&&P.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:_i([T,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?T:_i([T,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),f,n,s,o);return e&&W?L.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},W):W}function aw(){let i=pw(),e=GA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,f)}var ow=L.createElement(aw,null),FE=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=ew(i.digest);n&&(i=n)}let e=i!==void 0?L.createElement(vr.Provider,{value:this.props.routeContext},L.createElement(hp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?L.createElement(lw,{error:i},e):e}};FE.contextType=YA;var _m=new WeakMap;function lw({children:i,error:e}){let{basename:n}=L.useContext(Pn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=ZA(e.digest);if(s){let o=_m.get(e);if(o)throw o;let u=LE(s.location,n);if(kE&&!_m.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw _m.set(e,f),f}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function uw({routeContext:i,match:e,children:n}){let s=L.useContext(So);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(vr.Provider,{value:i},n)}function cw(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,f=n?.errors;if(f!=null){let T=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);At(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,p=-1;if(n)for(let T=0;T<u.length;T++){let b=u[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=T),b.route.id){let{loaderData:I,errors:U}=n,z=b.route.loader&&!I.hasOwnProperty(b.route.id)&&(!U||U[b.route.id]===void 0);if(b.route.lazy||z){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(T,b)=>{s(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:QA(n.matches),errorInfo:b})}:void 0;return u.reduceRight((T,b,I)=>{let U,z=!1,Q=null,P=null;n&&(U=f&&b.route.id?f[b.route.id]:void 0,Q=b.route.errorElement||ow,m&&(p<0&&I===0?(HE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,P=null):p===I&&(z=!0,P=b.route.hydrateFallbackElement||null)));let W=e.concat(u.slice(0,I+1)),X=()=>{let re;return U?re=Q:z?re=P:b.route.Component?re=L.createElement(b.route.Component,null):b.route.element?re=b.route.element:re=T,L.createElement(uw,{match:b,routeContext:{outlet:T,matches:W,isDataRoute:n!=null},children:re})};return n&&(b.route.ErrorBoundary||b.route.errorElement||I===0)?L.createElement(FE,{location:n.location,revalidation:n.revalidation,component:Q,error:U,children:X(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:g}):X()},null)}function dp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hw(i){let e=L.useContext(So);return At(e,dp(i)),e}function fw(i){let e=L.useContext(zh);return At(e,dp(i)),e}function dw(i){let e=L.useContext(vr);return At(e,dp(i)),e}function mp(i){let e=dw(i),n=e.matches[e.matches.length-1];return At(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function mw(){return mp("useRouteId")}function pw(){let i=L.useContext(hp),e=fw("useRouteError"),n=mp("useRouteError");return i!==void 0?i:e.errors?.[n]}function gw(){let{router:i}=hw("useNavigate"),e=mp("useNavigate"),n=L.useRef(!1);return BE(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{er(n.current,zE),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Qv={};function HE(i,e,n){!e&&!Qv[i]&&(Qv[i]=!0,er(!1,n))}L.memo(yw);function yw({routes:i,future:e,state:n,onError:s}){return qE(i,void 0,n,s,e)}function GE({to:i,replace:e,state:n,relative:s}){At(Ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(Pn);er(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(vr),{pathname:f}=tr(),m=fp(),p=cp(i,up(u),f,s==="path"),g=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function pp(i){return iw(i.context)}function kn(i){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _w({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){At(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=bo(n));let{pathname:g="/",search:T="",hash:b="",state:I=null,key:U="default"}=n,z=L.useMemo(()=>{let Q=Ti(g,m);return Q==null?null:{location:{pathname:Q,search:T,hash:b,state:I,key:U},navigationType:s}},[m,g,T,b,I,U,s]);return er(z!=null,`<Router basename="${m}"> is not able to match the URL "${g}${T}${b}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:L.createElement(Pn.Provider,{value:p},L.createElement(lu.Provider,{children:e,value:z}))}function vw({children:i,location:e}){return sw(Mm(i),e)}function Mm(i,e=[]){let n=[];return L.Children.forEach(i,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,Mm(s.props.children,u));return}At(s.type===kn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Mm(s.props.children,u)),n.push(f)}),n}var ah="get",oh="application/x-www-form-urlencoded";function Bh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function Ew(i){return Bh(i)&&i.tagName.toLowerCase()==="button"}function Tw(i){return Bh(i)&&i.tagName.toLowerCase()==="form"}function bw(i){return Bh(i)&&i.tagName.toLowerCase()==="input"}function Sw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Aw(i,e){return i.button===0&&(!e||e==="_self")&&!Sw(i)}var Jc=null;function ww(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var Rw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(i){return i!=null&&!Rw.has(i)?(er(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):i}function Cw(i,e){let n,s,o,u,f;if(Tw(i)){let m=i.getAttribute("action");s=m?Ti(m,e):null,n=i.getAttribute("method")||ah,o=vm(i.getAttribute("enctype"))||oh,u=new FormData(i)}else if(Ew(i)||bw(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ti(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||ah,o=vm(i.getAttribute("formenctype"))||vm(m.getAttribute("enctype"))||oh,u=new FormData(m,i),!ww()){let{name:g,type:T,value:b}=i;if(T==="image"){let I=g?`${g}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else g&&u.append(g,b)}}else{if(Bh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ah,s=null,o=oh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Iw(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ti(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function xw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Ow(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await xw(u,n);return f.links?f.links():[]}return[]}));return kw(s.flat(1).filter(Dw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Kv(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Nw(i,e,{includeHydrateFallback:n}={}){return Mw(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Mw(i){return[...new Set(i)]}function Vw(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function kw(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(Vw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function QE(){let i=L.useContext(So);return gp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Lw(){let i=L.useContext(zh);return gp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var yp=L.createContext(void 0);yp.displayName="FrameworkContext";function KE(){let i=L.useContext(yp);return gp(i,"You must render this element inside a <HydratedRouter> element"),i}function Pw(i,e){let n=L.useContext(yp),[s,o]=L.useState(!1),[u,f]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:b}=e,I=L.useRef(null);L.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Q=W=>{W.forEach(X=>{f(X.isIntersecting)})},P=new IntersectionObserver(Q,{threshold:.5});return I.current&&P.observe(I.current),()=>{P.disconnect()}}},[i]),L.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let U=()=>{o(!0)},z=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,I,{}]:[u,I,{onFocus:Ul(m,U),onBlur:Ul(p,z),onMouseEnter:Ul(g,U),onMouseLeave:Ul(T,z),onTouchStart:Ul(b,U)}]:[!1,I,{}]}function Ul(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Uw({page:i,...e}){let{router:n}=QE(),s=L.useMemo(()=>OE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?L.createElement(zw,{page:i,matches:s,...e}):null}function jw(i){let{manifest:e,routeModules:n}=KE(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return Ow(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function zw({page:i,matches:e,...n}){let s=tr(),{manifest:o,routeModules:u}=KE(),{basename:f}=QE(),{loaderData:m,matches:p}=Lw(),g=L.useMemo(()=>Kv(i,e,p,o,s,"data"),[i,e,p,o,s]),T=L.useMemo(()=>Kv(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=L.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let z=new Set,Q=!1;if(e.forEach(W=>{let X=o.routes[W.route.id];!X||!X.hasLoader||(!g.some(re=>re.route.id===W.route.id)&&W.route.id in m&&u[W.route.id]?.shouldRevalidate||X.hasClientLoader?Q=!0:z.add(W.route.id))}),z.size===0)return[];let P=Iw(i,f,"data");return Q&&z.size>0&&P.searchParams.set("_routes",e.filter(W=>z.has(W.route.id)).map(W=>W.route.id).join(",")),[P.pathname+P.search]},[f,m,s,o,g,e,i,u]),I=L.useMemo(()=>Nw(T,o),[T,o]),U=jw(T);return L.createElement(L.Fragment,null,b.map(z=>L.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),I.map(z=>L.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),U.map(({key:z,link:Q})=>L.createElement("link",{key:z,nonce:n.nonce,...Q})))}function Bw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qw&&(window.__reactRouterVersion="7.11.0")}catch{}function Fw({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=L.useRef();o.current==null&&(o.current=TA({window:s,v5Compat:!0}));let u=o.current,[f,m]=L.useState({action:u.action,location:u.location}),p=L.useCallback(g=>{n===!1?m(g):L.startTransition(()=>m(g))},[n]);return L.useLayoutEffect(()=>u.listen(p),[u,p]),L.createElement(_w,{basename:i,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var YE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hn=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:I,...U},z){let{basename:Q,unstable_useTransitions:P}=L.useContext(Pn),W=typeof g=="string"&&YE.test(g),X=LE(g,Q);g=X.to;let re=tw(g,{relative:o}),[ve,he,pe]=Pw(s,U),x=Kw(g,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:I,unstable_useTransitions:P});function w(N){e&&e(N),N.defaultPrevented||x(N)}let C=L.createElement("a",{...U,...pe,href:X.absoluteURL||re,onClick:X.isExternal||u?e:w,ref:Bw(z,he),target:p,"data-discover":!W&&n==="render"?"true":void 0});return ve&&!W?L.createElement(L.Fragment,null,C,L.createElement(Uw,{page:re})):C});hn.displayName="Link";var Hw=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},T){let b=uu(f,{relative:g.relative}),I=tr(),U=L.useContext(zh),{navigator:z,basename:Q}=L.useContext(Pn),P=U!=null&&Jw(b)&&m===!0,W=z.encodeLocation?z.encodeLocation(b).pathname:b.pathname,X=I.pathname,re=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(X=X.toLowerCase(),re=re?re.toLowerCase():null,W=W.toLowerCase()),re&&Q&&(re=Ti(re,Q)||re);const ve=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let he=X===W||!o&&X.startsWith(W)&&X.charAt(ve)==="/",pe=re!=null&&(re===W||!o&&re.startsWith(W)&&re.charAt(W.length)==="/"),x={isActive:he,isPending:pe,isTransitioning:P},w=he?e:void 0,C;typeof s=="function"?C=s(x):C=[s,he?"active":null,pe?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(x):u;return L.createElement(hn,{...g,"aria-current":w,className:C,ref:T,style:N,to:f,viewTransition:m},typeof p=="function"?p(x):p)});Hw.displayName="NavLink";var Gw=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=ah,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:I,...U},z)=>{let{unstable_useTransitions:Q}=L.useContext(Pn),P=$w(),W=Ww(m,{relative:g}),X=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&YE.test(m),ve=he=>{if(p&&p(he),he.defaultPrevented)return;he.preventDefault();let pe=he.nativeEvent.submitter,x=pe?.getAttribute("formmethod")||f,w=()=>P(pe||he.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:I});Q&&n!==!1?L.startTransition(()=>w()):w()};return L.createElement("form",{ref:z,method:X,action:W,onSubmit:s?p:ve,...U,"data-discover":!re&&i==="render"?"true":void 0})});Gw.displayName="Form";function Qw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XE(i){let e=L.useContext(So);return At(e,Qw(i)),e}function Kw(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=fp(),T=tr(),b=uu(i,{relative:u});return L.useCallback(I=>{if(Aw(I,e)){I.preventDefault();let U=n!==void 0?n:Jl(T)===Jl(b),z=()=>g(i,{replace:U,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?L.startTransition(()=>z()):z()}},[T,g,b,n,s,e,i,o,u,f,m,p])}var Yw=0,Xw=()=>`__${String(++Yw)}__`;function $w(){let{router:i}=XE("useSubmit"),{basename:e}=L.useContext(Pn),n=mw(),s=i.fetch,o=i.navigate;return L.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:T,body:b}=Cw(u,e);if(f.navigate===!1){let I=f.fetcherKey||Xw();await s(I,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:b,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:b,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function Ww(i,{relative:e}={}){let{basename:n}=L.useContext(Pn),s=L.useContext(vr);At(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(i||".",{relative:e})},f=tr();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:_i([n,u.pathname])),Jl(u)}function Jw(i,{relative:e}={}){let n=L.useContext(UE);At(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=XE("useViewTransitionState"),o=uu(i,{relative:e});if(!n.isTransitioning)return!1;let u=Ti(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Ti(n.nextLocation.pathname,s)||n.nextLocation.pathname;return _h(o.pathname,f)!=null||_h(o.pathname,u)!=null}const Zw=function(){},eR={is_logged_in:!1,is_auth_checked:!1,username:"",set_user_context:Zw},cu=L.createContext(eR),tR=()=>{};var Yv={};const $E=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},WE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let I=(m&15)<<2|g>>6,U=g&63;p||(U=64,f||(I=64)),s.push(n[T],n[b],n[I],n[U])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray($E(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):nR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new rR;const I=u<<2|m>>4;if(s.push(I),g!==64){const U=m<<4&240|g>>2;if(s.push(U),b!==64){const z=g<<6&192|b;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class rR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iR=function(i){const e=$E(i);return WE.encodeByteArray(e,!0)},vh=function(i){return iR(i).replace(/\./g,"")},JE=function(i){try{return WE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const aR=()=>sR().__FIREBASE_DEFAULTS__,oR=()=>{if(typeof process>"u"||typeof Yv>"u")return;const i=Yv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},lR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&JE(i[1]);return e&&JSON.parse(e)},qh=()=>{try{return tR()||aR()||oR()||lR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ZE=i=>qh()?.emulatorHosts?.[i],uR=i=>{const e=ZE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},eT=()=>qh()?.config,tT=i=>qh()?.[`_${i}`];class cR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function wo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nT(i){return(await fetch(i,{credentials:"include"})).ok}function hR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[vh(JSON.stringify(n)),vh(JSON.stringify(f)),""].join(".")}const Gl={};function fR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?i.emulator.push(e):i.prod.push(e);return i}function dR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Xv=!1;function rT(i,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||Gl[i]===e||Gl[i]||Xv)return;Gl[i]=e;function n(I){return`__firebase__banner__${I}`}const s="__firebase__banner",u=fR().prod.length>0;function f(){const I=document.getElementById(s);I&&I.remove()}function m(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,U){I.setAttribute("width","24"),I.setAttribute("id",U),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function g(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Xv=!0,f()},I}function T(I,U){I.setAttribute("id",U),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function b(){const I=dR(s),U=n("text"),z=document.getElementById(U)||document.createElement("span"),Q=n("learnmore"),P=document.getElementById(Q)||document.createElement("a"),W=n("preprendIcon"),X=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const re=I.element;m(re),T(P,Q);const ve=g();p(X,W),re.append(X,z,P,ve),document.body.appendChild(re)}u?(z.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function pR(){const i=qh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function _R(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vR(){const i=dn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function ER(){return!pR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TR(){try{return typeof indexedDB=="object"}catch{return!1}}function bR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const SR="FirebaseError";class Ri extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=SR,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?AR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ri(o,m,s)}}function AR(i,e){return i.replace(wR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const wR=/\{\$([^}]+)}/g;function RR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ys(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if($v(u)&&$v(f)){if(!ys(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function $v(i){return i!==null&&typeof i=="object"}function fu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function jl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function CR(i,e){const n=new IR(i,e);return n.subscribe.bind(n)}class IR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");xR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Em),o.error===void 0&&(o.error=Em),o.complete===void 0&&(o.complete=Em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Em(){}function gn(i){return i&&i._delegate?i._delegate:i}class ra{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class DR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new cR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NR(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OR(i){return i===ea?void 0:i}function NR(i){return i.instantiationMode==="EAGER"}class MR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ye;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ye||(Ye={}));const VR={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},kR=Ye.INFO,LR={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},PR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=LR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _p{constructor(e){this.name=e,this._logLevel=kR,this._logHandler=PR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const UR=(i,e)=>e.some(n=>i instanceof n);let Wv,Jv;function jR(){return Wv||(Wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zR(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iT=new WeakMap,Vm=new WeakMap,sT=new WeakMap,Tm=new WeakMap,vp=new WeakMap;function BR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(hs(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&iT.set(n,i)}).catch(()=>{}),vp.set(e,i),e}function qR(i){if(Vm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Vm.set(i,e)}let km={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Vm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||sT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function FR(i){km=i(km)}function HR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(bm(this),e,...n);return sT.set(s,e.sort?e.sort():[e]),hs(s)}:zR().includes(i)?function(...e){return i.apply(bm(this),e),hs(iT.get(this))}:function(...e){return hs(i.apply(bm(this),e))}}function GR(i){return typeof i=="function"?HR(i):(i instanceof IDBTransaction&&qR(i),UR(i,jR())?new Proxy(i,km):i)}function hs(i){if(i instanceof IDBRequest)return BR(i);if(Tm.has(i))return Tm.get(i);const e=GR(i);return e!==i&&(Tm.set(i,e),vp.set(e,i)),e}const bm=i=>vp.get(i);function QR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=hs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(hs(f.result),p.oldVersion,p.newVersion,hs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const KR=["get","getKey","getAll","getAllKeys","count"],YR=["put","add","delete","clear"],Sm=new Map;function Zv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=YR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||KR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Sm.set(e,u),u}FR(i=>({...i,get:(e,n,s)=>Zv(e,n)||i.get(e,n,s),has:(e,n)=>!!Zv(e,n)||i.has(e,n)}));class XR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($R(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function $R(i){return i.getComponent()?.type==="VERSION"}const Lm="@firebase/app",e0="0.14.6";const bi=new _p("@firebase/app"),WR="@firebase/app-compat",JR="@firebase/analytics-compat",ZR="@firebase/analytics",eC="@firebase/app-check-compat",tC="@firebase/app-check",nC="@firebase/auth",rC="@firebase/auth-compat",iC="@firebase/database",sC="@firebase/data-connect",aC="@firebase/database-compat",oC="@firebase/functions",lC="@firebase/functions-compat",uC="@firebase/installations",cC="@firebase/installations-compat",hC="@firebase/messaging",fC="@firebase/messaging-compat",dC="@firebase/performance",mC="@firebase/performance-compat",pC="@firebase/remote-config",gC="@firebase/remote-config-compat",yC="@firebase/storage",_C="@firebase/storage-compat",vC="@firebase/firestore",EC="@firebase/ai",TC="@firebase/firestore-compat",bC="firebase",SC="12.6.0";const Pm="[DEFAULT]",AC={[Lm]:"fire-core",[WR]:"fire-core-compat",[ZR]:"fire-analytics",[JR]:"fire-analytics-compat",[tC]:"fire-app-check",[eC]:"fire-app-check-compat",[nC]:"fire-auth",[rC]:"fire-auth-compat",[iC]:"fire-rtdb",[sC]:"fire-data-connect",[aC]:"fire-rtdb-compat",[oC]:"fire-fn",[lC]:"fire-fn-compat",[uC]:"fire-iid",[cC]:"fire-iid-compat",[hC]:"fire-fcm",[fC]:"fire-fcm-compat",[dC]:"fire-perf",[mC]:"fire-perf-compat",[pC]:"fire-rc",[gC]:"fire-rc-compat",[yC]:"fire-gcs",[_C]:"fire-gcs-compat",[vC]:"fire-fst",[TC]:"fire-fst-compat",[EC]:"fire-vertex","fire-js":"fire-js",[bC]:"fire-js-all"};const Eh=new Map,wC=new Map,Um=new Map;function t0(i,e){try{i.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function fo(i){const e=i.name;if(Um.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;Um.set(e,i);for(const n of Eh.values())t0(n,i);for(const n of wC.values())t0(n,i);return!0}function Ep(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function mr(i){return i==null?!1:i.settings!==void 0}const RC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new hu("app","Firebase",RC);class CC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}const Ro=SC;function aT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Pm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw fs.create("bad-app-name",{appName:String(o)});if(n||(n=eT()),!n)throw fs.create("no-options");const u=Eh.get(o);if(u){if(ys(n,u.options)&&ys(s,u.config))return u;throw fs.create("duplicate-app",{appName:o})}const f=new MR(o);for(const p of Um.values())f.addComponent(p);const m=new CC(n,s,f);return Eh.set(o,m),m}function oT(i=Pm){const e=Eh.get(i);if(!e&&i===Pm&&eT())return aT();if(!e)throw fs.create("no-app",{appName:i});return e}function ds(i,e,n){let s=AC[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(f.join(" "));return}fo(new ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const IC="firebase-heartbeat-database",xC=1,Zl="firebase-heartbeat-store";let Am=null;function lT(){return Am||(Am=QR(IC,xC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(i=>{throw fs.create("idb-open",{originalErrorMessage:i.message})})),Am}async function DC(i){try{const n=(await lT()).transaction(Zl),s=await n.objectStore(Zl).get(uT(i));return await n.done,s}catch(e){if(e instanceof Ri)bi.warn(e.message);else{const n=fs.create("idb-get",{originalErrorMessage:e?.message});bi.warn(n.message)}}}async function n0(i,e){try{const s=(await lT()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,uT(i)),await s.done}catch(n){if(n instanceof Ri)bi.warn(n.message);else{const s=fs.create("idb-set",{originalErrorMessage:n?.message});bi.warn(s.message)}}}function uT(i){return`${i.name}!${i.options.appId}`}const OC=1024,NC=30;class MC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=r0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>NC){const o=LC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=r0(),{heartbeatsToSend:n,unsentEntries:s}=VC(this._heartbeatsCache.heartbeats),o=vh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return bi.warn(e),""}}}function r0(){return new Date().toISOString().substring(0,10)}function VC(i,e=OC){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),i0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),i0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class kC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TR()?bR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function i0(i){return vh(JSON.stringify({version:2,heartbeats:i})).length}function LC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function PC(i){fo(new ra("platform-logger",e=>new XR(e),"PRIVATE")),fo(new ra("heartbeat",e=>new MC(e),"PRIVATE")),ds(Lm,e0,i),ds(Lm,e0,"esm2020"),ds("fire-js","")}PC("");var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ms,cT;(function(){var i;function e(x,w){function C(){}C.prototype=w.prototype,x.F=w.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(N,D,k){for(var R=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)R[ce-2]=arguments[ce];return w.prototype[D].apply(N,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,C){C||(C=0);const N=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)N[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)N[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=x.g[0],C=x.g[1],D=x.g[2];let k=x.g[3],R;R=w+(k^C&(D^k))+N[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+N[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+N[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+N[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+N[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+N[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+N[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+N[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+N[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+N[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+N[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+N[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+N[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+N[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+N[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+N[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(D^k&(C^D))+N[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+N[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+N[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+N[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+N[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+N[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+N[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+N[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+N[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+N[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+N[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+N[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+N[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+N[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+N[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+N[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(C^D^k)+N[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+N[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+N[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+N[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+N[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+N[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+N[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+N[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+N[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+N[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+N[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+N[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+N[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+N[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+N[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+N[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(D^(C|~k))+N[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+N[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+N[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+N[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+N[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+N[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+N[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+N[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+N[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+N[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+N[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+N[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+N[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+N[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+N[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+k&4294967295}s.prototype.v=function(x,w){w===void 0&&(w=x.length);const C=w-this.blockSize,N=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=C;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<w;)if(N[D++]=x.charCodeAt(k++),D==this.blockSize){o(this,N),D=0;break}}else for(;k<w;)if(N[D++]=x[k++],D==this.blockSize){o(this,N),D=0;break}}this.h=D,this.o+=w},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,C=0;C<4;++C)for(let N=0;N<32;N+=8)x[w++]=this.g[C]>>>N&255;return x};function u(x,w){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=w(x)}function f(x,w){this.h=w;const C=[];let N=!0;for(let D=x.length-1;D>=0;D--){const k=x[D]|0;N&&k==w||(C[D]=k,N=!1)}this.g=C}var m={};function p(x){return-128<=x&&x<128?u(x,function(w){return new f([w|0],w<0?-1:0)}):new f([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return b;if(x<0)return P(g(-x));const w=[];let C=1;for(let N=0;x>=C;N++)w[N]=x/C|0,C*=4294967296;return new f(w,0)}function T(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return P(T(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(w,8));let N=b;for(let k=0;k<x.length;k+=8){var D=Math.min(8,x.length-k);const R=parseInt(x.substring(k,k+D),w);D<8?(D=g(Math.pow(w,D)),N=N.j(D).add(g(R))):(N=N.j(C),N=N.add(g(R)))}return N}var b=p(0),I=p(1),U=p(16777216);i=f.prototype,i.m=function(){if(Q(this))return-P(this).m();let x=0,w=1;for(let C=0;C<this.g.length;C++){const N=this.i(C);x+=(N>=0?N:4294967296+N)*w,w*=4294967296}return x},i.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(z(this))return"0";if(Q(this))return"-"+P(this).toString(x);const w=g(Math.pow(x,6));var C=this;let N="";for(;;){const D=ve(C,w).g;C=W(C,D.j(w));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=D,z(C))return k+N;for(;k.length<6;)k="0"+k;N=k+N}},i.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function z(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function Q(x){return x.h==-1}i.l=function(x){return x=W(this,x),Q(x)?-1:z(x)?0:1};function P(x){const w=x.g.length,C=[];for(let N=0;N<w;N++)C[N]=~x.g[N];return new f(C,~x.h).add(I)}i.abs=function(){return Q(this)?P(this):this},i.add=function(x){const w=Math.max(this.g.length,x.g.length),C=[];let N=0;for(let D=0;D<=w;D++){let k=N+(this.i(D)&65535)+(x.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);N=R>>>16,k&=65535,R&=65535,C[D]=R<<16|k}return new f(C,C[C.length-1]&-2147483648?-1:0)};function W(x,w){return x.add(P(w))}i.j=function(x){if(z(this)||z(x))return b;if(Q(this))return Q(x)?P(this).j(P(x)):P(P(this).j(x));if(Q(x))return P(this.j(P(x)));if(this.l(U)<0&&x.l(U)<0)return g(this.m()*x.m());const w=this.g.length+x.g.length,C=[];for(var N=0;N<2*w;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(let D=0;D<x.g.length;D++){const k=this.i(N)>>>16,R=this.i(N)&65535,ce=x.i(D)>>>16,Me=x.i(D)&65535;C[2*N+2*D]+=R*Me,X(C,2*N+2*D),C[2*N+2*D+1]+=k*Me,X(C,2*N+2*D+1),C[2*N+2*D+1]+=R*ce,X(C,2*N+2*D+1),C[2*N+2*D+2]+=k*ce,X(C,2*N+2*D+2)}for(x=0;x<w;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=w;x<2*w;x++)C[x]=0;return new f(C,0)};function X(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function re(x,w){this.g=x,this.h=w}function ve(x,w){if(z(w))throw Error("division by zero");if(z(x))return new re(b,b);if(Q(x))return w=ve(P(x),w),new re(P(w.g),P(w.h));if(Q(w))return w=ve(x,P(w)),new re(P(w.g),w.h);if(x.g.length>30){if(Q(x)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var C=I,N=w;N.l(x)<=0;)C=he(C),N=he(N);var D=pe(C,1),k=pe(N,1);for(N=pe(N,2),C=pe(C,2);!z(N);){var R=k.add(N);R.l(x)<=0&&(D=D.add(C),k=R),N=pe(N,1),C=pe(C,1)}return w=W(x,D.j(w)),new re(D,w)}for(D=b;x.l(w)>=0;){for(C=Math.max(1,Math.floor(x.m()/w.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),k=g(C),R=k.j(w);Q(R)||R.l(x)>0;)C-=N,k=g(C),R=k.j(w);z(k)&&(k=I),D=D.add(k),x=W(x,R)}return new re(D,x)}i.B=function(x){return ve(this,x).h},i.and=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)&x.i(N);return new f(C,this.h&x.h)},i.or=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)|x.i(N);return new f(C,this.h|x.h)},i.xor=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)^x.i(N);return new f(C,this.h^x.h)};function he(x){const w=x.g.length+1,C=[];for(let N=0;N<w;N++)C[N]=x.i(N)<<1|x.i(N-1)>>>31;return new f(C,x.h)}function pe(x,w){const C=w>>5;w%=32;const N=x.g.length-C,D=[];for(let k=0;k<N;k++)D[k]=w>0?x.i(k+C)>>>w|x.i(k+C+1)<<32-w:x.i(k+C);return new f(D,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,cT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,ms=f}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hT,Bl,fT,lh,jm,dT,mT,pT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var q=c[A];if(!(q in v))break e;v=v[q]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function T(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,q,K){for(var le=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)le[Pe-2]=arguments[Pe];return y.prototype[q].apply(A,le)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function U(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function z(c,y){for(let A=1;A<arguments.length;A++){const q=arguments[A];var v=typeof q;if(v=v!="object"?v:q?Array.isArray(q)?"array":v:"null",v=="array"||v=="object"&&typeof q.length=="number"){v=c.length||0;const K=q.length||0;c.length=v+K;for(let le=0;le<K;le++)c[v+le]=q[le]}else c.push(q)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(c){f.setTimeout(()=>{throw c},0)}function W(){var c=x;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class X{constructor(){this.h=this.g=null}add(y,v){const A=re.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new Q(()=>new ve,c=>c.reset());class ve{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let he,pe=!1,x=new X,w=()=>{const c=Promise.resolve(void 0);he=()=>{c.then(C)}};function C(){for(var c;c=W();){try{c.h.call(c.g)}catch(v){P(v)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}pe=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function ce(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(ce,D),ce.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Me="closure_listenable_"+(Math.random()*1e6|0),B=0;function se(c,y,v,A,q){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=q,this.key=++B,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function De(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function qe(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function M(c){const y={};for(const v in c)y[v]=c[v];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(v in A)c[v]=A[v];for(let K=0;K<Z.length;K++)v=Z[K],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function fe(c){this.src=c,this.g={},this.h=0}fe.prototype.add=function(c,y,v,A,q){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const le=Le(c,y,A,q);return le>-1?(y=c[le],v||(y.fa=!1)):(y=new se(y,this.src,K,!!A,q),y.fa=v,c.push(y)),y};function we(c,y){const v=y.type;if(v in c.g){var A=c.g[v],q=Array.prototype.indexOf.call(A,y,void 0),K;(K=q>=0)&&Array.prototype.splice.call(A,q,1),K&&(ge(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Le(c,y,v,A){for(let q=0;q<c.length;++q){const K=c[q];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==A)return q}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Et={};function dt(c,y,v,A,q){if(Array.isArray(y)){for(let K=0;K<y.length;K++)dt(c,y[K],v,A,q);return null}return v=je(v),c&&c[Me]?c.J(y,v,m(A)?!!A.capture:!1,q):Er(c,y,v,!1,A,q)}function Er(c,y,v,A,q,K){if(!y)throw Error("Invalid event type");const le=m(q)?!!q.capture:!!q;let Pe=_e(c);if(Pe||(c[Fe]=Pe=new fe(c)),v=Pe.add(y,v,A,le,K),v.proxy)return v;if(A=Tr(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(q=le),q===void 0&&(q=!1),c.addEventListener(y.toString(),A,q);else if(c.attachEvent)c.attachEvent(ue(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Tr(){function c(v){return y.call(c.src,c.listener,v)}const y=Se;return c}function ie(c,y,v,A,q){if(Array.isArray(y))for(var K=0;K<y.length;K++)ie(c,y[K],v,A,q);else A=m(A)?!!A.capture:!!A,v=je(v),c&&c[Me]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],v=Le(y,v,A,q),v>-1&&(ge(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=_e(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Le(y,v,A,q)),(v=c>-1?y[c]:null)&&oe(v))}function oe(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Me])we(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(ue(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=_e(y))?(we(v,c),v.h==0&&(v.src=null,y[Fe]=null)):ge(c)}}}function ue(c){return c in Et?Et[c]:Et[c]="on"+c}function Se(c,y){if(c.da)c=!0;else{y=new ce(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&oe(c),c=v.call(A,y)}return c}function _e(c){return c=c[Fe],c instanceof fe?c:null}var Be="__closure_events_fn_"+(Math.random()*1e9>>>0);function je(c){return typeof c=="function"?c:(c[Be]||(c[Be]=function(y){return c.handleEvent(y)}),c[Be])}function xe(){N.call(this),this.i=new fe(this),this.M=this,this.G=null}b(xe,N),xe.prototype[Me]=!0,xe.prototype.removeEventListener=function(c,y,v,A){ie(this,c,y,v,A)};function Je(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var q=y;y=new D(A,c),ae(y,q)}q=!0;let K,le;if(v)for(le=v.length-1;le>=0;le--)K=y.g=v[le],q=Oe(K,A,!0,y)&&q;if(K=y.g=c,q=Oe(K,A,!0,y)&&q,q=Oe(K,A,!1,y)&&q,v)for(le=0;le<v.length;le++)K=y.g=v[le],q=Oe(K,A,!1,y)&&q}xe.prototype.N=function(){if(xe.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)ge(v[A]);delete c.g[y],c.h--}}this.G=null},xe.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},xe.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Oe(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let K=0;K<y.length;++K){const le=y[K];if(le&&!le.da&&le.capture==v){const Pe=le.listener,xt=le.ha||le.src;le.fa&&we(c.i,le),q=Pe.call(xt,A)!==!1&&q}}return q&&!A.defaultPrevented}function Tt(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Re(c){c.g=Tt(()=>{c.g=null,c.i&&(c.i=!1,Re(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class it extends N{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Re(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(c){N.call(this),this.h=c,this.g={}}b(ws,N);var ko=[];function Lo(c){De(c.g,function(y,v){this.g.hasOwnProperty(v)&&oe(y)},c),c.g={}}ws.prototype.N=function(){ws.Z.N.call(this),Lo(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ci=f.JSON.stringify,mf=f.JSON.parse,Au=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function wu(){}function Ru(){}var nr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){D.call(this,"d")}b(Jt,D);function Un(){D.call(this,"c")}b(Un,D);var It={},Cu=null;function pa(){return Cu=Cu||new xe}It.Ia="serverreachability";function Iu(c){D.call(this,It.Ia,c)}b(Iu,D);function br(c){const y=pa();Je(y,new Iu(y))}It.STAT_EVENT="statevent";function Rs(c,y){D.call(this,It.STAT_EVENT,c),this.stat=y}b(Rs,D);function Mt(c){const y=pa();Je(y,new Rs(y,c))}It.Ja="timingevent";function Sr(c,y){D.call(this,It.Ja,c),this.size=y}b(Sr,D);function Ar(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function rr(){this.g=!0}rr.prototype.ua=function(){this.g=!1};function pf(c,y,v,A,q,K){c.info(function(){if(c.g)if(K){var le="",Pe=K.split("&");for(let nt=0;nt<Pe.length;nt++){var xt=Pe[nt].split("=");if(xt.length>1){const bt=xt[0];xt=xt[1];const qn=bt.split("_");le=qn.length>=2&&qn[1]=="type"?le+(bt+"="+xt+"&"):le+(bt+"=redacted&")}}}else le=null;else le=K;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+v+`
`+le})}function xu(c,y,v,A,q,K,le){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+v+`
`+K+" "+le})}function wr(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+gf(c,v)+(A?" "+A:"")})}function Cs(c,y){c.info(function(){return"TIMEOUT: "+y})}rr.prototype.info=function(){};function gf(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var v=K[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let le=1;le<A.length;le++)A[le]=""}}}}return Ci(K)}catch{return y}}var Is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uo;function xs(){}b(xs,wu),xs.prototype.g=function(){return new XMLHttpRequest},Uo=new xs;function Wr(c){return encodeURIComponent(String(c))}function Du(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function ir(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new ws(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new sr}function sr(){this.i=null,this.g="",this.h=!1}var Vt={},Yt={};function Rr(c,y,v){c.M=1,c.A=Ds(Lt(y)),c.u=v,c.R=!0,ga(c,null)}function ga(c,y){c.F=Date.now(),Cr(c),c.B=Lt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ea(v.i,"t",A),c.C=0,v=c.j.L,c.h=new sr,c.g=Gu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new it(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(ko[0]=q.toString()),q=ko);for(let K=0;K<q.length;K++){const le=dt(v,q[K],A||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),br(),pf(c.i,c.v,c.B,c.l,c.S,c.u)}ir.prototype.ba=function(c){c=c.target;const y=this.O;y&&lr(c)==3?y.j():this.Y(c)},ir.prototype.Y=function(c){try{if(c==this.g)e:{const Pe=lr(this.g),xt=this.g.ya(),nt=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||Pe!=4||xt==7||(xt==8||nt<=0?br(3):br(2)),Ir(this);var y=this.g.ca();this.X=y;var v=yf(this);if(this.o=y==200,xu(this.i,this.v,this.B,this.l,this.S,Pe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var K=A;break t}}K=null}if(c=K)wr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xr(this,c);else{this.o=!1,this.m=3,Mt(12),Rn(this),jn(this);break e}}if(this.R){c=!0;let bt;for(;!this.K&&this.C<v.length;)if(bt=Nu(this,v),bt==Yt){Pe==4&&(this.m=4,Mt(14),c=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Vt){this.m=4,Mt(15),wr(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else wr(this.i,this.l,bt,null),xr(this,bt);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||v.length!=0||this.h.h||(this.m=1,Mt(16),c=!1),this.o=this.o&&c,!c)wr(this.i,this.l,v,"[Invalid Chunked Response]"),Rn(this),jn(this);else if(v.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Zo(le),le.P=!0,Mt(11))}}else wr(this.i,this.l,v,null),xr(this,v);Pe==4&&Rn(this),this.o&&!this.K&&(Pe==4?Bu(this.j,this):(this.o=!1,Cr(this)))}else Zr(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),Rn(this),jn(this)}}}catch{}};function yf(c){if(!Ou(c))return c.g.la();const y=Zt(c.g);if(y==="")return"";let v="";const A=y.length,q=lr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Rn(c),jn(c),"";c.h.i=new f.TextDecoder}for(let K=0;K<A;K++)c.h.h=!0,v+=c.h.i.decode(y[K],{stream:!(q&&K==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Ou(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Nu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Yt:(v=Number(y.substring(v,A)),isNaN(v)?Vt:(A+=1,A+v>y.length?Yt:(y=y.slice(A,A+v),c.C=A+v,y)))}ir.prototype.cancel=function(){this.K=!0,Rn(this)};function Cr(c){c.T=Date.now()+c.H,ya(c,c.H)}function ya(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ar(g(c.aa,c),y)}function Ir(c){c.D&&(f.clearTimeout(c.D),c.D=null)}ir.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Cs(this.i,this.B),this.M!=2&&(br(),Mt(17)),Rn(this),this.m=2,jn(this)):ya(this,this.T-c)};function jn(c){c.j.I==0||c.K||Bu(c.j,c)}function Rn(c){Ir(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Lo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function xr(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Or(v.h,c))){if(!c.L&&Or(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)wa(v),ki(v);else break e;Ps(v),Mt(18)}}else v.xa=q[1],0<v.xa-v.K&&q[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ar(g(v.Va,v),6e3));Dr(v.h)<=1&&v.ta&&(v.ta=void 0)}else Pr(v,11)}else if((c.L||v.g==c)&&wa(v),!R(y))for(q=v.Ba.g.parse(y),y=0;y<q.length;y++){let nt=q[y];const bt=nt[0];if(!(bt<=v.K))if(v.K=bt,nt=nt[1],v.I==2)if(nt[0]=="c"){v.M=nt[1],v.ba=nt[2];const qn=nt[3];qn!=null&&(v.ka=qn,v.j.info("VER="+v.ka));const Ur=nt[4];Ur!=null&&(v.za=Ur,v.j.info("SVER="+v.za));const ur=nt[5];ur!=null&&typeof ur=="number"&&ur>0&&(A=1.5*ur,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const cr=c.g;if(cr){const Us=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var K=A.h;K.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Bo(K,K.h),K.h=null))}if(A.G){const Ra=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(A.wa=Ra,at(A.J,A.G,Ra))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var le=c;if(A.na=Hu(A,A.L?A.ba:null,A.W),le.L){qo(A.h,le);var Pe=le,xt=A.O;xt&&(Pe.H=xt),Pe.D&&(Ir(Pe),Cr(Pe)),A.g=le}else ju(A);v.i.length>0&&Lr(v)}else nt[0]!="stop"&&nt[0]!="close"||Pr(v,7);else v.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Pr(v,7):Wo(v):nt[0]!="noop"&&v.l&&v.l.qa(nt),v.A=0)}}br(4)}catch{}}var kt=class{constructor(c,y){this.g=c,this.map=y}};function jo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Dr(c){return c.h?1:c.g?c.g.size:0}function Or(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Bo(c,y){c.g?c.g.add(y):c.h=y}function qo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}jo.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return U(c.i)}var Mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let q,K=null;A>=0?(q=c[v].substring(0,A),K=c[v].substring(A+1)):q=c[v],y(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Cn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Cn?(this.l=c.l,Xt(this,c.j),this.o=c.o,this.g=c.g,Ii(this,c.u),this.h=c.h,Ho(this,Pu(c.i)),this.m=c.m):c&&(y=String(c).match(Mu))?(this.l=!1,Xt(this,y[1]||"",!0),this.o=Nr(y[2]||""),this.g=Nr(y[3]||"",!0),Ii(this,y[4]),this.h=Nr(y[5]||"",!0),Ho(this,y[6]||"",!0),this.m=Nr(y[7]||"")):(this.l=!1,this.i=new Di(null,this.l))}Cn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Os(y,va,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Os(y,va,!0),"@"),c.push(Wr(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Os(v,v.charAt(0)=="/"?Go:Vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Os(v,ku)),c.join("")},Cn.prototype.resolve=function(c){const y=Lt(this);let v=!!c.j;v?Xt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)Ii(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=y.h.lastIndexOf("/");q!=-1&&(A=y.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let le=0;le<q.length;){const Pe=q[le++];Pe=="."?A&&le==q.length&&K.push(""):Pe==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&le==q.length&&K.push("")):(K.push(Pe),A=!0)}A=K.join("/")}else A=q}return v?y.h=A:v=c.i.toString()!=="",v?Ho(y,Pu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Lt(c){return new Cn(c)}function Xt(c,y,v){c.j=v?Nr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ii(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Ho(c,y,v){y instanceof Di?(c.i=y,Ta(c.i,c.l)):(v||(y=Os(y,xi)),c.i=new Di(y,c.l))}function at(c,y,v){c.i.set(y,v)}function Ds(c){return at(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Nr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Os(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,yn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var va=/[#\/\?@]/g,Vu=/[#\?:]/g,Go=/[#\?]/g,xi=/[#\?@]/g,ku=/#/g;function Di(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function _n(c){c.g||(c.g=new Map,c.h=0,c.i&&_a(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Di.prototype,i.add=function(c,y){_n(this),this.i=null,c=Oi(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Lu(c,y){_n(c),y=Oi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qo(c,y){return _n(c),y=Oi(c,y),c.g.has(y)}i.forEach=function(c,y){_n(this),this.g.forEach(function(v,A){v.forEach(function(q){c.call(y,q,A,this)},this)},this)};function Ko(c,y){_n(c);let v=[];if(typeof y=="string")Qo(c,y)&&(v=v.concat(c.g.get(Oi(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return _n(this),this.i=null,c=Oi(this,c),Qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Ko(this,c),c.length>0?String(c[0]):y):y};function Ea(c,y,v){Lu(c,y),v.length>0&&(c.i=null,c.g.set(Oi(c,y),U(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const q=Wr(v);v=Ko(this,v);for(let K=0;K<v.length;K++){let le=q;v[K]!==""&&(le+="="+Wr(v[K])),c.push(le)}}return this.i=c.join("&")};function Pu(c){const y=new Di;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Oi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ta(c,y){y&&!c.j&&(_n(c),c.i=null,c.g.forEach(function(v,A){const q=A.toLowerCase();A!=q&&(Lu(this,A),Ea(this,q,v))},c)),c.j=y}function ar(c,y){const v=new rr;if(f.Image){const A=new Image;A.onload=T(zn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=T(zn,v,"TestLoadImage: error",!1,y,A),A.onabort=T(zn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=T(zn,v,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Yo(c,y){const v=new rr,A=new AbortController,q=setTimeout(()=>{A.abort(),zn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(q),K.ok?zn(v,"TestPingServer: ok",!0,y):zn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),zn(v,"TestPingServer: error",!1,y)})}function zn(c,y,v,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(v)}catch{}}function Ni(){this.g=new Au}function Mr(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Mr,wu),Mr.prototype.g=function(){return new Ns(this.i,this.h)};function Ns(c,y){xe.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ns,xe),i=Ns.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,or(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Mi(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Mi(this):or(this),this.readyState==3&&ba(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Mi(this))},i.Na=function(c){this.g&&(this.response=c,Mi(this))},i.ga=function(){this.g&&Mi(this)};function Mi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,or(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function or(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bn(c){let y="";return De(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Ms(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Bn(v),typeof c=="string"?v!=null&&Wr(v):at(c,y,v))}function ut(c){xe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ut,xe);var Vr=/^https?$/i,Xo=["POST","PUT"];i=ut.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uo.g(),this.g.onreadystatechange=I(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Vs(this,K);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)v.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())v.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),q=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Xo,y,void 0)>=0)||A||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,le]of v)this.g.setRequestHeader(K,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Vs(this,K)}};function Vs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,$o(c),Jr(c)}function $o(c){c.A||(c.A=!0,Je(c,"complete"),Je(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Je(this,"complete"),Je(this,"abort"),Jr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jr(this,!0)),ut.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ks(this):this.Xa())},i.Xa=function(){ks(this)};function ks(c){if(c.h&&typeof u<"u"){if(c.v&&lr(c)==4)setTimeout(c.Ca.bind(c),0);else if(Je(c,"readystatechange"),lr(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=K===0){let le=String(c.D).match(Mu)[1]||null;!le&&f.self&&f.self.location&&(le=f.self.location.protocol.slice(0,-1)),A=!Vr.test(le?le.toLowerCase():"")}v=A}if(v)Je(c,"complete"),Je(c,"success");else{c.o=6;try{var q=lr(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",$o(c)}}finally{Jr(c)}}}}function Jr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Je(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function lr(c){return c.g?c.g.readyState:0}i.ca=function(){try{return lr(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),mf(y)}};function Zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Zr(c){const y={};c=(c.g&&lr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var v=Du(c[A]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[q]||[];y[q]=K,K.push(v)}qe(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function kr(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Vi(c){this.za=0,this.i=[],this.j=new rr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=kr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=kr("baseRetryDelayMs",5e3,c),this.Za=kr("retryDelaySeedMs",1e4,c),this.Ta=kr("forwardChannelMaxRetries",2,c),this.va=kr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new jo(c&&c.concurrentRequestLimit),this.Ba=new Ni,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Vi.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,A){Mt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Hu(this,null,this.W),Lr(this)};function Wo(c){if(Sa(c),c.I==3){var y=c.V++,v=Lt(c.J);if(at(v,"SID",c.M),at(v,"RID",y),at(v,"TYPE","terminate"),Ls(c,v),y=new ir(c,c.j,y),y.M=2,y.A=Ds(Lt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=Gu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Cr(y)}Fu(c)}function ki(c){c.g&&(Zo(c),c.g.cancel(),c.g=null)}function Sa(c){ki(c),c.v&&(f.clearTimeout(c.v),c.v=null),wa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Lr(c){if(!zo(c.h)&&!c.m){c.m=!0;var y=c.Ea;he||w(),pe||(he(),pe=!0),x.add(y,c),c.D=0}}function Aa(c,y){return Dr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ar(g(c.Ea,c,y),qu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new ir(this,this.j,c);let K=this.o;if(this.U&&(K?(K=M(K),ae(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Uu(this,q,y),v=Lt(this.J),at(v,"RID",c),at(v,"CVER",22),this.G&&at(v,"X-HTTP-Session-Id",this.G),Ls(this,v),K&&(this.R?y="headers="+Wr(Bn(K))+"&"+y:this.u&&Ms(v,this.u,K)),Bo(this.h,q),this.Ra&&at(v,"TYPE","init"),this.S?(at(v,"$req",y),at(v,"SID","null"),q.U=!0,Rr(q,v,null)):Rr(q,v,y),this.I=2}}else this.I==3&&(c?Jo(this,c):this.i.length==0||zo(this.h)||Jo(this))};function Jo(c,y){var v;y?v=y.l:v=c.V++;const A=Lt(c.J);at(A,"SID",c.M),at(A,"RID",v),at(A,"AID",c.K),Ls(c,A),c.u&&c.o&&Ms(A,c.u,c.o),v=new ir(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Uu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Bo(c.h,v),Rr(v,A,y)}function Ls(c,y){c.H&&De(c.H,function(v,A){at(y,A,v)}),c.l&&De({},function(v,A){at(y,A,v)})}function Uu(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var q=c.i;let Pe=-1;for(;;){const xt=["count="+v];Pe==-1?v>0?(Pe=q[0].g,xt.push("ofs="+Pe)):Pe=0:xt.push("ofs="+Pe);let nt=!0;for(let bt=0;bt<v;bt++){var K=q[bt].g;const qn=q[bt].map;if(K-=Pe,K<0)Pe=Math.max(0,q[bt].g-100),nt=!1;else try{K="req"+K+"_"||"";try{var le=qn instanceof Map?qn:Object.entries(qn);for(const[Ur,ur]of le){let cr=ur;m(ur)&&(cr=Ci(ur)),xt.push(K+Ur+"="+encodeURIComponent(cr))}}catch(Ur){throw xt.push(K+"type="+encodeURIComponent("_badmap")),Ur}}catch{A&&A(qn)}}if(nt){le=xt.join("&");break e}}le=void 0}return c=c.i.splice(0,v),y.G=c,le}function ju(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;he||w(),pe||(he(),pe=!0),x.add(y,c),c.A=0}}function Ps(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ar(g(c.Da,c),qu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ar(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),ki(this),zu(this))};function Zo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function zu(c){c.g=new ir(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Lt(c.na);at(y,"RID","rpc"),at(y,"SID",c.M),at(y,"AID",c.K),at(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&at(y,"TO",c.ia),at(y,"TYPE","xmlhttp"),Ls(c,y),c.u&&c.o&&Ms(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ds(Lt(y)),v.u=null,v.R=!0,ga(v,c)}i.Va=function(){this.C!=null&&(this.C=null,ki(this),Ps(this),Mt(19))};function wa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Bu(c,y){var v=null;if(c.g==y){wa(c),Zo(c),c.g=null;var A=2}else if(Or(c.h,y))v=y.G,qo(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;A=pa(),Je(A,new Sr(A,v)),Lr(c)}else ju(c);else if(q=y.m,q==3||q==0&&y.X>0||!(A==1&&Aa(c,y)||A==2&&Ps(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),q){case 1:Pr(c,5);break;case 4:Pr(c,10);break;case 3:Pr(c,6);break;default:Pr(c,2)}}}function qu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Pr(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const q=!A;A=new Cn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Xt(A,"https"),Ds(A),q?ar(A.toString(),v):Yo(A.toString(),v)}else Mt(2);c.I=0,c.l&&c.l.pa(y),Fu(c),Sa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Fu(c){if(c.I=0,c.ja=[],c.l){const y=Fo(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ja,y),z(c.ja,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.oa()}}function Hu(c,y,v){var A=v instanceof Cn?Lt(v):new Cn(v);if(A.g!="")y&&(A.g=y+"."+A.g),Ii(A,A.u);else{var q=f.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const K=new Cn(null);A&&Xt(K,A),y&&(K.g=y),q&&Ii(K,q),v&&(K.h=v),A=K}return v=c.G,y=c.wa,v&&y&&at(A,v,y),at(A,"VER",c.ka),Ls(c,A),A}function Gu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new ut(new Mr({ab:v})):new ut(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}i=Qu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Li(){}Li.prototype.g=function(c,y){return new mn(c,y)};function mn(c,y){xe.call(this),this.g=new Vi(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!R(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ei(this)}b(mn,xe),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Wo(this.g)},mn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Ci(c),c=v);y.i.push(new kt(y.Ya++,c)),y.I==3&&Lr(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,mn.Z.N.call(this)};function Ku(c){Jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Ku,Jt);function Yu(){Un.call(this),this.status=1}b(Yu,Un);function ei(c){this.g=c}b(ei,Qu),ei.prototype.ra=function(){Je(this.g,"a")},ei.prototype.qa=function(c){Je(this.g,new Ku(c))},ei.prototype.pa=function(c){Je(this.g,new Yu)},ei.prototype.oa=function(){Je(this.g,"b")},Li.prototype.createWebChannel=Li.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,pT=function(){return new Li},mT=function(){return pa()},dT=It,jm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,lh=Is,Po.COMPLETE="complete",fT=Po,Ru.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",xe.prototype.listen=xe.prototype.J,Bl=Ru,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,hT=ut}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const a0="@firebase/firestore",o0="4.9.3";class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Co="12.7.0";const ia=new _p("@firebase/firestore");function no(){return ia.logLevel}function me(i,...e){if(ia.logLevel<=Ye.DEBUG){const n=e.map(Tp);ia.debug(`Firestore (${Co}): ${i}`,...n)}}function Si(i,...e){if(ia.logLevel<=Ye.ERROR){const n=e.map(Tp);ia.error(`Firestore (${Co}): ${i}`,...n)}}function mo(i,...e){if(ia.logLevel<=Ye.WARN){const n=e.map(Tp);ia.warn(`Firestore (${Co}): ${i}`,...n)}}function Tp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ie(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,gT(i,s,n)}function gT(i,e,n){let s=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Si(s),new Error(s)}function st(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||gT(e,o,s)}function ke(i,e){return i}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class yT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cn.UNAUTHENTICATED)))}shutdown(){}}class jC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zC{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vi,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vi)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st(typeof s.accessToken=="string",31837,{l:s}),new yT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class BC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new BC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class l0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new l0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new l0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function HC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class bp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=HC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Xe(i,e){return i<e?-1:i>e?1:0}function zm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return wm(o)===wm(u)?Xe(o,u):wm(o)?1:-1}return Xe(i.length,e.length)}const GC=55296,QC=57343;function wm(i){const e=i.charCodeAt(0);return e>=GC&&e<=QC}function po(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const u0="__name__";class Fr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ie(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Fr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Xe(e.length,n.length)}static compareSegments(e,n){const s=Fr.isNumericId(e),o=Fr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Fr.extractNumericId(e).compare(Fr.extractNumericId(n)):zm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ms.fromString(e.substring(4,e.length-2))}}class pt extends Fr{construct(e,n,s){return new pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new pt(n)}static emptyPath(){return new pt([])}}const KC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Fr{construct(e,n,s){return new an(e,n,s)}static isValidIdentifier(e){return KC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u0}static keyField(){return new an([u0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(pt.fromString(e))}static fromName(e){return new be(pt.fromString(e).popFirst(5))}static empty(){return new be(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new pt(e.slice()))}}function _T(i,e,n){if(!n)throw new de(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function YC(i,e,n,s){if(e===!0&&s===!0)throw new de(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function c0(i){if(!be.isDocumentKey(i))throw new de(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function h0(i){if(be.isDocumentKey(i))throw new de(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function vT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Fh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ie(12329,{type:typeof i})}function sa(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(i);throw new de(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ht(i,e){const n={typeString:i};return e&&(n.value=e),n}function du(i,e){if(!vT(i))throw new de(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new de(te.INVALID_ARGUMENT,n);return!0}const f0=-62135596800,d0=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*d0);return new vt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<f0)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/d0}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-f0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:Ht("string",vt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new vt(0,0))}static max(){return new Ne(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const eu=-1;function XC(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(s===1e9?new vt(n+1,0):new vt(n,s));return new _s(o,be.empty(),e)}function $C(i){return new _s(i.readTime,i.key,eu)}class _s{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new _s(Ne.min(),be.empty(),eu)}static max(){return new _s(Ne.max(),be.empty(),eu)}}function WC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(i.documentKey,e.documentKey),n!==0?n:Xe(i.largestBatchId,e.largestBatchId))}const JC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Io(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==JC)throw i;me("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((T=>{f[g]=T,++m,m===u&&s(f)}),(T=>o(T)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function eI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xo(i){return i.name==="IndexedDbTransactionError"}class Hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hh.ce=-1;const Sp=-1;function Gh(i){return i==null}function Th(i){return i===0&&1/i==-1/0}function tI(i){return typeof i=="number"&&Number.isInteger(i)&&!Th(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const ET="";function nI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=m0(e)),e=rI(i.get(n),e);return m0(e)}function rI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case ET:n+="";break;default:n+=u}}return n}function m0(i){return i+ET+""}function p0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function la(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function TT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class wt{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??sn.RED,this.left=o??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new sn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new g0(this.data.getIterator())}getIteratorFrom(e){return new g0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class g0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pr{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new pr([])}unionWith(e){let n=new Kt(an.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class bT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new bT("Invalid base64 string: "+u):u}})(e);return new on(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const iI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(i){if(st(!!i,39018),typeof i=="string"){let e=0;const n=iI.exec(i);if(st(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Nt(i.seconds),nanos:Nt(i.nanos)}}function Nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Es(i){return typeof i=="string"?on.fromBase64String(i):on.fromUint8Array(i)}const ST="server_timestamp",AT="__type__",wT="__previous_value__",RT="__local_write_time__";function Ap(i){return(i?.mapValue?.fields||{})[AT]?.stringValue===ST}function Qh(i){const e=i.mapValue.fields[wT];return Ap(e)?Qh(e):e}function tu(i){const e=vs(i.mapValue.fields[RT].timestampValue);return new vt(e.seconds,e.nanos)}class sI{constructor(e,n,s,o,u,f,m,p,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const bh="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}const CT="__type__",aI="__max__",th={mapValue:{}},IT="__vector__",Sh="value";function Ts(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ap(i)?4:lI(i)?9007199254740991:oI(i)?10:11:Ie(28295,{value:i})}function $r(i,e){if(i===e)return!0;const n=Ts(i);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return tu(i).isEqual(tu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=vs(o.timestampValue),m=vs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Es(o.bytesValue).isEqual(Es(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Nt(o.geoPointValue.latitude)===Nt(u.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Nt(o.integerValue)===Nt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Nt(o.doubleValue),m=Nt(u.doubleValue);return f===m?Th(f)===Th(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return po(i.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(p0(f)!==p0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!$r(f[p],m[p])))return!1;return!0})(i,e);default:return Ie(52216,{left:i})}}function ru(i,e){return(i.values||[]).find((n=>$r(n,e)))!==void 0}function go(i,e){if(i===e)return 0;const n=Ts(i),s=Ts(e);if(n!==s)return Xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Nt(u.integerValue||u.doubleValue),p=Nt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return y0(i.timestampValue,e.timestampValue);case 4:return y0(tu(i),tu(e));case 5:return zm(i.stringValue,e.stringValue);case 6:return(function(u,f){const m=Es(u),p=Es(f);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=Xe(m[g],p[g]);if(T!==0)return T}return Xe(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Xe(Nt(u.latitude),Nt(f.latitude));return m!==0?m:Xe(Nt(u.longitude),Nt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return _0(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Sh]?.arrayValue,T=p[Sh]?.arrayValue,b=Xe(g?.values?.length||0,T?.values?.length||0);return b!==0?b:_0(g,T)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===th.mapValue&&f===th.mapValue)return 0;if(u===th.mapValue)return 1;if(f===th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const I=zm(p[b],T[b]);if(I!==0)return I;const U=go(m[p[b]],g[T[b]]);if(U!==0)return U}return Xe(p.length,T.length)})(i.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function y0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Xe(i,e);const n=vs(i),s=vs(e),o=Xe(n.seconds,s.seconds);return o!==0?o:Xe(n.nanos,s.nanos)}function _0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=go(n[o],s[o]);if(u)return u}return Xe(n.length,s.length)}function yo(i){return Bm(i)}function Bm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=vs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Es(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return be.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Bm(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Bm(n.fields[f])}`;return o+"}"})(i.mapValue):Ie(61005,{value:i})}function uh(i){switch(Ts(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(i);return e?16+uh(e):16;case 5:return 2*i.stringValue.length;case 6:return Es(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+uh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return la(s.fields,((u,f)=>{o+=u.length+uh(f)})),o})(i.mapValue);default:throw Ie(13486,{value:i})}}function v0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function qm(i){return!!i&&"integerValue"in i}function wp(i){return!!i&&"arrayValue"in i}function E0(i){return!!i&&"nullValue"in i}function T0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ch(i){return!!i&&"mapValue"in i}function oI(i){return(i?.mapValue?.fields||{})[CT]?.stringValue===IT}function Ql(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return la(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ql(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(i.arrayValue.values[n]);return e}return{...i}}function lI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===aI}class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=an.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ql(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){la(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Wn(Ql(this.value))}}function xT(i){const e=[];return la(i.fields,((n,s)=>{const o=new an([n]);if(ch(s)){const u=xT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new pr(e)}class fn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,Ne.min(),Ne.min(),Ne.min(),Wn.empty(),0)}static newFoundDocument(e,n,s,o){return new fn(e,1,n,Ne.min(),s,o,0)}static newNoDocument(e,n){return new fn(e,2,n,Ne.min(),Ne.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Ne.min(),Ne.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function b0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=be.comparator(be.fromName(f.referenceValue),n.key):s=go(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function S0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!$r(i.position[n],e.position[n]))return!1;return!0}class wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function uI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class DT{}class Ft extends DT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new hI(e,n,s):n==="array-contains"?new mI(e,s):n==="in"?new pI(e,s):n==="not-in"?new gI(e,s):n==="array-contains-any"?new yI(e,s):new Ft(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new fI(e,s):new dI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends DT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yr(e,n)}matches(e){return OT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OT(i){return i.op==="and"}function NT(i){return cI(i)&&OT(i)}function cI(i){for(const e of i.filters)if(e instanceof yr)return!1;return!0}function Fm(i){if(i instanceof Ft)return i.field.canonicalString()+i.op.toString()+yo(i.value);if(NT(i))return i.filters.map((e=>Fm(e))).join(",");{const e=i.filters.map((n=>Fm(n))).join(",");return`${i.op}(${e})`}}function MT(i,e){return i instanceof Ft?(function(s,o){return o instanceof Ft&&s.op===o.op&&s.field.isEqual(o.field)&&$r(s.value,o.value)})(i,e):i instanceof yr?(function(s,o){return o instanceof yr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&MT(f,o.filters[m])),!0):!1})(i,e):void Ie(19439)}function VT(i){return i instanceof Ft?(function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`})(i):i instanceof yr?(function(n){return n.op.toString()+" {"+n.getFilters().map(VT).join(" ,")+"}"})(i):"Filter"}class hI extends Ft{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class fI extends Ft{constructor(e,n){super(e,"in",n),this.keys=kT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class dI extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=kT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kT(i,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class mI extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wp(n)&&ru(n.arrayValue,this.value)}}class pI extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class gI extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class yI extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}class _I{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function A0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new _I(i,e,n,s,o,u,f)}function Rp(i){const e=ke(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Fm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>yo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>yo(s))).join(",")),e.Te=n}return e.Te}function Cp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!uI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!MT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!S0(i.startAt,e.startAt)&&S0(i.endAt,e.endAt)}function Hm(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class mu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vI(i,e,n,s,o,u,f,m){return new mu(i,e,n,s,o,u,f,m)}function Ip(i){return new mu(i)}function w0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function LT(i){return i.collectionGroup!==null}function Kl(i){const e=ke(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Kt(an.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new wh(u,s))})),n.has(an.keyField().canonicalString())||e.Ie.push(new wh(an.keyField(),s))}return e.Ie}function Hr(i){const e=ke(i);return e.Ee||(e.Ee=EI(e,Kl(i))),e.Ee}function EI(i,e){if(i.limitType==="F")return A0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new wh(o.field,u)}));const n=i.endAt?new Ah(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ah(i.startAt.position,i.startAt.inclusive):null;return A0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Gm(i,e){const n=i.filters.concat([e]);return new mu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Qm(i,e,n){return new mu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Kh(i,e){return Cp(Hr(i),Hr(e))&&i.limitType===e.limitType}function PT(i){return`${Rp(Hr(i))}|lt:${i.limitType}`}function ro(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>VT(o))).join(", ")}]`),Gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>yo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>yo(o))).join(",")),`Target(${s})`})(Hr(i))}; limitType=${i.limitType})`}function Yh(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):be.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=b0(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Kl(s),o)||s.endAt&&!(function(f,m,p){const g=b0(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Kl(s),o))})(i,e)}function TI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function UT(i){return(e,n)=>{let s=!1;for(const o of Kl(i)){const u=bI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function bI(i,e,n){const s=i.field.isKeyField()?be.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?go(p,g):Ie(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:i.dir})}}class ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return TT(this.inner)}size(){return this.innerSize}}const SI=new wt(be.comparator);function Ai(){return SI}const jT=new wt(be.comparator);function ql(...i){let e=jT;for(const n of i)e=e.insert(n.key,n);return e}function zT(i){let e=jT;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ta(){return Yl()}function BT(){return Yl()}function Yl(){return new ua((i=>i.toString()),((i,e)=>i.isEqual(e)))}const AI=new wt(be.comparator),wI=new Kt(be.comparator);function $e(...i){let e=wI;for(const n of i)e=e.add(n);return e}const RI=new Kt(Xe);function CI(){return RI}function xp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function qT(i){return{integerValue:""+i}}function II(i,e){return tI(e)?qT(e):xp(i,e)}class Xh{constructor(){this._=void 0}}function xI(i,e,n){return i instanceof Rh?(function(o,u){const f={fields:{[AT]:{stringValue:ST},[RT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ap(u)&&(u=Qh(u)),u&&(f.fields[wT]=u),{mapValue:f}})(n,e):i instanceof _o?HT(i,e):i instanceof iu?GT(i,e):(function(o,u){const f=FT(o,u),m=R0(f)+R0(o.Ae);return qm(f)&&qm(o.Ae)?qT(m):xp(o.serializer,m)})(i,e)}function DI(i,e,n){return i instanceof _o?HT(i,e):i instanceof iu?GT(i,e):n}function FT(i,e){return i instanceof Ch?(function(s){return qm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Rh extends Xh{}class _o extends Xh{constructor(e){super(),this.elements=e}}function HT(i,e){const n=QT(e);for(const s of i.elements)n.some((o=>$r(o,s)))||n.push(s);return{arrayValue:{values:n}}}class iu extends Xh{constructor(e){super(),this.elements=e}}function GT(i,e){let n=QT(e);for(const s of i.elements)n=n.filter((o=>!$r(o,s)));return{arrayValue:{values:n}}}class Ch extends Xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function R0(i){return Nt(i.integerValue||i.doubleValue)}function QT(i){return wp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class OI{constructor(e,n){this.field=e,this.transform=n}}function NI(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof _o&&o instanceof _o||s instanceof iu&&o instanceof iu?po(s.elements,o.elements,$r):s instanceof Ch&&o instanceof Ch?$r(s.Ae,o.Ae):s instanceof Rh&&o instanceof Rh})(i.transform,e.transform)}class MI{constructor(e,n){this.version=e,this.transformResults=n}}class Ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class $h{}function KT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new XT(i.key,Ei.none()):new pu(i.key,i.data,Ei.none());{const n=i.data,s=Wn.empty();let o=new Kt(an.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ca(i.key,s,new pr(o.toArray()),Ei.none())}}function VI(i,e,n){i instanceof pu?(function(o,u,f){const m=o.value.clone(),p=I0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,n):i instanceof ca?(function(o,u,f){if(!hh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=I0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(YT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Xl(i,e,n,s){return i instanceof pu?(function(u,f,m,p){if(!hh(u.precondition,f))return m;const g=u.value.clone(),T=x0(u.fieldTransforms,p,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof ca?(function(u,f,m,p){if(!hh(u.precondition,f))return m;const g=x0(u.fieldTransforms,p,f),T=f.data;return T.setAll(YT(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,n,s):(function(u,f,m){return hh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,n)}function kI(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=FT(s.transform,o||null);u!=null&&(n===null&&(n=Wn.empty()),n.set(s.field,u))}return n||null}function C0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,((u,f)=>NI(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class pu extends $h{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ca extends $h{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function YT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function I0(i,e,n){const s=new Map;st(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,DI(f,m,n[o]))}return s}function x0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,xI(u,f,e))}return s}class XT extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LI extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&VI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=BT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=KT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((n,s)=>C0(n,s)))&&po(this.baseMutations,e.baseMutations,((n,s)=>C0(n,s)))}}class Dp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){st(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return AI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Dp(e,n,s,o)}}class UI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Bt,Ze;function zI(i){switch(i){case te.OK:return Ie(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ie(15467,{code:i})}}function $T(i){if(i===void 0)return Si("GRPC error has no .code"),te.UNKNOWN;switch(i){case Bt.OK:return te.OK;case Bt.CANCELLED:return te.CANCELLED;case Bt.UNKNOWN:return te.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return te.INTERNAL;case Bt.UNAVAILABLE:return te.UNAVAILABLE;case Bt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Bt.NOT_FOUND:return te.NOT_FOUND;case Bt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Bt.ABORTED:return te.ABORTED;case Bt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Bt.DATA_LOSS:return te.DATA_LOSS;default:return Ie(39323,{code:i})}}(Ze=Bt||(Bt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function BI(){return new TextEncoder}const qI=new ms([4294967295,4294967295],0);function D0(i){const e=BI().encode(i),n=new cT;return n.update(e),new Uint8Array(n.digest())}function O0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ms([n,s],0),new ms([o,u],0)]}class Op{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ms.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ms.fromNumber(s)));return o.compare(qI)===1&&(o=new ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=D0(e),[s,o]=O0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Op(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=D0(e),[s,o]=O0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Wh(Ne.min(),o,new wt(Xe),Ai(),$e())}}class gu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new gu(s,n,$e(),$e(),$e())}}class fh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class WT{constructor(e,n){this.targetId=e,this.Ce=n}}class JT{constructor(e,n,s=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class N0{constructor(){this.ve=0,this.Fe=M0(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),s=$e();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ie(38017,{changeType:u})}})),new gu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=M0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ai(),this.Je=nh(),this.He=nh(),this.Ye=new wt(Xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Hm(u))if(s===0){const f=new be(u.path);this.et(n,f,fn.newNoDocument(f,Ne.min()))}else st(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Es(s).toUint8Array()}catch(p){if(p instanceof bT)return mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Op(f,o,u)}catch(p){return mo(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Hm(m.target)){const p=new be(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,fn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=$e();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Wh(e,n,this.Ye,this.je,s);return this.je=Ai(),this.Je=nh(),this.He=nh(),this.Ye=new wt(Xe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new N0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Kt(Xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Kt(Xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new N0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nh(){return new wt(be.comparator)}function M0(){return new wt(be.comparator)}const HI={asc:"ASCENDING",desc:"DESCENDING"},GI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QI={and:"AND",or:"OR"};class KI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(i,e){return i.useProto3Json||Gh(e)?e:{value:e}}function Ih(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function YI(i,e){return Ih(i,e.toTimestamp())}function Gr(i){return st(!!i,49232),Ne.fromTimestamp((function(n){const s=vs(n);return new vt(s.seconds,s.nanos)})(i))}function Np(i,e){return Ym(i,e).canonicalString()}function Ym(i,e){const n=(function(o){return new pt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function eb(i){const e=pt.fromString(i);return st(sb(e),10190,{key:e.toString()}),e}function Xm(i,e){return Np(i.databaseId,e.path)}function Rm(i,e){const n=eb(e);if(n.get(1)!==i.databaseId.projectId)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new be(nb(n))}function tb(i,e){return Np(i.databaseId,e)}function XI(i){const e=eb(i);return e.length===4?pt.emptyPath():nb(e)}function $m(i){return new pt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function nb(i){return st(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function V0(i,e,n){return{name:Xm(i,e),fields:n.value.mapValue.fields}}function $I(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?(st(T===void 0||typeof T=="string",58123),on.fromBase64String(T||"")):(st(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),on.fromUint8Array(T||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const T=g.code===void 0?te.UNKNOWN:$T(g.code);return new de(T,g.message||"")})(f);n=new JT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rm(i,s.document.name),u=Gr(s.document.updateTime),f=s.document.createTime?Gr(s.document.createTime):Ne.min(),m=new Wn({mapValue:{fields:s.document.fields}}),p=fn.newFoundDocument(o,u,f,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new fh(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Rm(i,s.document),u=s.readTime?Gr(s.readTime):Ne.min(),f=fn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new fh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Rm(i,s.document),u=s.removedTargetIds||[];n=new fh([],u,o,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new jI(o,u),m=s.targetId;n=new WT(m,f)}}return n}function WI(i,e){let n;if(e instanceof pu)n={update:V0(i,e.key,e.value)};else if(e instanceof XT)n={delete:Xm(i,e.key)};else if(e instanceof ca)n={update:V0(i,e.key,e.data),updateMask:ax(e.fieldMask)};else{if(!(e instanceof LI))return Ie(16599,{Vt:e.type});n={verify:Xm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Rh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _o)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ch)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ie(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:YI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie(27497)})(i,e.precondition)),n}function JI(i,e){return i&&i.length>0?(st(e!==void 0,14353),i.map((n=>(function(o,u){let f=o.updateTime?Gr(o.updateTime):Gr(u);return f.isEqual(Ne.min())&&(f=Gr(u)),new MI(f,o.transformResults||[])})(n,e)))):[]}function ZI(i,e){return{documents:[tb(i,e.path)]}}function ex(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=tb(i,o);const u=(function(g){if(g.length!==0)return ib(yr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((T=>(function(I){return{field:io(I.field),direction:rx(I.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Km(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function tx(i){let e=XI(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){st(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(b){const I=rb(b);return I instanceof yr&&NT(I)?I.getFilters():[I]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((I=>(function(z){return new wh(so(z.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(I)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let I;return I=typeof b=="object"?b.value:b,Gh(I)?null:I})(n.limit));let p=null;n.startAt&&(p=(function(b){const I=!!b.before,U=b.values||[];return new Ah(U,I)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const I=!b.before,U=b.values||[];return new Ah(U,I)})(n.endAt)),vI(e,o,f,u,m,"F",p,g)}function nx(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=so(n.unaryFilter.field);return Ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return Ft.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=so(n.unaryFilter.field);return Ft.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ft.create(so(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return yr.create(n.compositeFilter.filters.map((s=>rb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(i):Ie(30097,{filter:i})}function rx(i){return HI[i]}function ix(i){return GI[i]}function sx(i){return QI[i]}function io(i){return{fieldPath:i.canonicalString()}}function so(i){return an.fromServerFormat(i.fieldPath)}function ib(i){return i instanceof Ft?(function(n){if(n.op==="=="){if(T0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(E0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(E0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:ix(n.op),value:n.value}}})(i):i instanceof yr?(function(n){const s=n.getFilters().map((o=>ib(o)));return s.length===1?s[0]:{compositeFilter:{op:sx(n.op),filters:s}}})(i):Ie(54877,{filter:i})}function ax(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function sb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class cs{constructor(e,n,s,o,u=Ne.min(),f=Ne.min(),m=on.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ox{constructor(e){this.yt=e}}function lx(i){const e=tx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Qm(e,e.limit,"L"):e}class ux{constructor(){this.Cn=new cx}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(_s.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class cx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Kt(pt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Kt(pt.comparator)).toArray()}}const k0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ab=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(ab,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}const L0="LruGarbageCollector",hx=1048576;function P0([i,e],[n,s]){const o=Xe(i,n);return o===0?Xe(e,s):o}class fx{constructor(e){this.Ir=e,this.buffer=new Kt(P0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();P0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(L0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xo(n)?me(L0,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.Vr(3e5)}))}}class mx{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Hh.ce);const s=new fx(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(k0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),no()<=Ye.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function px(i,e){return new mx(i,e)}class gx{constructor(){this.changes=new ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class _x{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Xl(s.mutation,o,pr.empty(),vt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,$e()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=$e()){const o=ta();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=ql();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=ta();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,$e())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=Ai();const f=Yl(),m=(function(){return Yl()})();return n.forEach(((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof ca)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),Xl(T.mutation,g,T.mutation.getFieldMask(),vt.now())):f.set(g.key,pr.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,T)=>f.set(g,T))),n.forEach(((g,T)=>m.set(g,new yx(T,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Yl();let o=new wt(((f,m)=>f-m)),u=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||pr.empty();T=m.applyToLocalView(g,T),s.set(p,T);const b=(o.get(m.batchId)||$e()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,b=BT();T.forEach((I=>{if(!u.has(I)){const U=KT(n.get(I),s.get(I));U!==null&&b.set(I,U),u=u.add(I)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return be.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(ta());let m=eu,p=u;return f.next((g=>ne.forEach(g,((T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?ne.resolve():this.remoteDocumentCache.getEntry(e,T).next((I=>{p=p.insert(T,I)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,$e()))).next((T=>({batchId:m,changes:zT(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(b,I){return new mu(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((T=>{T.forEach(((b,I)=>{f=f.insert(b,I)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,fn.newInvalidDocument(T)))}));let m=ql();return f.forEach(((p,g)=>{const T=u.get(p);T!==void 0&&Xl(T.mutation,g,pr.empty(),vt.now()),Yh(n,g)&&(m=m.insert(p,g))})),m}))}}class vx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Gr(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:lx(o.bundledQuery),readTime:Gr(o.readTime)}})(n)),ne.resolve()}}class Ex{constructor(){this.overlays=new wt(be.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ta();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=ta(),u=n.length+1,f=new be(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new wt(((g,T)=>g-T));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=ta(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=ta(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,T)=>m.set(g,T))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new UI(n,s));let u=this.qr.get(n);u===void 0&&(u=$e(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class Tx{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Mp{constructor(){this.Qr=new Kt(Wt.$r),this.Ur=new Kt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Wt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Wt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new be(new pt([])),s=new Wt(n,e),o=new Wt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new pt([])),s=new Wt(n,e),o=new Wt(n,e+1);let u=$e();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Wt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||Xe(e.Yr,n.Yr)}static Kr(e,n){return Xe(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}class bx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(Wt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new PI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Wt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Sp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Wt(n,0),o=new Wt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Kt(Xe);return n.forEach((o=>{const u=new Wt(o,0),f=new Wt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;be.isDocumentKey(u)||(u=u.child(""));const f=new Wt(new be(u),0);let m=new Kt(Xe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){st(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Wt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Wt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Sx{constructor(e){this.ri=e,this.docs=(function(){return new wt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let s=Ai();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ai();const f=n.path,m=new be(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||WC($C(T),s)<=0||(o.has(T.key)||Yh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ie(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Ax(this)}getSize(e){return ne.resolve(this.size)}}class Ax extends gx{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class wx{constructor(e){this.persistence=e,this.si=new ua((n=>Rp(n)),Cp),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new Mp,this.targetCount=0,this.ai=vo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class ob{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hh(0),this.li=!1,this.li=!0,this.hi=new Tx,this.referenceDelegate=e(this),this.Pi=new wx(this),this.indexManager=new ux,this.remoteDocumentCache=(function(o){return new Sx(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ox(n),this.Ii=new vx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ex,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new bx(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new Rx(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Rx extends ZC{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ri=new Mp,this.Vi=null}static mi(e){return new Vp(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=be.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ne.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xh{constructor(e,n){this.persistence=e,this.pi=new ua((s=>nI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=px(this,n)}static mi(e,n){return new xh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ne.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class kp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=$e(),o=$e();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new kp(e,n.fromCache,s,o)}}class Cx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ix{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ER()?8:eI(dn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new Cx;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(no()<=Ye.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(no()<=Ye.DEBUG&&me("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(no()<=Ye.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(n))):ne.resolve())}ys(e,n){if(w0(n))return ne.resolve(null);let s=Hr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Qm(n,null,"F"),s=Hr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=$e(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Qm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return w0(n)||o.isEqual(Ne.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ne.resolve(null):(no()<=Ye.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.vs(e,f,n,XC(o,eu)).next((m=>m)))}))}Ds(e,n){let s=new Kt(UT(e));return n.forEach(((o,u)=>{Yh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return no()<=Ye.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ps.getDocumentsMatchingQuery(e,n,_s.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Lp="LocalStore",xx=3e8;class Dx{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new wt(Xe),this.xs=new ua((u=>Rp(u)),Cp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _x(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Ox(i,e,n,s){return new Dx(i,e,n,s)}async function lb(i,e){const n=ke(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=$e();for(const g of o){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function Nx(i,e){const n=ke(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,T){const b=g.batch,I=b.keys();let U=ne.resolve();return I.forEach((z=>{U=U.next((()=>T.getEntry(p,z))).next((Q=>{const P=g.docVersions.get(z);st(P!==null,48541),Q.version.compareTo(P)<0&&(b.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),T.addEntry(Q)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=$e();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function ub(i){const e=ke(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Mx(i,e){const n=ke(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,b)=>{const I=o.get(b);if(!I)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,b))));let U=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?U=U.withResumeToken(on.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):T.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(T.resumeToken,s)),o=o.insert(b,U),(function(Q,P,W){return Q.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=xx?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(I,U,T)&&m.push(n.Pi.updateTargetData(u,U))}));let p=Ai(),g=$e();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(Vx(u,f,e.documentUpdates).next((T=>{p=T.ks,g=T.qs}))),!s.isEqual(Ne.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return ne.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function Vx(i,e,n){let s=$e(),o=$e();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let f=Ai();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):me(Lp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function kx(i,e){const n=ke(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Sp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Lx(i,e){const n=ke(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new cs(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Wm(i,e,n){const s=ke(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!xo(f))throw f;me(Lp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function U0(i,e,n){const s=ke(i);let o=Ne.min(),u=$e();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,T){const b=ke(p),I=b.xs.get(T);return I!==void 0?ne.resolve(b.Ms.get(I)):b.Pi.getTargetData(g,T)})(s,f,Hr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ne.min(),n?u:$e()))).next((m=>(Px(s,TI(e),m),{documents:m,Qs:u})))))}function Px(i,e,n){let s=i.Os.get(e)||Ne.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class j0{constructor(){this.activeTargetIds=CI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ux{constructor(){this.Mo=new j0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new j0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jx{Oo(e){}shutdown(){}}const z0="ConnectivityMonitor";class B0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(z0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(z0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rh=null;function Jm(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}const Cm="RestConnection",zx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===bh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Jm(),m=this.zo(e,n.toUriEncodedString());me(Cm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),T=wo(g);return this.Jo(e,m,p,s,T).then((b=>(me(Cm,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw mo(Cm,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Co})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=zx[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class qx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const un="WebChannelConnection";class Fx extends Bx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Jm();return new Promise(((m,p)=>{const g=new hT;g.setWithCredentials(!0),g.listenOnce(fT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case lh.NO_ERROR:const b=g.getResponseJson();me(un,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case lh.TIMEOUT:me(un,`RPC '${e}' ${f} timed out`),p(new de(te.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const I=g.getStatus();if(me(un,`RPC '${e}' ${f} failed with status:`,I,"response text:",g.getResponseText()),I>0){let U=g.getResponseJson();Array.isArray(U)&&(U=U[0]);const z=U?.error;if(z&&z.status&&z.message){const Q=(function(W){const X=W.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(X)>=0?X:te.UNKNOWN})(z.status);p(new de(Q,z.message))}else p(new de(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new de(te.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(un,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);me(un,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=Jm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=pT(),m=mT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");me(un,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=f.createWebChannel(T,p);this.I_(b);let I=!1,U=!1;const z=new qx({Yo:P=>{U?me(un,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(I||(me(un,`Opening RPC '${e}' stream ${o} transport.`),b.open(),I=!0),me(un,`RPC '${e}' stream ${o} sending:`,P),b.send(P))},Zo:()=>b.close()}),Q=(P,W,X)=>{P.listen(W,(re=>{try{X(re)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return Q(b,Bl.EventType.OPEN,(()=>{U||(me(un,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),Q(b,Bl.EventType.CLOSE,(()=>{U||(U=!0,me(un,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(b))})),Q(b,Bl.EventType.ERROR,(P=>{U||(U=!0,mo(un,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),z.a_(new de(te.UNAVAILABLE,"The operation could not be completed")))})),Q(b,Bl.EventType.MESSAGE,(P=>{if(!U){const W=P.data[0];st(!!W,16349);const X=W,re=X?.error||X[0]?.error;if(re){me(un,`RPC '${e}' stream ${o} received error:`,re);const ve=re.status;let he=(function(w){const C=Bt[w];if(C!==void 0)return $T(C)})(ve),pe=re.message;he===void 0&&(he=te.INTERNAL,pe="Unknown error status: "+ve+" with message "+re.message),U=!0,z.a_(new de(he,pe)),b.close()}else me(un,`RPC '${e}' stream ${o} received:`,W),z.u_(W)}})),Q(m,dT.STAT_EVENT,(P=>{P.stat===jm.PROXY?me(un,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===jm.NOPROXY&&me(un,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Im(){return typeof document<"u"?document:null}function Jh(i){return new KI(i,!0)}class cb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const q0="PersistentStream";class hb{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Si(n.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new de(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(q0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Hx extends hb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$I(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ne.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ne.min():f.readTime?Gr(f.readTime):Ne.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=$m(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Hm(p)?{documents:ZI(u,p)}:{query:ex(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ZT(u,f.resumeToken);const g=Km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ne.min())>0){m.readTime=Ih(u,f.snapshotVersion.toTimestamp());const g=Km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=nx(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=$m(this.serializer),n.removeTarget=e,this.q_(n)}}class Gx extends hb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JI(e.writeResults,e.commitTime),s=Gr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=$m(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>WI(this.serializer,s)))};this.q_(n)}}class Qx{}class Kx extends Qx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Ym(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(te.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Ym(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(te.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Yx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Si(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class Xx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ha(this)&&(me(aa,"Restarting streams for network reachability change."),await(async function(p){const g=ke(p);g.Ea.add(4),await yu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Zh(g)})(this))}))})),this.Ra=new Yx(s,o)}}async function Zh(i){if(ha(i))for(const e of i.da)await e(!0)}async function yu(i){for(const e of i.da)await e(!1)}function fb(i,e){const n=ke(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zp(n)?jp(n):Do(n).O_()&&Up(n,e))}function Pp(i,e){const n=ke(i),s=Do(n);n.Ia.delete(e),s.O_()&&db(n,e),n.Ia.size===0&&(s.O_()?s.L_():ha(n)&&n.Ra.set("Unknown"))}function Up(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(i).Y_(e)}function db(i,e){i.Va.Ue(e),Do(i).Z_(e)}function jp(i){i.Va=new FI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.Ra.ua()}function zp(i){return ha(i)&&!Do(i).x_()&&i.Ia.size>0}function ha(i){return ke(i).Ea.size===0}function mb(i){i.Va=void 0}async function $x(i){i.Ra.set("Online")}async function Wx(i){i.Ia.forEach(((e,n)=>{Up(i,e)}))}async function Jx(i,e){mb(i),zp(i)?(i.Ra.ha(e),jp(i)):i.Ra.set("Unknown")}async function Zx(i,e,n){if(i.Ra.set("Online"),e instanceof JT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){me(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Dh(i,s)}else if(e instanceof fh?i.Va.Ze(e):e instanceof WT?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ne.min()))try{const s=await ub(i.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(on.EMPTY_BYTE_STRING,T.snapshotVersion)),db(u,p);const b=new cs(T.target,p,g,T.sequenceNumber);Up(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){me(aa,"Failed to raise snapshot:",s),await Dh(i,s)}}async function Dh(i,e,n){if(!xo(e))throw e;i.Ea.add(1),await yu(i),i.Ra.set("Offline"),n||(n=()=>ub(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{me(aa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Zh(i)}))}function pb(i,e){return e().catch((n=>Dh(i,n,e)))}async function ef(i){const e=ke(i),n=bs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sp;for(;e2(e);)try{const o=await kx(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,t2(e,o)}catch(o){await Dh(e,o)}gb(e)&&yb(e)}function e2(i){return ha(i)&&i.Ta.length<10}function t2(i,e){i.Ta.push(e);const n=bs(i);n.O_()&&n.X_&&n.ea(e.mutations)}function gb(i){return ha(i)&&!bs(i).x_()&&i.Ta.length>0}function yb(i){bs(i).start()}async function n2(i){bs(i).ra()}async function r2(i){const e=bs(i);for(const n of i.Ta)e.ea(n.mutations)}async function i2(i,e,n){const s=i.Ta.shift(),o=Dp.from(s,e,n);await pb(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await ef(i)}async function s2(i,e){e&&bs(i).X_&&await(async function(s,o){if((function(f){return zI(f)&&f!==te.ABORTED})(o.code)){const u=s.Ta.shift();bs(s).B_(),await pb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ef(s)}})(i,e),gb(i)&&yb(i)}async function F0(i,e){const n=ke(i);n.asyncQueue.verifyOperationInProgress(),me(aa,"RemoteStore received new credentials");const s=ha(n);n.Ea.add(3),await yu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zh(n)}async function a2(i,e){const n=ke(i);e?(n.Ea.delete(2),await Zh(n)):e||(n.Ea.add(2),await yu(n),n.Ra.set("Unknown"))}function Do(i){return i.ma||(i.ma=(function(n,s,o){const u=ke(n);return u.sa(),new Hx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:$x.bind(null,i),t_:Wx.bind(null,i),r_:Jx.bind(null,i),H_:Zx.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),zp(i)?jp(i):i.Ra.set("Unknown")):(await i.ma.stop(),mb(i))}))),i.ma}function bs(i){return i.fa||(i.fa=(function(n,s,o){const u=ke(n);return u.sa(),new Gx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:n2.bind(null,i),r_:s2.bind(null,i),ta:r2.bind(null,i),na:i2.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await ef(i)):(await i.fa.stop(),i.Ta.length>0&&(me(aa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Bp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Bp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qp(i,e){if(Si("AsyncQueue",`${e}: ${i}`),xo(i))return new de(te.UNAVAILABLE,`${e}: ${i}`);throw i}class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=ql(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new oo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class H0{constructor(){this.ga=new wt(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Eo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Eo(e,n,oo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class o2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class l2{constructor(){this.queries=G0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=ke(n),u=o.queries;o.queries=G0(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new de(te.ABORTED,"Firestore shutting down"))}}function G0(){return new ua((i=>PT(i)),Kh)}async function _b(i,e){const n=ke(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new o2,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=qp(f,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Fp(n)}async function vb(i,e){const n=ke(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function u2(i,e){const n=ke(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Fp(n)}function c2(i,e,n){const s=ke(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Fp(i){i.Ca.forEach((e=>{e.next()}))}var Zm,Q0;(Q0=Zm||(Zm={})).Ma="default",Q0.Cache="cache";class Eb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zm.Cache}}class Tb{constructor(e){this.key=e}}class bb{constructor(e){this.key=e}}class h2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=UT(e),this.tu=new oo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new H0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const I=o.get(T),U=Yh(this.query,b)?b:null,z=!!I&&this.mutatedKeys.has(I.key),Q=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let P=!1;I&&U?I.data.isEqual(U.data)?z!==Q&&(s.track({type:3,doc:U}),P=!0):this.su(I,U)||(s.track({type:2,doc:U}),P=!0,(p&&this.eu(U,p)>0||g&&this.eu(U,g)<0)&&(m=!0)):!I&&U?(s.track({type:0,doc:U}),P=!0):I&&!U&&(s.track({type:1,doc:I}),P=!0,(p||g)&&(m=!0)),P&&(U?(f=f.add(U),u=Q?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,b)=>(function(U,z){const Q=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:P})}};return Q(U)-Q(z)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new Eo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new H0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new bb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Tb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hp="SyncEngine";class f2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class d2{constructor(e){this.key=e,this.hu=!1}}class m2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ua((m=>PT(m)),Kh),this.Iu=new Map,this.Eu=new Set,this.du=new wt(be.comparator),this.Au=new Map,this.Ru=new Mp,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function p2(i,e,n=!0){const s=Ib(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Sb(s,e,n,!0),o}async function g2(i,e){const n=Ib(i);await Sb(n,e,!0,!1)}async function Sb(i,e,n,s){const o=await Lx(i.localStore,Hr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await y2(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&fb(i.remoteStore,o),m}async function y2(i,e,n,s,o){i.pu=(b,I,U)=>(async function(Q,P,W,X){let re=P.view.ru(W);re.Cs&&(re=await U0(Q.localStore,P.query,!1).then((({documents:x})=>P.view.ru(x,re))));const ve=X&&X.targetChanges.get(P.targetId),he=X&&X.targetMismatches.get(P.targetId)!=null,pe=P.view.applyChanges(re,Q.isPrimaryClient,ve,he);return Y0(Q,P.targetId,pe.au),pe.snapshot})(i,b,I,U);const u=await U0(i.localStore,e,!0),f=new h2(e,u.Qs),m=f.ru(u.documents),p=gu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);Y0(i,n,g.au);const T=new f2(e,n,f);return i.Tu.set(e,T),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function _2(i,e,n){const s=ke(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Kh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Wm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Pp(s.remoteStore,o.targetId),ep(s,o.targetId)})).catch(Io)):(ep(s,o.targetId),await Wm(s.localStore,o.targetId,!0))}async function v2(i,e){const n=ke(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Pp(n.remoteStore,s.targetId))}async function E2(i,e,n){const s=C2(i);try{const o=await(function(f,m){const p=ke(f),g=vt.now(),T=m.reduce(((U,z)=>U.add(z.key)),$e());let b,I;return p.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let z=Ai(),Q=$e();return p.Ns.getEntries(U,T).next((P=>{z=P,z.forEach(((W,X)=>{X.isValidDocument()||(Q=Q.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(U,z))).next((P=>{b=P;const W=[];for(const X of m){const re=kI(X,b.get(X.key).overlayedDocument);re!=null&&W.push(new ca(X.key,re,xT(re.value.mapValue),Ei.exists(!0)))}return p.mutationQueue.addMutationBatch(U,g,W,m)})).next((P=>{I=P;const W=P.applyToLocalDocumentSet(b,Q);return p.documentOverlayCache.saveOverlays(U,P.batchId,W)}))})).then((()=>({batchId:I.batchId,changes:zT(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new wt(Xe)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await _u(s,o.changes),await ef(s.remoteStore)}catch(o){const u=qp(o,"Failed to persist write");n.reject(u)}}async function Ab(i,e){const n=ke(i);try{const s=await Mx(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?st(f.hu,14607):o.removedDocuments.size>0&&(st(f.hu,42227),f.hu=!1))})),await _u(n,s,e)}catch(s){await Io(s)}}function K0(i,e,n){const s=ke(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=ke(f);p.onlineState=m;let g=!1;p.queries.forEach(((T,b)=>{for(const I of b.Sa)I.va(m)&&(g=!0)})),g&&Fp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function T2(i,e,n){const s=ke(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new wt(be.comparator);f=f.insert(u,fn.newNoDocument(u,Ne.min()));const m=$e().add(u),p=new Wh(Ne.min(),new Map,new wt(Xe),f,m);await Ab(s,p),s.du=s.du.remove(u),s.Au.delete(e),Gp(s)}else await Wm(s.localStore,e,!1).then((()=>ep(s,e,n))).catch(Io)}async function b2(i,e){const n=ke(i),s=e.batch.batchId;try{const o=await Nx(n.localStore,e);Rb(n,s,null),wb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await _u(n,o)}catch(o){await Io(o)}}async function S2(i,e,n){const s=ke(i);try{const o=await(function(f,m){const p=ke(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(st(b!==null,37113),T=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>p.localDocuments.getDocuments(g,T)))}))})(s.localStore,e);Rb(s,e,n),wb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await _u(s,o)}catch(o){await Io(o)}}function wb(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Rb(i,e,n){const s=ke(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function ep(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||Cb(i,s)}))}function Cb(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Pp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Gp(i))}function Y0(i,e,n){for(const s of n)s instanceof Tb?(i.Ru.addReference(s.key,e),A2(i,s)):s instanceof bb?(me(Hp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Cb(i,s.key)):Ie(19791,{wu:s})}function A2(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(me(Hp,"New document in limbo: "+n),i.Eu.add(s),Gp(i))}function Gp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new be(pt.fromString(e)),s=i.fu.next();i.Au.set(s,new d2(n)),i.du=i.du.insert(n,s),fb(i.remoteStore,new cs(Hr(Ip(n.path)),s,"TargetPurposeLimboResolution",Hh.ce))}}async function _u(i,e,n){const s=ke(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=kp.As(p.targetId,g);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const T=ke(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(g,(I=>ne.forEach(I.Es,(U=>T.persistence.referenceDelegate.addReference(b,I.targetId,U))).next((()=>ne.forEach(I.ds,(U=>T.persistence.referenceDelegate.removeReference(b,I.targetId,U)))))))))}catch(b){if(!xo(b))throw b;me(Lp,"Failed to update sequence numbers: "+b)}for(const b of g){const I=b.targetId;if(!b.fromCache){const U=T.Ms.get(I),z=U.snapshotVersion,Q=U.withLastLimboFreeSnapshotVersion(z);T.Ms=T.Ms.insert(I,Q)}}})(s.localStore,u))}async function w2(i,e){const n=ke(i);if(!n.currentUser.isEqual(e)){me(Hp,"User change. New user:",e.toKey());const s=await lb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new de(te.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _u(n,s.Ls)}}function R2(i,e){const n=ke(i),s=n.Au.get(e);if(s&&s.hu)return $e().add(s.key);{let o=$e();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Ib(i){const e=ke(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ab.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T2.bind(null,e),e.Pu.H_=u2.bind(null,e.eventManager),e.Pu.yu=c2.bind(null,e.eventManager),e}function C2(i){const e=ke(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S2.bind(null,e),e}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Ox(this.persistence,new Ix,e.initialUser,this.serializer)}Cu(e){return new ob(Vp.mi,this.serializer)}Du(e){return new Ux}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class I2 extends Oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof xh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dx(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new ob((s=>xh.mi(s,n)),this.serializer)}}class tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>K0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=w2.bind(null,this.syncEngine),await a2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new l2})()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),s=(function(u){return new Fx(u)})(e.databaseInfo);return(function(u,f,m,p){return new Kx(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new Xx(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>K0(this.syncEngine,n,0)),(function(){return B0.v()?new B0:new jx})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,T){const b=new m2(o,u,f,m,p,g);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=ke(n);me(aa,"RemoteStore shutting down."),s.Ea.add(5),await yu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tp.provider={build:()=>new tp};class xb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ss="FirestoreClient";class x2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=bp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{me(Ss,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(me(Ss,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=qp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function xm(i,e){i.asyncQueue.verifyOperationInProgress(),me(Ss,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await lb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function X0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await D2(i);me(Ss,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>F0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>F0(e.remoteStore,o))),i._onlineComponents=e}async function D2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(Ss,"Using user provided OfflineComponentProvider");try{await xm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await xm(i,new Oh)}}else me(Ss,"Using default OfflineComponentProvider"),await xm(i,new I2(void 0));return i._offlineComponents}async function Db(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(Ss,"Using user provided OnlineComponentProvider"),await X0(i,i._uninitializedComponentsProvider._online)):(me(Ss,"Using default OnlineComponentProvider"),await X0(i,new tp))),i._onlineComponents}function O2(i){return Db(i).then((e=>e.syncEngine))}async function Ob(i){const e=await Db(i),n=e.eventManager;return n.onListen=p2.bind(null,e.syncEngine),n.onUnlisten=_2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=v2.bind(null,e.syncEngine),n}function N2(i,e,n={}){const s=new vi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const T=new xb({next:I=>{T.Nu(),f.enqueueAndForget((()=>vb(u,b)));const U=I.docs.has(m);!U&&I.fromCache?g.reject(new de(te.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&I.fromCache&&p&&p.source==="server"?g.reject(new de(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),b=new Eb(Ip(m.path),T,{includeMetadataChanges:!0,qa:!0});return _b(u,b)})(await Ob(i),i.asyncQueue,e,n,s))),s.promise}function M2(i,e,n={}){const s=new vi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const T=new xb({next:I=>{T.Nu(),f.enqueueAndForget((()=>vb(u,b))),I.fromCache&&p.source==="server"?g.reject(new de(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),b=new Eb(m,T,{includeMetadataChanges:!0,qa:!0});return _b(u,b)})(await Ob(i),i.asyncQueue,e,n,s))),s.promise}function Nb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const $0=new Map;const Mb="firestore.googleapis.com",W0=!0;class J0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mb,this.ssl=W0}else this.host=e.host,this.ssl=e.ssl??W0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ab;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hx)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new UC;switch(s.type){case"firstParty":return new qC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=$0.get(n);s&&(me("ComponentProvider","Removing Datastore"),$0.delete(n),s.terminate())})(this),Promise.resolve()}}function V2(i,e,n,s={}){i=sa(i,tf);const o=wo(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(nT(`https://${m}`),rT("Firestore",!0)),u.host!==Mb&&u.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ys(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=cn.MOCK_USER;else{g=hR(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new de(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new cn(b)}i._authCredentials=new jC(new yT(g,T))}}class Oo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Oo(this.firestore,e,this._query)}}class Gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(du(n,Gt._jsonSchema))return new Gt(e,s||null,new be(pt.fromString(n.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:Ht("string",Gt._jsonSchemaVersion),referencePath:Ht("string")};class ps extends Oo{constructor(e,n,s){super(e,n,Ip(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new be(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function Vb(i,e,...n){if(i=gn(i),_T("collection","path",e),i instanceof tf){const s=pt.fromString(e,...n);return h0(s),new ps(i,null,s)}{if(!(i instanceof Gt||i instanceof ps))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(pt.fromString(e,...n));return h0(s),new ps(i.firestore,null,s)}}function Ln(i,e,...n){if(i=gn(i),arguments.length===1&&(e=bp.newId()),_T("doc","path",e),i instanceof tf){const s=pt.fromString(e,...n);return c0(s),new Gt(i,null,new be(s))}{if(!(i instanceof Gt||i instanceof ps))throw new de(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(pt.fromString(e,...n));return c0(s),new Gt(i.firestore,i instanceof ps?i.converter:null,new be(s))}}const Z0="AsyncQueue";class eE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cb(this,"async_queue_retry"),this._c=()=>{const s=Im();s&&me(Z0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xo(e))throw e;me(Z0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Si("INTERNAL UNHANDLED ERROR: ",tE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Bp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ie(47125,{Pc:tE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class nf extends tf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new eE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eE(e),this._firestoreClient=void 0,await e}}}function No(i,e){const n=typeof i=="object"?i:oT(),s=typeof i=="string"?i:bh,o=Ep(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=uR("firestore");u&&V2(o,...u)}return o}function Qp(i){if(i._terminated)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||k2(i),i._firestoreClient}function k2(i){const e=i._freezeSettings(),n=(function(o,u,f,m){return new sI(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Nb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new x2(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(on.fromBase64String(e))}catch(n){throw new de(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jn(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Ht("string",Jn._jsonSchemaVersion),bytes:Ht("string")};class Kp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yp{constructor(e){this._methodName=e}}class Qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qr._jsonSchemaVersion}}static fromJSON(e){if(du(e,Qr._jsonSchema))return new Qr(e.latitude,e.longitude)}}Qr._jsonSchemaVersion="firestore/geoPoint/1.0",Qr._jsonSchema={type:Ht("string",Qr._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};class Kr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,Kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Kr(e.vectorValues);throw new de(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kr._jsonSchemaVersion="firestore/vectorValue/1.0",Kr._jsonSchema={type:Ht("string",Kr._jsonSchemaVersion),vectorValues:Ht("object")};const L2=/^__.*__$/;class P2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}function kb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:i})}}class rf{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kb(this.Ac)&&L2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class U2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Jh(e)}Cc(e,n,s,o=!1){return new rf({Ac:e,methodName:n,Dc:s,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lb(i){const e=i._freezeSettings(),n=Jh(i._databaseId);return new U2(i._databaseId,!!e.ignoreUndefinedProperties,n)}function j2(i,e,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);jb("Data must be an object, but it was:",f,s);const m=Pb(s,f);let p,g;if(u.merge)p=new pr(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const I=q2(e,b,n);if(!f.contains(I))throw new de(te.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);H2(T,I)||T.push(I)}p=new pr(T),g=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=f.fieldTransforms;return new P2(new Wn(m),p,g)}function z2(i,e,n){return new rf({Ac:3,Dc:e.settings.Dc,methodName:i._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Xp extends Yp{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=z2(this,e,!0),s=this.vc.map((u=>sf(u,n))),o=new _o(s);return new OI(e.path,o)}isEqual(e){return e instanceof Xp&&ys(this.vc,e.vc)}}function B2(i,e,n,s=!1){return sf(n,i.Cc(s?4:3,e))}function sf(i,e){if(Ub(i=gn(i)))return jb("Unsupported field value:",e,i),Pb(i,e);if(i instanceof Yp)return(function(s,o){if(!kb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=sf(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return II(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=vt.fromDate(s);return{timestampValue:Ih(o.serializer,u)}}if(s instanceof vt){const u=new vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ih(o.serializer,u)}}if(s instanceof Qr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Jn)return{bytesValue:ZT(o.serializer,s._byteString)};if(s instanceof Gt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Np(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Kr)return(function(f,m){return{mapValue:{fields:{[CT]:{stringValue:IT},[Sh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return xp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Fh(s)}`)})(i,e)}function Pb(i,e){const n={};return TT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(i,((s,o)=>{const u=sf(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Ub(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof vt||i instanceof Qr||i instanceof Jn||i instanceof Gt||i instanceof Yp||i instanceof Kr)}function jb(i,e,n){if(!Ub(n)||!vT(n)){const s=Fh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function q2(i,e,n){if((e=gn(e))instanceof Kp)return e._internalPath;if(typeof e=="string")return zb(i,e);throw Nh("Field path arguments must be of type string or ",i,!1,void 0,n)}const F2=new RegExp("[~\\*/\\[\\]]");function zb(i,e,n){if(e.search(F2)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Kp(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Nh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(te.INVALID_ARGUMENT,m+i+p)}function H2(i,e){return i.some((n=>n.isEqual(e)))}class Bb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($p("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G2 extends Bb{data(){return super.data()}}function $p(i,e){return typeof e=="string"?zb(i,e):e instanceof Kp?e._internalPath:e._delegate._internalPath}function Q2(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wp{}class K2 extends Wp{}function Y2(i,e,...n){let s=[];e instanceof Wp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Jp)).length,m=u.filter((p=>p instanceof af)).length;if(f>1||f>0&&m>0)throw new de(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class af extends K2{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new af(e,n,s)}_apply(e){const n=this._parse(e);return qb(e._query,n),new Oo(e.firestore,e.converter,Gm(e._query,n))}_parse(e){const n=Lb(e.firestore);return(function(u,f,m,p,g,T,b){let I;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new de(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){rE(b,T);const z=[];for(const Q of b)z.push(nE(p,u,Q));I={arrayValue:{values:z}}}else I=nE(p,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||rE(b,T),I=B2(m,f,b,T==="in"||T==="not-in");return Ft.create(g,T,I)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function X2(i,e,n){const s=e,o=$p("where",i);return af._create(o,s,n)}class Jp extends Wp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)qb(f,p),f=Gm(f,p)})(e._query,n),new Oo(e.firestore,e.converter,Gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nE(i,e,n){if(typeof(n=gn(n))=="string"){if(n==="")throw new de(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LT(e)&&n.indexOf("/")!==-1)throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(pt.fromString(n));if(!be.isDocumentKey(s))throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return v0(i,new be(s))}if(n instanceof Gt)return v0(i,n._key);throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function rE(i,e){if(!Array.isArray(i)||i.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qb(i,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $2{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return la(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Sh].arrayValue?.values?.map((s=>Nt(s.doubleValue)));return new Kr(n)}convertGeoPoint(e){return new Qr(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=vs(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=pt.fromString(e);st(sb(s),9688,{name:e});const o=new nu(s.get(1),s.get(3)),u=new be(s.popFirst(5));return o.isEqual(n)||Si(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function W2(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends Bb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field($p("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=na._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Ht("string",na._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class dh extends na{data(e={}){return super.data(e)}}class lo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new dh(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:J2(m.type),doc:p,oldIndex:g,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function J2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:i})}}function Zn(i){i=sa(i,Gt);const e=sa(i.firestore,nf);return N2(Qp(e),i._key).then((n=>eD(e,i,n)))}lo._jsonSchemaVersion="firestore/querySnapshot/1.0",lo._jsonSchema={type:Ht("string",lo._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Fb extends $2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function Hb(i){i=sa(i,Oo);const e=sa(i.firestore,nf),n=Qp(e),s=new Fb(e);return Q2(i._query),M2(n,i._query).then((o=>new lo(e,s,i,o)))}function wn(i,e,n){i=sa(i,Gt);const s=sa(i.firestore,nf),o=W2(i.converter,e,n);return Z2(s,[j2(Lb(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Ei.none())])}function Z2(i,e){return(function(s,o){const u=new vi;return s.asyncQueue.enqueueAndForget((async()=>E2(await O2(s),o,u))),u.promise})(Qp(i),e)}function eD(i,e,n){const s=n.docs.get(e._key),o=new Fb(i);return new na(i,o,e._key,s,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}function Gb(...i){return new Xp("arrayUnion",i)}(function(e,n=!0){(function(o){Co=o})(Ro),fo(new ra("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new nf(new zC(s.getProvider("auth-internal")),new FC(f,s.getProvider("app-check-internal")),(function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(g.options.projectId,T)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ds(a0,o0,e),ds(a0,o0,"esm2020")})();var tD="firebase",nD="12.7.0";ds(tD,nD,"app");const rD={apiKey:"AIzaSyCfvR8bEeW2CXdD31Ec34doRNThnbryXJo",authDomain:"budget-tkl.firebaseapp.com",projectId:"budget-tkl",storageBucket:"budget-tkl.firebasestorage.app",messagingSenderId:"631248313026",appId:"1:631248313026:web:36574d789a42b2d102f95b"},fa=aT(rD);function Qb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iD=Qb,Kb=new hu("auth","Firebase",Qb());const Mh=new _p("@firebase/auth");function sD(i,...e){Mh.logLevel<=Ye.WARN&&Mh.warn(`Auth (${Ro}): ${i}`,...e)}function mh(i,...e){Mh.logLevel<=Ye.ERROR&&Mh.error(`Auth (${Ro}): ${i}`,...e)}function _r(i,...e){throw Zp(i,...e)}function Yr(i,...e){return Zp(i,...e)}function Yb(i,e,n){const s={...iD(),[e]:n};return new hu("auth","Firebase",s).create(e,{appName:i.name})}function gs(i){return Yb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Kb.create(i,...e)}function Ce(i,e,...n){if(!i)throw Zp(e,...n)}function gi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw mh(e),new Error(e)}function wi(i,e){i||gi(e)}function np(){return typeof self<"u"&&self.location?.href||""}function aD(){return iE()==="http:"||iE()==="https:"}function iE(){return typeof self<"u"&&self.location?.protocol||null}function oD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aD()||yR()||"connection"in navigator)?navigator.onLine:!0}function lD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=mR()||_R()}get(){return oD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function eg(i,e){wi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Xb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const cD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hD=new vu(3e4,6e4);function da(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function As(i,e,n,s,o={}){return $b(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=fu({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return gR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&wo(i.emulatorConfig.host)&&(g.credentials="include"),Xb.fetch()(await Wb(i,i.config.apiHost,n,m),g)})}async function $b(i,e,n){i._canInitEmulator=!1;const s={...uD,...e};try{const o=new dD(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ih(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ih(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw ih(i,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Yb(i,T,g);_r(i,T)}}catch(o){if(o instanceof Ri)throw o;_r(i,"network-request-failed",{message:String(o)})}}async function of(i,e,n,s,o={}){const u=await As(i,e,n,s,o);return"mfaPendingCredential"in u&&_r(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Wb(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?eg(i.config,o):`${i.config.apiScheme}://${o}`;return cD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function fD(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Yr(this.auth,"network-request-failed")),hD.get())})}}function ih(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Yr(i,e,s);return o.customData._tokenResponse=n,o}function sE(i){return i!==void 0&&i.enterprise!==void 0}class mD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pD(i,e){return As(i,"GET","/v2/recaptchaConfig",da(i,e))}async function gD(i,e){return As(i,"POST","/v1/accounts:delete",e)}async function Vh(i,e){return As(i,"POST","/v1/accounts:lookup",e)}function $l(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yD(i,e=!1){const n=gn(i),s=await n.getIdToken(e),o=tg(s);Ce(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:$l(Dm(o.auth_time)),issuedAtTime:$l(Dm(o.iat)),expirationTime:$l(Dm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Dm(i){return Number(i)*1e3}function tg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=JE(n);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function aE(i){const e=tg(i);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function su(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ri&&_D(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function _D({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class vD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kh(i){const e=i.auth,n=await i.getIdToken(),s=await su(i,Vh(e,{idToken:n}));Ce(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?Jb(o.providerUserInfo):[],f=TD(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!f?.length,g=m?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,T)}async function ED(i){const e=gn(i);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TD(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Jb(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function bD(i,e){const n=await $b(i,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await Wb(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&wo(i.emulatorConfig.host)&&(p.credentials="include"),Xb.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SD(i,e){return As(i,"POST","/v2/accounts:revokeToken",da(i,e))}class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=aE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await bD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new uo;return s&&(Ce(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ce(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ce(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return gi("not implemented")}}function ss(i,e){Ce(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class gr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new vD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yD(this,e)}reload(){return ED(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mr(this.auth.app))return Promise.reject(gs(this.auth));const e=await this.getIdToken();return await su(this,gD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:I,isAnonymous:U,providerData:z,stsTokenManager:Q}=n;Ce(b&&Q,e,"internal-error");const P=uo.fromJSON(this.name,Q);Ce(typeof b=="string",e,"internal-error"),ss(s,e.name),ss(o,e.name),Ce(typeof I=="boolean",e,"internal-error"),Ce(typeof U=="boolean",e,"internal-error"),ss(u,e.name),ss(f,e.name),ss(m,e.name),ss(p,e.name),ss(g,e.name),ss(T,e.name);const W=new gr({uid:b,auth:e,email:o,emailVerified:I,displayName:s,isAnonymous:U,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:T});return z&&Array.isArray(z)&&(W.providerData=z.map(X=>({...X}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,n,s=!1){const o=new uo;o.updateFromServerResponse(n);const u=new gr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await kh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ce(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Jb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new uo;m.updateFromIdToken(s);const p=new gr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const oE=new Map;function yi(i){wi(i instanceof Function,"Expected a class definition");let e=oE.get(i);return e?(wi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,oE.set(i,e),e)}class Zb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Zb.type="NONE";const lE=Zb;function ph(i,e,n){return`firebase:${i}:${e}:${n}`}class co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vh(this.auth,{idToken:e}).catch(()=>{});return n?gr._fromGetAccountInfoResponse(this.auth,n,e):null}return gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new co(yi(lE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||yi(lE);const f=ph(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(f);if(T){let b;if(typeof T=="string"){const I=await Vh(e,{idToken:T}).catch(()=>{});if(!I)break;b=await gr._fromGetAccountInfoResponse(e,I,T)}else b=gr._fromJSON(e,T);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new co(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new co(u,e,s))}}function uE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sS(e))return"Blackberry";if(aS(e))return"Webos";if(tS(e))return"Safari";if((e.includes("chrome/")||nS(e))&&!e.includes("edge/"))return"Chrome";if(iS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function eS(i=dn()){return/firefox\//i.test(i)}function tS(i=dn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nS(i=dn()){return/crios\//i.test(i)}function rS(i=dn()){return/iemobile/i.test(i)}function iS(i=dn()){return/android/i.test(i)}function sS(i=dn()){return/blackberry/i.test(i)}function aS(i=dn()){return/webos/i.test(i)}function ng(i=dn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function AD(i=dn()){return ng(i)&&!!window.navigator?.standalone}function wD(){return vR()&&document.documentMode===10}function oS(i=dn()){return ng(i)||iS(i)||aS(i)||sS(i)||/windows phone/i.test(i)||rS(i)}function lS(i,e=[]){let n;switch(i){case"Browser":n=uE(dn());break;case"Worker":n=`${uE(dn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ro}/${s}`}class RD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function CD(i,e={}){return As(i,"GET","/v2/passwordPolicy",da(i,e))}const ID=6;class xD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ID,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class DD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cE(this),this.idTokenSubscription=new cE(this),this.beforeStateQueue=new RD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vh(this,{idToken:e}),s=await gr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mr(this.app))return Promise.reject(gs(this));const n=e?gn(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mr(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mr(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CD(this),n=new xD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await SD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yi(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&sD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Mo(i){return gn(i)}class cE{constructor(e){this.auth=e,this.observer=null,this.addObserver=CR(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OD(i){lf=i}function uS(i){return lf.loadJS(i)}function ND(){return lf.recaptchaEnterpriseScript}function MD(){return lf.gapiScript}function VD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class kD{constructor(){this.enterprise=new LD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class LD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const PD="recaptcha-enterprise",cS="NO_RECAPTCHA";class UD{constructor(e){this.type=PD,this.auth=Mo(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{pD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new mD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;sE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(cS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&sE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ND();p.length!==0&&(p+=m),uS(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function hE(i,e,n,s=!1,o=!1){const u=new UD(i);let f;if(o)f=cS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function fE(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await hE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await hE(i,e,n,n==="getOobCode");return s(i,f)}else return Promise.reject(u)})}function jD(i,e){const n=Ep(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ys(u,e??{}))return o;_r(o,"already-initialized")}return n.initialize({options:e})}function zD(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(yi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function BD(i,e,n){const s=Mo(i);Ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=hS(e),{host:f,port:m}=qD(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ce(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ce(ys(g,s.config.emulator)&&ys(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,wo(f)?(nT(`${u}//${f}${p}`),rT("Auth",!0)):FD()}function hS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function qD(i){const e=hS(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:dE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:dE(f)}}}function dE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function FD(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class rg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,n){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}async function HD(i,e){return As(i,"POST","/v1/accounts:signUp",e)}async function GD(i,e){return of(i,"POST","/v1/accounts:signInWithPassword",da(i,e))}async function QD(i,e){return of(i,"POST","/v1/accounts:signInWithEmailLink",da(i,e))}async function KD(i,e){return of(i,"POST","/v1/accounts:signInWithEmailLink",da(i,e))}class au extends rg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new au(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fE(e,n,"signInWithPassword",GD);case"emailLink":return QD(e,{email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fE(e,s,"signUpPassword",HD);case"emailLink":return KD(e,{idToken:n,email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ho(i,e){return of(i,"POST","/v1/accounts:signInWithIdp",da(i,e))}const YD="http://localhost";class oa extends rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new oa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ho(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:YD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}function XD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $D(i){const e=jl(zl(i)).link,n=e?jl(zl(e)).deep_link_id:null,s=jl(zl(i)).deep_link_id;return(s?jl(zl(s)).link:null)||s||n||e||i}class ig{constructor(e){const n=jl(zl(e)),s=n.apiKey??null,o=n.oobCode??null,u=XD(n.mode??null);Ce(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=$D(e);try{return new ig(n)}catch{return null}}}class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ig.parseLink(n);return Ce(s,"argument-error"),au._fromEmailAndCode(e,s.code,s.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class fS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Eu extends fS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class as extends Eu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";class os extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return os.credential(n,s)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";class ls extends Eu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";class us extends Eu{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return us.credential(n,s)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await gr._fromIdTokenResponse(e,s,o),f=mE(s);return new To({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=mE(s);return new To({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function mE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Lh extends Ri{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Lh(e,n,s,o)}}function dS(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(i,u,e,s):u})}async function WD(i,e,n=!1){const s=await su(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return To._forOperation(i,"link",s)}async function JD(i,e,n=!1){const{auth:s}=i;if(mr(s.app))return Promise.reject(gs(s));const o="reauthenticate";try{const u=await su(i,dS(s,o,e,i),n);Ce(u.idToken,s,"internal-error");const f=tg(u.idToken);Ce(f,s,"internal-error");const{sub:m}=f;return Ce(i.uid===m,s,"user-mismatch"),To._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&_r(s,"user-mismatch"),u}}async function mS(i,e,n=!1){if(mr(i.app))return Promise.reject(gs(i));const s="signIn",o=await dS(i,s,e),u=await To._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function ZD(i,e){return mS(Mo(i),e)}async function eO(i){const e=Mo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function tO(i,e,n){return mr(i.app)?Promise.reject(gs(i)):ZD(gn(i),Vo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&eO(i),s})}function nO(i,e,n,s){return gn(i).onIdTokenChanged(e,n,s)}function rO(i,e,n){return gn(i).beforeAuthStateChanged(e,n)}function iO(i,e,n,s){return gn(i).onAuthStateChanged(e,n,s)}function sO(i){return gn(i).signOut()}const Ph="__sak";class pS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const aO=1e3,oO=10;class gS extends pS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);wD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,oO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},aO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gS.type="LOCAL";const lO=gS;class yS extends pS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yS.type="SESSION";const _S=yS;function uO(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new uf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await uO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];function sg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class cO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=sg("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const I=b;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(I.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Xr(){return window}function hO(i){Xr().location.href=i}function vS(){return typeof Xr().WorkerGlobalScope<"u"&&typeof Xr().importScripts=="function"}async function fO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dO(){return navigator?.serviceWorker?.controller||null}function mO(){return vS()?self:null}const ES="firebaseLocalStorageDb",pO=1,Uh="firebaseLocalStorage",TS="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(i,e){return i.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function gO(){const i=indexedDB.deleteDatabase(ES);return new Tu(i).toPromise()}function ip(){const i=indexedDB.open(ES,pO);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Uh,{keyPath:TS})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Uh)?e(s):(s.close(),await gO(),e(await ip()))})})}async function pE(i,e,n){const s=cf(i,!0).put({[TS]:e,value:n});return new Tu(s).toPromise()}async function yO(i,e){const n=cf(i,!1).get(e),s=await new Tu(n).toPromise();return s===void 0?null:s.value}function gE(i,e){const n=cf(i,!0).delete(e);return new Tu(n).toPromise()}const _O=800,vO=3;class bS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ip(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>vO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(mO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fO(),!this.activeServiceWorker)return;this.sender=new cO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ip();return await pE(e,Ph,"1"),await gE(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>pE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>yO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=cf(o,!1).getAll();return new Tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bS.type="LOCAL";const EO=bS;new vu(3e4,6e4);function TO(i,e){return e?yi(e):(Ce(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class ag extends rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bO(i){return mS(i.auth,new ag(i),i.bypassAuthState)}function SO(i){const{auth:e,user:n}=i;return Ce(n,e,"internal-error"),JD(n,new ag(i),i.bypassAuthState)}async function AO(i){const{auth:e,user:n}=i;return Ce(n,e,"internal-error"),WD(n,new ag(i),i.bypassAuthState)}class SS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bO;case"linkViaPopup":case"linkViaRedirect":return AO;case"reauthViaPopup":case"reauthViaRedirect":return SO;default:_r(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wO=new vu(2e3,1e4);class ao extends SS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wO.get())};e()}}ao.currentPopupAction=null;const RO="pendingRedirect",gh=new Map;class CO extends SS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await IO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IO(i,e){const n=OO(e),s=DO(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function xO(i,e){gh.set(i._key(),e)}function DO(i){return yi(i._redirectPersistence)}function OO(i){return ph(RO,i.config.apiKey,i.name)}async function NO(i,e,n=!1){if(mr(i.app))return Promise.reject(gs(i));const s=Mo(i),o=TO(s,e),f=await new CO(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const MO=600*1e3;class VO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!AS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Yr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MO&&this.cachedEventUids.clear(),this.cachedEventUids.has(yE(e))}saveEventToCache(e){this.cachedEventUids.add(yE(e)),this.lastProcessedEventTime=Date.now()}}function yE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function AS({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function kO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AS(i);default:return!1}}async function LO(i,e={}){return As(i,"GET","/v1/projects",e)}const PO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UO=/^https?/;async function jO(i){if(i.config.emulator)return;const{authorizedDomains:e}=await LO(i);for(const n of e)try{if(zO(n))return}catch{}_r(i,"unauthorized-domain")}function zO(i){const e=np(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!UO.test(n))return!1;if(PO.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const BO=new vu(3e4,6e4);function _E(){const i=Xr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function qO(i){return new Promise((e,n)=>{function s(){_E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_E(),n(Yr(i,"network-request-failed"))},timeout:BO.get()})}if(Xr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xr().gapi?.load)s();else{const o=VD("iframefcb");return Xr()[o]=()=>{gapi.load?s():n(Yr(i,"network-request-failed"))},uS(`${MD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw yh=null,e})}let yh=null;function FO(i){return yh=yh||qO(i),yh}const HO=new vu(5e3,15e3),GO="__/auth/iframe",QO="emulator/auth/iframe",KO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XO(i){const e=i.config;Ce(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?eg(e,QO):`https://${i.config.authDomain}/${GO}`,s={apiKey:e.apiKey,appName:i.name,v:Ro},o=YO.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fu(s).slice(1)}`}async function $O(i){const e=await FO(i),n=Xr().gapi;return Ce(n,i,"internal-error"),e.open({where:document.body,url:XO(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Yr(i,"network-request-failed"),m=Xr().setTimeout(()=>{u(f)},HO.get());function p(){Xr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const WO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JO=500,ZO=600,eN="_blank",tN="http://localhost";class vE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nN(i,e,n,s=JO,o=ZO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...WO,width:s.toString(),height:o.toString(),top:u,left:f},g=dn().toLowerCase();n&&(m=nS(g)?eN:n),eS(g)&&(e=e||tN,p.scrollbars="yes");const T=Object.entries(p).reduce((I,[U,z])=>`${I}${U}=${z},`,"");if(AD(g)&&m!=="_self")return rN(e||"",m),new vE(null);const b=window.open(e||"",m,T);Ce(b,i,"popup-blocked");try{b.focus()}catch{}return new vE(b)}function rN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const iN="__/auth/handler",sN="emulator/auth/handler",aN=encodeURIComponent("fac");async function EE(i,e,n,s,o,u){Ce(i.config.authDomain,i,"auth-domain-config-required"),Ce(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ro,eventId:o};if(e instanceof fS){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",RR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(e instanceof Eu){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),g=p?`#${aN}=${encodeURIComponent(p)}`:"";return`${oN(i)}?${fu(m).slice(1)}${g}`}function oN({config:i}){return i.emulator?eg(i,sN):`https://${i.authDomain}/${iN}`}const Om="webStorageSupport";class lN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_S,this._completeRedirectFn=NO,this._overrideRedirectResult=xO}async _openPopup(e,n,s,o){wi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await EE(e,n,s,np(),o);return nN(e,u,sg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await EE(e,n,s,np(),o);return hO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(wi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await $O(e),s=new VO(e);return n.register("authEvent",o=>(Ce(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},o=>{const u=o?.[0]?.[Om];u!==void 0&&n(!!u),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oS()||tS()||ng()}}const uN=lN;var TE="@firebase/auth",bE="1.12.0";class cN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fN(i){fo(new ra("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ce(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lS(i)},g=new DD(s,o,u,p);return zD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),fo(new ra("auth-internal",e=>{const n=Mo(e.getProvider("auth").getImmediate());return(s=>new cN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ds(TE,bE,hN(i)),ds(TE,bE,"esm2020")}const dN=300,mN=tT("authIdTokenMaxAge")||dN;let SE=null;const pN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>mN)return;const o=n?.token;SE!==o&&(SE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gN(i=oT()){const e=Ep(i,"auth");if(e.isInitialized())return e.getImmediate();const n=jD(i,{popupRedirectResolver:uN,persistence:[EO,lO,_S]}),s=tT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=pN(u.toString());rO(n,f,()=>f(n.currentUser)),nO(n,m=>f(m))}}const o=ZE("auth");return o&&BD(n,`http://${o}`),n}function yN(){return document.getElementsByTagName("head")?.[0]??document}OD({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Yr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",yN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fN("Browser");function bu(){const i=gN(fa);async function e(){return!1}async function n(m,p){return tO(i,m,p)}function s(){return sO(i)}function o(m){iO(i,p=>{m(p)})}function u(){return i.currentUser}return{set_user_listener:o,delete_firebase_user:e,login_firebase_user:n,logout_firebase_user:s,get_current_firebase_user:u}}const wS=L.createContext({currentBudget:null,loading:!1,error:null,isOwner:!1,currentUserId:null,isInitialized:!1,accounts:[],categories:[],categoryGroups:[],ensureBudgetLoaded:async()=>{},refreshBudget:async()=>{},updateBudgetUsers:async()=>{},setAccounts:()=>{},setCategories:()=>{},setCategoryGroups:()=>{},saveBudgetData:async()=>{}});function _N({children:i}){const e=bu(),[n,s]=L.useState(null),[o,u]=L.useState(!1),[f,m]=L.useState(null),[p,g]=L.useState(!1),T=L.useRef(null),[b,I]=L.useState([]),[U,z]=L.useState([]),[Q,P]=L.useState([]),W=No(fa),X=e.get_current_firebase_user();async function re(){if(!X){s(null),I([]),z([]),P([]),u(!1),g(!1),T.current=null;return}u(!0),m(null);try{const w=Vb(W,"budgets"),C=Y2(w,X2("user_ids","array-contains",X.uid)),N=await Hb(C);if(N.empty){const D=`budget_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,k={id:D,name:"My Budget",user_ids:[X.uid],owner_id:X.uid,owner_email:X.email||null};await wn(Ln(W,"budgets",D),{name:k.name,user_ids:k.user_ids,owner_id:k.owner_id,owner_email:k.owner_email,accounts:[],categories:[],category_groups:[],created_at:new Date().toISOString()}),s(k),I([]),z([]),P([])}else{const D=N.docs[0],k=D.data();s({id:D.id,name:k.name,user_ids:k.user_ids,owner_id:k.owner_id||k.user_ids[0],owner_email:k.owner_email||null});const R=(k.accounts||[]).map(B=>({id:B.id,nickname:B.nickname,balance:B.balance,account_type:B.account_type,sort_order:B.sort_order??0}));R.sort((B,se)=>B.sort_order-se.sort_order),I(R);const ce=(k.categories||[]).map(B=>({id:B.id,name:B.name,category_group_id:B.category_group_id??null,sort_order:B.sort_order??0}));ce.sort((B,se)=>B.sort_order-se.sort_order),z(ce);const Me=(k.category_groups||[]).map(B=>({id:B.id,name:B.name,sort_order:B.sort_order??0}));Me.sort((B,se)=>B.sort_order-se.sort_order),P(Me)}T.current=X.uid,g(!0)}catch(w){m(w instanceof Error?w.message:"Failed to load budget")}finally{u(!1)}}async function ve(){X&&(p&&T.current===X.uid||await re())}async function he(w){if(!(!n||!X))try{const C=Ln(W,"budgets",n.id),N=await Zn(C);if(N.exists()){const D=N.data();await wn(C,{...D,user_ids:w}),s({...n,user_ids:w})}}catch(C){throw new Error(C instanceof Error?C.message:"Failed to update users")}}async function pe(){if(n)try{const w=Ln(W,"budgets",n.id),C=await Zn(w);if(C.exists()){const N=C.data();await wn(w,{...N,accounts:b,categories:U,category_groups:Q})}}catch(w){throw new Error(w instanceof Error?w.message:"Failed to save budget data")}}const x=!!(n&&X&&n.owner_id===X.uid);return E.jsx(wS.Provider,{value:{currentBudget:n,loading:o,error:f,isOwner:x,currentUserId:X?.uid||null,isInitialized:p,accounts:b,categories:U,categoryGroups:Q,ensureBudgetLoaded:ve,refreshBudget:re,updateBudgetUsers:he,setAccounts:I,setCategories:z,setCategoryGroups:P,saveBudgetData:pe},children:i})}function ma(){return L.useContext(wS)}function vN(){return E.jsxs("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:[E.jsx("h1",{children:"Welcome"}),E.jsx("nav",{children:E.jsxs("ul",{children:[E.jsx("li",{children:E.jsx(hn,{to:"/sql-test",children:"SQL Test"})}),E.jsx("li",{children:E.jsx(hn,{to:"/budget",children:"Budget"})}),E.jsx("li",{children:E.jsx(hn,{to:"/account",children:"Account"})})]})})]})}function EN(){return E.jsxs("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:[E.jsx("nav",{children:E.jsx(hn,{to:"/",children:" Back to Home"})}),E.jsx("h1",{children:"SQL Test"}),E.jsx("h2",{children:"Setup"}),E.jsxs("h3",{children:["1. Open up your preferred web browser to ",E.jsx("a",{href:"https://www.programiz.com/sql/online-compiler/",target:"_blank",rel:"noopener noreferrer",children:"https://www.programiz.com/sql/online-compiler/"})]}),E.jsxs("ul",{children:[E.jsx("li",{children:"This is a basic online sql query editor"}),E.jsxs("li",{children:["It will include three tables: ",E.jsx("b",{children:'"Customer"'}),", ",E.jsx("b",{children:'"Orders"'}),", and ",E.jsx("b",{children:'"Shippings"'})]})]}),E.jsx("h3",{children:"2. Run the below query block inside the online editor to make some updates to the schema."}),E.jsx("pre",{style:{backgroundColor:"#1a1a1a",padding:"1rem",borderRadius:"8px",overflow:"auto"},children:E.jsx("code",{children:`ALTER TABLE shippings
ADD order_id INT;

UPDATE shippings
SET order_id = CASE
  WHEN shipping_id = 1 THEN 5
    WHEN shipping_id = 2 THEN 1
    WHEN shipping_id = 3 THEN 3
    WHEN shipping_id = 4 THEN 6
    WHEN shipping_id = 5 THEN 4
END
WHERE shipping_id IN (1,2,3,4,5);

INSERT INTO shippings (shipping_id, status, customer, order_id)
VALUES (6, "Cancelled", 4, 2);

INSERT INTO orders (order_id, item, amount, customer_id)
VALUES (6, "Monitor", 800, 5);`})}),E.jsx("h2",{children:"SQL Problems"}),E.jsx("p",{children:"Write queries in the online editor to answer these questions."}),E.jsx("h3",{children:"Question #1"}),E.jsx("p",{children:'Calculate the total number of orders, the total $ amount, and the total items "delivered" by Country. Show the following columns: country, order count, total $ amount, and total delivered. Order by total $ amount largest to smallest.'}),E.jsx("h3",{children:"Question #2"}),E.jsx("p",{children:"Find the customers who have placed orders with the HIGHEST total amount for each country. One record per country. Display the customer's first name, last name, country, and the corresponding highest total order amount. Also include the shipping status of the associated order."})]})}function TN(){const i=L.useContext(cu),e=bu(),[n,s]=L.useState(!1),o=tr(),u=fp(),f=o.state?.from||"/";L.useEffect(()=>{i.is_logged_in&&f!=="/"&&u(f,{replace:!0})},[i.is_logged_in,f,u]);function m(){s(!0),e.logout_firebase_user().then(function(){s(!1)})}return E.jsxs("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:[E.jsx("h1",{children:"Account"}),i.is_logged_in?n?E.jsx("p",{children:"Logging Out..."}):E.jsxs(E.Fragment,{children:[E.jsxs("p",{children:["You are logged in as ",i.username]}),E.jsx("button",{onClick:m,children:"Logout"})]}):E.jsx(bN,{}),E.jsx("p",{children:E.jsx(hn,{to:"/",children:"Back to Home"})})]})}function bN(){const i=bu(),[e,n]=L.useState(""),[s,o]=L.useState(""),[u,f]=L.useState(!1),[m,p]=L.useState("");function g(I){n(I.target.value)}function T(I){o(I.target.value)}function b(I){I.preventDefault(),f(!0),p(""),i.login_firebase_user(e,s).then(function(){}).catch(function(){p("Incorrect login credentials")}).finally(function(){f(!1)})}return E.jsxs("form",{onSubmit:b,children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"username",children:"Email: "}),E.jsx("input",{id:"username",type:"email",value:e,onChange:g})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"password",children:"Password: "}),E.jsx("input",{id:"password",type:"password",value:s,onChange:T})]}),u?E.jsx("p",{children:"Logging in..."}):E.jsx("button",{children:"Login"}),m&&E.jsx("p",{style:{color:"red"},children:m})]})}const gt={primary:"#646cff",primaryLight:"#a5b4fc",error:"#f87171",errorBg:"rgba(220, 38, 38, 0.1)",errorBorder:"rgba(220, 38, 38, 0.3)",success:"#4ade80",danger:"#f87171"},SN={maxWidth:"60rem",margin:"0 auto",padding:"2rem"},AN={marginBottom:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},hf={background:"color-mix(in srgb, currentColor 8%, transparent)",padding:"1rem 1.25rem",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem"},wN={...hf,padding:"0.6rem 0.875rem",gap:"0.5rem"},RN={background:"color-mix(in srgb, currentColor 5%, transparent)",padding:"1rem 1.5rem",borderRadius:"8px",marginBottom:"1.5rem"},CN={background:"color-mix(in srgb, currentColor 8%, transparent)",padding:"1.25rem",borderRadius:"8px",display:"flex",flexDirection:"column",gap:"1rem"},IN={display:"flex",flexDirection:"column",gap:"0.5rem"},xN={fontSize:"0.9rem",fontWeight:500},ff={padding:"0.6rem 0.8rem",borderRadius:"6px",border:"1px solid color-mix(in srgb, currentColor 20%, transparent)",background:"color-mix(in srgb, currentColor 5%, transparent)",fontSize:"1rem",color:"inherit"},DN={...ff,cursor:"pointer"},og={padding:"0.6rem 1.25rem",borderRadius:"6px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",transition:"opacity 0.15s"},RS={...og,background:gt.primary,color:"white",border:"none"},ON={...RS,padding:"0.75rem 1.5rem",borderRadius:"8px"},NN={...og,background:"transparent",border:"1px solid color-mix(in srgb, currentColor 30%, transparent)"},MN={...og,background:"transparent",border:`1px solid ${gt.errorBorder}`,color:gt.error},VN={background:"transparent",border:"1px solid color-mix(in srgb, currentColor 25%, transparent)",padding:"0.35rem 0.75rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",opacity:.8,transition:"opacity 0.15s"},kN={display:"flex",gap:"0.5rem"},LN={display:"flex",gap:"0.25rem"},CS={background:"transparent",border:"1px solid color-mix(in srgb, currentColor 20%, transparent)",padding:"0.35rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center",minWidth:"2rem",minHeight:"2rem",transition:"opacity 0.15s, border-color 0.15s"},PN={...CS,borderColor:gt.errorBorder,color:gt.error},jh={background:"transparent",border:"1px solid color-mix(in srgb, currentColor 15%, transparent)",padding:"0.25rem 0.35rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem",lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center",opacity:.6,transition:"opacity 0.15s, background 0.15s"},IS={display:"flex",flexDirection:"column",gap:"2px"},UN={display:"flex",gap:"0.75rem",marginTop:"0.5rem"},xS={opacity:.4,cursor:"grab"},DS={position:"absolute",top:"-4px",left:0,right:0,height:"3px",background:gt.primary,borderRadius:"2px",transition:"opacity 0.15s"},jN={position:"relative",height:"2rem",marginTop:"-0.25rem"},zN={position:"absolute",top:"50%",left:0,right:0,height:"3px",background:gt.primary,borderRadius:"2px",transition:"opacity 0.15s"},BN={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"0.75rem",opacity:.7,background:"var(--background, #1a1a1a)",padding:"0 0.5rem",whiteSpace:"nowrap"},qN={background:gt.errorBg,border:`1px solid ${gt.errorBorder}`,color:gt.error,padding:"0.75rem 1rem",borderRadius:"8px",marginBottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem"},FN={background:"transparent",border:"none",color:gt.error,cursor:"pointer",fontSize:"1.2rem",padding:"0 0.25rem",lineHeight:1},lg={opacity:.7,marginBottom:"1.5rem"},AE={margin:0,fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.5px",opacity:.6},sp={fontWeight:500,fontSize:"1.1rem"},HN={margin:0,fontSize:"0.9rem",opacity:.7},GN={margin:"0.25rem 0 0 0",fontSize:"1.5rem",fontWeight:600},QN={background:"color-mix(in srgb, currentColor 15%, transparent)",padding:"0.2rem 0.6rem",borderRadius:"4px",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},ou={display:"flex",flexDirection:"column",gap:"0.5rem",marginBottom:"1.5rem"};function KN({children:i}){return E.jsx("div",{style:SN,children:i})}function ug({message:i,onDismiss:e}){return E.jsxs("div",{style:qN,children:[E.jsx("span",{children:i}),E.jsx("button",{onClick:e,style:FN,children:""})]})}const YN={primary:RS,"primary-large":ON,secondary:NN,danger:MN,small:VN};function qt({variant:i="primary",isLoading:e,loadingText:n="Saving...",children:s,disabled:o,style:u,...f}){const m=YN[i],p=o||e;return E.jsx("button",{disabled:p,style:{...m,cursor:p?"not-allowed":"pointer",opacity:p?.7:1,...u},...f,children:e?n:s})}function df({children:i,onSubmit:e}){return E.jsx("form",{onSubmit:e,style:CN,children:i})}function Wl({label:i,htmlFor:e,children:n,hint:s}){return E.jsxs("div",{style:IN,children:[E.jsx("label",{htmlFor:e,style:xN,children:i}),n,s&&E.jsx("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.85rem",opacity:.6},children:s})]})}function cg(i){return E.jsx("input",{style:ff,...i})}function XN({step:i="0.01",...e}){return E.jsx("input",{type:"number",step:i,style:ff,...e})}function $N({children:i,...e}){return E.jsx("select",{style:DN,...e,children:i})}function OS({minHeight:i="6rem",style:e,...n}){return E.jsx("textarea",{style:{...ff,width:"100%",minHeight:i,resize:"vertical",fontFamily:"inherit",boxSizing:"border-box",...e},...n})}function Su({children:i}){return E.jsx("div",{style:UN,children:i})}const WN=640;function NS(i=WN){const[e,n]=L.useState(()=>typeof window>"u"?!1:window.innerWidth<i);return L.useEffect(()=>{function s(){n(window.innerWidth<i)}return window.addEventListener("resize",s),s(),()=>window.removeEventListener("resize",s)},[i]),e}function ap({children:i,isDragging:e,isDragOver:n,onDragStart:s,onDragOver:o,onDragLeave:u,onDragEnd:f,onDrop:m,onEdit:p,onDelete:g,onMoveUp:T,onMoveDown:b,canMoveUp:I=!0,canMoveDown:U=!0}){const z=NS(),Q=T||b;return E.jsxs("div",{onDragOver:P=>{P.stopPropagation(),o(P)},onDragLeave:P=>{P.stopPropagation(),u()},onDrop:P=>{P.stopPropagation(),m(P)},style:{position:"relative"},children:[E.jsx("div",{style:{...DS,opacity:n?1:0,boxShadow:n?"0 0 8px rgba(100, 108, 255, 0.6)":"none"}}),E.jsxs("div",{draggable:!0,onDragStart:s,onDragEnd:f,style:{...z?wN:hf,cursor:"grab",opacity:e?.5:1},children:[E.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:z?"0.5rem":"0.75rem",minWidth:0},children:[!z&&E.jsx("span",{style:xS,children:""}),E.jsx("div",{style:{flex:1,minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},children:i})]}),E.jsxs("div",{style:z?LN:kN,children:[z?E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:p,style:CS,title:"Edit","aria-label":"Edit",children:""}),E.jsx("button",{onClick:g,style:PN,title:"Delete","aria-label":"Delete",children:""})]}):E.jsxs(E.Fragment,{children:[E.jsx(qt,{variant:"secondary",onClick:p,children:"Edit"}),E.jsx(qt,{variant:"danger",onClick:g,children:"Delete"})]}),Q&&E.jsxs("div",{style:IS,children:[E.jsx("button",{onClick:P=>{P.stopPropagation(),T?.()},disabled:!I,style:{...jh,opacity:I?.6:.2,cursor:I?"pointer":"default"},title:"Move up","aria-label":"Move up",children:""}),E.jsx("button",{onClick:P=>{P.stopPropagation(),b?.()},disabled:!U,style:{...jh,opacity:U?.6:.2,cursor:U?"pointer":"default"},title:"Move down","aria-label":"Move down",children:""})]})]})]})]})}function hg({isActive:i,onDragOver:e,onDragLeave:n,onDrop:s,label:o="Move to end"}){return E.jsxs("div",{onDragOver:e,onDragLeave:n,onDrop:s,style:jN,children:[E.jsx("div",{style:{...zN,opacity:i?1:.3,boxShadow:i?"0 0 8px rgba(100, 108, 255, 0.6)":"none"}}),i&&E.jsx("span",{style:BN,children:o})]})}function JN({label:i,value:e,valueColor:n}){return E.jsxs("div",{children:[E.jsx("p",{style:HN,children:i}),E.jsx("p",{style:{...GN,color:n},children:e})]})}function MS({children:i,style:e}){return E.jsx("div",{style:{...RN,...e},children:i})}function wE(i){return`$${i.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`}function RE(i){return i>=0?gt.success:gt.danger}function ZN({isOpen:i,onClose:e,title:n,children:s,maxWidth:o="28rem"}){return i?E.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001,padding:"1rem"},onClick:e,children:E.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"12px",padding:"1.5rem",width:"100%",maxWidth:o,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)"},onClick:u=>u.stopPropagation(),children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[E.jsx("h2",{style:{margin:0,fontSize:"1.25rem"},children:n}),E.jsx("button",{onClick:e,style:{background:"transparent",border:"none",color:"inherit",cursor:"pointer",fontSize:"1.5rem",opacity:.6,lineHeight:1},children:""})]}),s]})}):null}function eM(){const[i,e]=L.useState(!1),[n,s]=L.useState(""),[o,u]=L.useState(!1),[f,m]=L.useState(!1),[p,g]=L.useState(null),T=L.useContext(cu),b=tr(),I=No(fa);if(b.pathname.includes("/admin/feedback")||!T.is_logged_in)return null;async function z(Q){if(Q.preventDefault(),!(!n.trim()||!T.username)){u(!0),g(null);try{const P=T.username.replace(/[.@]/g,"_"),W=Ln(I,"feedback",P),X={id:`feedback_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,text:n.trim(),created_at:new Date().toISOString(),is_done:!1,completed_at:null,sort_order:Date.now()};(await Zn(W)).exists()?await wn(W,{items:Gb(X)},{merge:!0}):await wn(W,{user_email:T.username,items:[X]}),s(""),m(!0),setTimeout(()=>{m(!1),e(!1)},1500)}catch(P){g(P instanceof Error?P.message:"Failed to submit feedback")}finally{u(!1)}}}return E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>e(!0),style:{position:"fixed",bottom:"1.5rem",right:"1.5rem",width:"3rem",height:"3rem",borderRadius:"50%",background:gt.primary,color:"white",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",transition:"transform 0.15s, box-shadow 0.15s",zIndex:1e3},title:"Send Feedback",onMouseEnter:Q=>{Q.currentTarget.style.transform="scale(1.1)",Q.currentTarget.style.boxShadow="0 6px 16px rgba(0, 0, 0, 0.4)"},onMouseLeave:Q=>{Q.currentTarget.style.transform="scale(1)",Q.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.3)"},children:""}),E.jsx(ZN,{isOpen:i,onClose:()=>e(!1),title:"Send Feedback",children:f?E.jsxs("div",{style:{textAlign:"center",padding:"2rem 0",color:gt.success},children:[E.jsx("span",{style:{fontSize:"2rem",display:"block",marginBottom:"0.5rem"},children:""}),"Feedback submitted!"]}):E.jsxs("form",{onSubmit:z,children:[E.jsx(OS,{value:n,onChange:Q=>s(Q.target.value),placeholder:"Share your feedback, bug reports, or feature requests...",minHeight:"8rem",autoFocus:!0,required:!0}),p&&E.jsx("p",{style:{color:gt.error,fontSize:"0.85rem",margin:"0.5rem 0"},children:p}),E.jsxs(Su,{children:[E.jsx(qt,{type:"button",variant:"secondary",onClick:()=>e(!1),children:"Cancel"}),E.jsx(qt,{type:"submit",isLoading:o,disabled:!n.trim(),children:"Submit"})]})]})})]})}function VS({children:i,labelStyle:e,...n}){return E.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",flex:1,cursor:"pointer",...e},children:[E.jsx("input",{type:"checkbox",style:{width:"1.25rem",height:"1.25rem",marginTop:"0.1rem",cursor:"pointer",accentColor:gt.primary},...n}),i]})}function tM({title:i,count:e,children:n,defaultExpanded:s=!1}){const[o,u]=L.useState(s);return E.jsxs("div",{style:{marginTop:"2rem"},children:[E.jsxs("button",{onClick:()=>u(!o),style:{background:"transparent",border:"none",color:"inherit",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0",fontSize:"0.9rem",opacity:.7},children:[E.jsx("span",{style:{transition:"transform 0.2s",transform:o?"rotate(90deg)":"rotate(0deg)"},children:""}),i,e!==void 0&&` (${e})`]}),o&&n]})}function op(i){return new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})}function nM(){const{currentBudget:i,isOwner:e}=ma();return E.jsxs(KN,{children:[E.jsxs("nav",{style:AN,children:[E.jsx(hn,{to:"/",children:" Back to Home"}),e&&E.jsx(hn,{to:"/budget/admin",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"2.5rem",height:"2.5rem",borderRadius:"8px",background:"color-mix(in srgb, currentColor 8%, transparent)",textDecoration:"none",fontSize:"1.25rem",transition:"background 0.15s"},title:"Admin Settings",children:""})]}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.5rem"},children:[E.jsx("h1",{style:{margin:0},children:"Budget"}),i&&E.jsx("span",{style:{background:`color-mix(in srgb, ${gt.primary} 15%, transparent)`,color:gt.primaryLight,padding:"0.25rem 0.75rem",borderRadius:"6px",fontSize:"0.85rem",fontWeight:500},children:i.name})]}),i&&E.jsxs("p",{style:{opacity:.6,fontSize:"0.85rem",marginBottom:"1.5rem"},children:[i.user_ids.length," user",i.user_ids.length!==1?"s":""," ",e?" You are the owner":" Shared with you"]}),E.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"3rem",borderRadius:"12px",background:"color-mix(in srgb, currentColor 5%, transparent)",border:"1px dashed color-mix(in srgb, currentColor 20%, transparent)"},children:E.jsx("p",{style:{margin:0,opacity:.6,fontSize:"1.1rem"},children:"Content coming soon"})})]})}const rM={checking:"Checking",savings:"Savings",credit_card:"Credit Card"};function iM(){const{currentBudget:i,accounts:e,setAccounts:n}=ma(),[s,o]=L.useState(null),[u,f]=L.useState(null),[m,p]=L.useState(!1),[g,T]=L.useState(null),[b,I]=L.useState(null),U=No(fa);async function z(w){if(i)try{const C=Ln(U,"budgets",i.id),N=await Zn(C);if(N.exists()){const D=N.data();await wn(C,{...D,accounts:w})}}catch(C){throw new Error(C instanceof Error?C.message:"Failed to save accounts")}}async function Q(w){if(i)try{const C=e.length>0?Math.max(...e.map(k=>k.sort_order)):-1,N={id:`account_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,nickname:w.nickname,balance:parseFloat(w.balance)||0,account_type:w.account_type,sort_order:C+1},D=[...e,N];n(D),await z(D),p(!1)}catch(C){o(C instanceof Error?C.message:"Failed to create account")}}async function P(w,C){if(i)try{const N=e.map(D=>D.id===w?{...D,nickname:C.nickname,balance:parseFloat(C.balance)||0,account_type:C.account_type}:D);n(N),await z(N),f(null)}catch(N){o(N instanceof Error?N.message:"Failed to update account")}}async function W(w){if(confirm("Are you sure you want to delete this account?")&&i)try{const C=e.filter(N=>N.id!==w);n(C),await z(C)}catch(C){o(C instanceof Error?C.message:"Failed to delete account")}}function X(w,C){T(C),w.dataTransfer.effectAllowed="move"}function re(w,C){w.preventDefault(),C!==g&&I(C)}function ve(){I(null)}function he(){T(null),I(null)}async function pe(w,C){if(w.preventDefault(),!g||g===C){T(null),I(null);return}const N=e.findIndex(ce=>ce.id===g),D=[...e],[k]=D.splice(N,1);if(C==="__end__")D.push(k);else{const ce=D.findIndex(Me=>Me.id===C);D.splice(ce,0,k)}const R=D.map((ce,Me)=>({...ce,sort_order:Me}));if(n(R),T(null),I(null),!!i)try{await z(R)}catch(ce){o(ce instanceof Error?ce.message:"Failed to save new order")}}const x=e.reduce((w,C)=>w+C.balance,0);return i?E.jsxs("div",{children:[E.jsx("h2",{style:{marginTop:0},children:"Accounts"}),E.jsx("p",{style:{...lg,fontSize:"0.9rem"},children:"Drag and drop to reorder."}),s&&E.jsx(ug,{message:s,onDismiss:()=>o(null)}),E.jsx(MS,{children:E.jsx(JN,{label:"Total Balance",value:wE(x),valueColor:RE(x)})}),E.jsxs("div",{style:ou,children:[e.length===0&&!m&&E.jsx("p",{style:{opacity:.7},children:"No accounts yet. Create one to get started!"}),e.map(w=>u===w.id?E.jsx(CE,{initialData:{nickname:w.nickname,balance:w.balance.toString(),account_type:w.account_type},onSubmit:C=>P(w.id,C),onCancel:()=>f(null),submitLabel:"Save Changes"},w.id):E.jsx(ap,{isDragging:g===w.id,isDragOver:b===w.id,onDragStart:C=>X(C,w.id),onDragOver:C=>re(C,w.id),onDragLeave:ve,onDragEnd:he,onDrop:C=>pe(C,w.id),onEdit:()=>f(w.id),onDelete:()=>W(w.id),children:E.jsxs("div",{children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[E.jsx("span",{style:sp,children:w.nickname}),E.jsx("span",{style:QN,children:rM[w.account_type]})]}),E.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"1.25rem",fontWeight:600,color:RE(w.balance)},children:wE(w.balance)})]})},w.id)),g&&e.length>0&&E.jsx(hg,{isActive:b==="__end__",onDragOver:w=>re(w,"__end__"),onDragLeave:ve,onDrop:w=>pe(w,"__end__")})]}),m?E.jsx(CE,{onSubmit:Q,onCancel:()=>p(!1),submitLabel:"Create Account"}):E.jsx(qt,{variant:"primary-large",onClick:()=>p(!0),children:"+ Add Account"})]}):E.jsx("p",{children:"No budget found. Please log in."})}function CE({initialData:i,onSubmit:e,onCancel:n,submitLabel:s}){const[o,u]=L.useState(i||{nickname:"",balance:"",account_type:"checking"}),[f,m]=L.useState(!1);function p(g){g.preventDefault(),o.nickname.trim()&&(m(!0),e(o))}return E.jsxs(df,{onSubmit:p,children:[E.jsx(Wl,{label:"Account Nickname",htmlFor:"nickname",children:E.jsx(cg,{id:"nickname",type:"text",value:o.nickname,onChange:g=>u({...o,nickname:g.target.value}),placeholder:"e.g., Main Checking",required:!0,autoFocus:!0})}),E.jsx(Wl,{label:"Balance ($)",htmlFor:"balance",children:E.jsx(XN,{id:"balance",value:o.balance,onChange:g=>u({...o,balance:g.target.value}),placeholder:"0.00"})}),E.jsx(Wl,{label:"Account Type",htmlFor:"account_type",children:E.jsxs($N,{id:"account_type",value:o.account_type,onChange:g=>u({...o,account_type:g.target.value}),children:[E.jsx("option",{value:"checking",children:"Checking"}),E.jsx("option",{value:"savings",children:"Savings"}),E.jsx("option",{value:"credit_card",children:"Credit Card"})]})}),E.jsxs(Su,{children:[E.jsx(qt,{type:"submit",isLoading:f,children:s}),E.jsx(qt,{type:"button",variant:"secondary",onClick:n,children:"Cancel"})]})]})}function sM(){const{currentBudget:i,categories:e,setCategories:n,categoryGroups:s,setCategoryGroups:o}=ma(),[u,f]=L.useState(null),m=NS(),[p,g]=L.useState(null),[T,b]=L.useState(null),[I,U]=L.useState(null),[z,Q]=L.useState(!1),[P,W]=L.useState(null),[X,re]=L.useState(null),[ve,he]=L.useState(null),[pe,x]=L.useState(null),w=No(fa);async function C(ie){if(i)try{const oe=Ln(w,"budgets",i.id),ue=await Zn(oe);if(ue.exists()){const Se=ue.data();await wn(oe,{...Se,categories:ie})}}catch(oe){throw new Error(oe instanceof Error?oe.message:"Failed to save categories")}}async function N(ie){if(i)try{const oe=Ln(w,"budgets",i.id),ue=await Zn(oe);if(ue.exists()){const Se=ue.data();await wn(oe,{...Se,category_groups:ie})}}catch(oe){throw new Error(oe instanceof Error?oe.message:"Failed to save category groups")}}async function D(ie,oe){if(i)try{const ue=Ln(w,"budgets",i.id),Se=await Zn(ue);if(Se.exists()){const _e=Se.data();await wn(ue,{..._e,categories:ie,category_groups:oe})}}catch(ue){throw new Error(ue instanceof Error?ue.message:"Failed to save changes")}}async function k(ie,oe){if(!i)return;const ue=e.filter(je=>oe==="ungrouped"?!je.category_group_id:je.category_group_id===oe),Se=ue.length>0?Math.max(...ue.map(je=>je.sort_order)):-1,_e={id:`category_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:ie.name,category_group_id:oe==="ungrouped"?null:oe,sort_order:Se+1},Be=[...e,_e].sort((je,xe)=>je.sort_order-xe.sort_order);n(Be),b(null);try{await C(Be)}catch(je){n(e),f(je instanceof Error?je.message:"Failed to create category")}}async function R(ie,oe){if(i)try{const ue=e.map(Se=>Se.id===ie?{...Se,name:oe.name}:Se);n(ue),await C(ue),g(null)}catch(ue){f(ue instanceof Error?ue.message:"Failed to update category")}}async function ce(ie){if(confirm("Are you sure you want to delete this category?")&&i)try{const oe=e.filter(ue=>ue.id!==ie);n(oe),await C(oe)}catch(oe){f(oe instanceof Error?oe.message:"Failed to delete category")}}async function Me(ie){if(i)try{const oe=s.length>0?Math.max(...s.map(_e=>_e.sort_order)):-1,ue={id:`category_group_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:ie.name,sort_order:oe+1},Se=[...s,ue];o(Se),await N(Se),Q(!1)}catch(oe){f(oe instanceof Error?oe.message:"Failed to create group")}}async function B(ie,oe){if(i)try{const ue=s.map(Se=>Se.id===ie?{...Se,name:oe.name}:Se);o(ue),await N(ue),U(null)}catch(ue){f(ue instanceof Error?ue.message:"Failed to update group")}}async function se(ie){if(confirm("Are you sure you want to delete this group? Categories in this group will move to Uncategorized.")&&i)try{const oe=e.map(Se=>Se.category_group_id===ie?{...Se,category_group_id:null}:Se),ue=s.filter(Se=>Se.id!==ie);n(oe),o(ue),await D(oe,ue)}catch(oe){f(oe instanceof Error?oe.message:"Failed to delete group")}}function ge(ie,oe){W("category"),re(oe),ie.dataTransfer.effectAllowed="move"}function De(ie,oe,ue){ie.preventDefault(),P==="category"&&(oe!==X&&he(oe),x(ue))}function qe(ie,oe){ie.preventDefault(),P==="category"?(x(oe),he(null)):P==="group"&&oe!==X&&he(oe)}function M(){he(null)}function Z(){x(null)}function ae(){W(null),re(null),he(null),x(null)}async function fe(ie,oe,ue){if(ie.preventDefault(),ie.stopPropagation(),!X||P!=="category"){ae();return}const Se=e.find(Oe=>Oe.id===X);if(!Se)return;const _e=ue==="ungrouped"?null:ue,Be=e.filter(Oe=>(Oe.category_group_id||"ungrouped")===ue);let je=e.filter(Oe=>Oe.id!==X),xe;if(oe==="__group_end__"||Be.length===0||!Be.find(Oe=>Oe.id===oe))xe=(Be.length>0?Math.max(...Be.filter(Tt=>Tt.id!==X).map(Tt=>Tt.sort_order)):-1)+1;else{const Oe=Be.find(Tt=>Tt.id===oe);Oe?(xe=Oe.sort_order,je=je.map(Tt=>(Tt.category_group_id||"ungrouped")===ue&&Tt.sort_order>=xe?{...Tt,sort_order:Tt.sort_order+1}:Tt)):xe=0}const Je={...Se,category_group_id:_e,sort_order:xe};if(je.push(Je),je.sort((Oe,Tt)=>Oe.sort_order-Tt.sort_order),n(je),ae(),!!i)try{await C(je)}catch(Oe){f(Oe instanceof Error?Oe.message:"Failed to save changes")}}async function we(ie,oe){ie.preventDefault(),P==="category"?await fe(ie,"__group_end__",oe):P==="group"&&await Fe(ie,oe)}function Le(ie,oe){ie.stopPropagation(),W("group"),re(oe),ie.dataTransfer.effectAllowed="move"}async function Fe(ie,oe){if(ie.preventDefault(),!X||P!=="group"||X===oe){ae();return}const ue=s.findIndex(je=>je.id===X),Se=[...s],[_e]=Se.splice(ue,1);if(oe==="__end__")Se.push(_e);else{const je=Se.findIndex(xe=>xe.id===oe);Se.splice(je,0,_e)}const Be=Se.map((je,xe)=>({...je,sort_order:xe}));if(o(Be),ae(),!!i)try{await N(Be)}catch(je){f(je instanceof Error?je.message:"Failed to save new order")}}async function Et(ie,oe){const ue=e.find(Oe=>Oe.id===ie);if(!ue)return;const Se=ue.category_group_id||"ungrouped",_e=e.filter(Oe=>(Oe.category_group_id||"ungrouped")===Se).sort((Oe,Tt)=>Oe.sort_order-Tt.sort_order),Be=_e.findIndex(Oe=>Oe.id===ie),je=oe==="up"?Be-1:Be+1;if(je<0||je>=_e.length)return;const xe=_e[je],Je=e.map(Oe=>Oe.id===ie?{...Oe,sort_order:xe.sort_order}:Oe.id===xe.id?{...Oe,sort_order:ue.sort_order}:Oe);if(n(Je),!!i)try{await C(Je)}catch(Oe){n(e),f(Oe instanceof Error?Oe.message:"Failed to move category")}}async function dt(ie,oe){const ue=[...s].sort((xe,Je)=>xe.sort_order-Je.sort_order),Se=ue.findIndex(xe=>xe.id===ie),_e=oe==="up"?Se-1:Se+1;if(_e<0||_e>=ue.length)return;const[Be]=ue.splice(Se,1);ue.splice(_e,0,Be);const je=ue.map((xe,Je)=>({...xe,sort_order:Je}));if(o(je),!!i)try{await N(je)}catch(xe){o(s),f(xe instanceof Error?xe.message:"Failed to move group")}}const Er=e.reduce((ie,oe)=>{const ue=oe.category_group_id||"ungrouped";return ie[ue]||(ie[ue]=[]),ie[ue].push(oe),ie},{}),Tr=[...s].sort((ie,oe)=>ie.sort_order-oe.sort_order);return i?E.jsxs("div",{children:[E.jsx("h2",{style:{marginTop:0},children:"Categories & Groups"}),E.jsxs("p",{style:lg,children:["Organize your spending categories into groups.",E.jsx("br",{}),E.jsx("span",{style:{fontSize:"0.9rem"},children:m?"Use  buttons to reorder items, or drag to move between groups.":"Drag categories between groups, or use  buttons to reorder."})]}),u&&E.jsx(ug,{message:u,onDismiss:()=>f(null)}),E.jsxs(MS,{style:{display:"flex",gap:"2rem"},children:[E.jsxs("div",{children:[E.jsx("p",{style:{margin:0,fontSize:"0.9rem",opacity:.7},children:"Categories"}),E.jsx("p",{style:{margin:"0.25rem 0 0 0",fontSize:"1.5rem",fontWeight:600},children:e.length})]}),E.jsxs("div",{children:[E.jsx("p",{style:{margin:0,fontSize:"0.9rem",opacity:.7},children:"Groups"}),E.jsx("p",{style:{margin:"0.25rem 0 0 0",fontSize:"1.5rem",fontWeight:600},children:s.length})]})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"1.5rem"},children:[e.length===0&&s.length===0&&E.jsx("p",{style:{opacity:.7},children:"No categories yet. Create a group first, then add categories!"}),Tr.map((ie,oe)=>{const ue=(Er[ie.id]||[]).sort((Re,it)=>Re.sort_order-it.sort_order),Se=P==="group"&&X===ie.id,_e=P==="group"&&ve===ie.id,Be=P==="category"&&pe===ie.id,je=X&&P==="category"?e.find(Re=>Re.id===X):null,xe=je&&(je.category_group_id||"ungrouped")!==ie.id,Je=P==="group"&&_e&&X!==ie.id,Oe=oe>0,Tt=oe<Tr.length-1;return E.jsxs("div",{children:[P==="group"&&!Se&&E.jsxs("div",{onDragOver:Re=>{Re.preventDefault(),he(ie.id)},onDragLeave:M,onDrop:Re=>Fe(Re,ie.id),style:{position:"relative",height:Je?"2.5rem":"0.5rem",marginBottom:Je?"-0.5rem":"-0.25rem",transition:"height 0.15s"},children:[E.jsx("div",{style:{position:"absolute",top:"50%",left:0,right:0,height:"3px",background:gt.primary,borderRadius:"2px",opacity:Je?1:0,transition:"opacity 0.15s",boxShadow:Je?"0 0 8px rgba(100, 108, 255, 0.6)":"none"}}),Je&&E.jsx("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"0.75rem",opacity:.7,background:"var(--background, #1a1a1a)",padding:"0 0.5rem",whiteSpace:"nowrap"},children:"Drop here"})]}),E.jsx("div",{draggable:I!==ie.id,onDragStart:Re=>Le(Re,ie.id),onDragOver:Re=>{qe(Re,ie.id)},onDragLeave:Z,onDragEnd:ae,onDrop:Re=>we(Re,ie.id),style:{background:Se?"color-mix(in srgb, currentColor 3%, transparent)":Be&&xe?`color-mix(in srgb, ${gt.primary} 10%, transparent)`:"color-mix(in srgb, currentColor 5%, transparent)",borderRadius:"12px",padding:"1rem",opacity:Se?.5:1,border:Be&&xe?`2px dashed ${gt.primary}`:"2px solid transparent",cursor:I===ie.id?"default":"grab",transition:"all 0.15s"},children:I===ie.id?E.jsx(IE,{initialData:{name:ie.name},onSubmit:Re=>B(ie.id,Re),onCancel:()=>U(null),submitLabel:"Save"}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:m?"0.5rem":"0.75rem",paddingBottom:"0.5rem",borderBottom:"1px solid color-mix(in srgb, currentColor 15%, transparent)",gap:"0.5rem",flexWrap:m?"wrap":"nowrap"},children:[E.jsxs("h3",{style:{...AE,margin:0,display:"flex",alignItems:"center",gap:"0.5rem",flex:1,minWidth:0},children:[!m&&E.jsx("span",{style:{cursor:"grab",opacity:.4},children:""}),E.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:ie.name}),E.jsxs("span",{style:{opacity:.5,fontWeight:400,fontSize:"0.9rem",flexShrink:0},children:["(",ue.length,")"]})]}),E.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexShrink:0,alignItems:"center"},children:[!m&&E.jsx(qt,{variant:"small",onClick:()=>b(ie.id),disabled:T!==null,children:"+ Category"}),E.jsx("button",{onClick:()=>U(ie.id),style:{background:"transparent",border:"none",cursor:"pointer",opacity:.6,fontSize:"0.9rem",padding:"0.25rem"},title:"Edit group",children:""}),E.jsx("button",{onClick:()=>se(ie.id),style:{background:"transparent",border:"none",cursor:"pointer",opacity:.6,fontSize:"0.9rem",padding:"0.25rem"},title:"Delete group",children:""}),E.jsxs("div",{style:IS,children:[E.jsx("button",{onClick:()=>dt(ie.id,"up"),disabled:!Oe,style:{...jh,opacity:Oe?.6:.2,cursor:Oe?"pointer":"default"},title:"Move group up","aria-label":"Move group up",children:""}),E.jsx("button",{onClick:()=>dt(ie.id,"down"),disabled:!Tt,style:{...jh,opacity:Tt?.6:.2,cursor:Tt?"pointer":"default"},title:"Move group down","aria-label":"Move group down",children:""})]})]})]}),m&&E.jsx("div",{style:{marginBottom:"0.5rem"},children:E.jsx(qt,{variant:"small",onClick:()=>b(ie.id),disabled:T!==null,children:"+ Category"})}),E.jsxs("div",{style:ou,children:[ue.map(Re=>p===Re.id?E.jsx(sh,{initialData:{name:Re.name},onSubmit:it=>R(Re.id,it),onCancel:()=>g(null),submitLabel:"Save"},Re.id):E.jsx(ap,{isDragging:P==="category"&&X===Re.id,isDragOver:ve===Re.id,onDragStart:it=>{it.stopPropagation(),ge(it,Re.id)},onDragOver:it=>De(it,Re.id,ie.id),onDragLeave:M,onDragEnd:ae,onDrop:it=>fe(it,Re.id,ie.id),onEdit:()=>g(Re.id),onDelete:()=>ce(Re.id),onMoveUp:()=>Et(Re.id,"up"),onMoveDown:()=>Et(Re.id,"down"),canMoveUp:ue.findIndex(it=>it.id===Re.id)>0,canMoveDown:ue.findIndex(it=>it.id===Re.id)<ue.length-1,children:E.jsx("span",{style:sp,children:Re.name})},Re.id)),ue.length===0&&!T&&E.jsx("p",{style:{opacity:.5,fontSize:"0.9rem",margin:"0.5rem 0"},children:"No categories in this group"}),P==="category"&&ue.length>0&&E.jsx(xE,{groupId:ie.id,isActive:ve===`__end__${ie.id}`,onDragOver:Re=>{Re.preventDefault(),Re.stopPropagation(),he(`__end__${ie.id}`),x(ie.id)},onDragLeave:Re=>{Re.stopPropagation(),he(null)},onDrop:Re=>{Re.stopPropagation(),fe(Re,"__group_end__",ie.id)}}),T===ie.id&&E.jsx(sh,{initialData:{name:""},onSubmit:Re=>k(Re,ie.id),onCancel:()=>b(null),submitLabel:"Create"})]}),!T&&ue.length>0&&E.jsx("div",{style:{marginTop:"0.75rem",paddingTop:"0.5rem",borderTop:"1px solid color-mix(in srgb, currentColor 10%, transparent)"},children:E.jsx(qt,{variant:"small",onClick:()=>b(ie.id),children:"+ Add Category"})})]})})]},ie.id)}),P==="group"&&Tr.length>0&&E.jsx(hg,{isActive:ve==="__end__",onDragOver:ie=>{ie.preventDefault(),he("__end__")},onDragLeave:M,onDrop:ie=>Fe(ie,"__end__"),label:"Move group to end"}),(()=>{const ie=(Er.ungrouped||[]).sort((_e,Be)=>_e.sort_order-Be.sort_order),oe=P==="category"&&pe==="ungrouped",ue=X&&P==="category"?e.find(_e=>_e.id===X):null,Se=ue&&ue.category_group_id!==null;return ie.length===0&&!T&&s.length>0&&P!=="category"?null:E.jsxs("div",{onDragOver:_e=>qe(_e,"ungrouped"),onDragLeave:Z,onDrop:_e=>we(_e,"ungrouped"),style:{background:oe&&Se?`color-mix(in srgb, ${gt.primary} 10%, transparent)`:"color-mix(in srgb, currentColor 5%, transparent)",borderRadius:"12px",padding:"1rem",border:oe&&Se?`2px dashed ${gt.primary}`:"2px solid transparent",transition:"all 0.15s"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem",paddingBottom:"0.5rem",borderBottom:"1px solid color-mix(in srgb, currentColor 15%, transparent)"},children:[E.jsxs("h3",{style:{...AE,margin:0,opacity:.7},children:["Uncategorized",E.jsxs("span",{style:{marginLeft:"0.5rem",opacity:.5,fontWeight:400,fontSize:"0.9rem"},children:["(",ie.length,")"]})]}),E.jsx(qt,{variant:"small",onClick:()=>b("ungrouped"),disabled:T!==null,children:"+ Category"})]}),E.jsxs("div",{style:ou,children:[ie.map(_e=>p===_e.id?E.jsx(sh,{initialData:{name:_e.name},onSubmit:Be=>R(_e.id,Be),onCancel:()=>g(null),submitLabel:"Save"},_e.id):E.jsx(ap,{isDragging:P==="category"&&X===_e.id,isDragOver:ve===_e.id,onDragStart:Be=>ge(Be,_e.id),onDragOver:Be=>De(Be,_e.id,"ungrouped"),onDragLeave:M,onDragEnd:ae,onDrop:Be=>fe(Be,_e.id,"ungrouped"),onEdit:()=>g(_e.id),onDelete:()=>ce(_e.id),onMoveUp:()=>Et(_e.id,"up"),onMoveDown:()=>Et(_e.id,"down"),canMoveUp:ie.findIndex(Be=>Be.id===_e.id)>0,canMoveDown:ie.findIndex(Be=>Be.id===_e.id)<ie.length-1,children:E.jsx("span",{style:sp,children:_e.name})},_e.id)),ie.length===0&&P==="category"&&E.jsx("p",{style:{opacity:.5,fontSize:"0.9rem",margin:"0.5rem 0",textAlign:"center"},children:"Drop here to uncategorize"}),P==="category"&&ie.length>0&&E.jsx(xE,{groupId:"ungrouped",isActive:ve==="__end__ungrouped",onDragOver:_e=>{_e.preventDefault(),_e.stopPropagation(),he("__end__ungrouped"),x("ungrouped")},onDragLeave:_e=>{_e.stopPropagation(),he(null)},onDrop:_e=>{_e.stopPropagation(),fe(_e,"__group_end__","ungrouped")}}),T==="ungrouped"&&E.jsx(sh,{initialData:{name:""},onSubmit:_e=>k(_e,"ungrouped"),onCancel:()=>b(null),submitLabel:"Create"})]}),!T&&ie.length>0&&E.jsx("div",{style:{marginTop:"0.75rem",paddingTop:"0.5rem",borderTop:"1px solid color-mix(in srgb, currentColor 10%, transparent)"},children:E.jsx(qt,{variant:"small",onClick:()=>b("ungrouped"),children:"+ Add Category"})})]})})()]}),z?E.jsx(IE,{onSubmit:Me,onCancel:()=>Q(!1),submitLabel:"Create Group"}):E.jsx(qt,{variant:"primary-large",onClick:()=>Q(!0),children:"+ Add Category Group"})]}):E.jsx("p",{children:"No budget found. Please log in."})}function sh({initialData:i,onSubmit:e,onCancel:n,submitLabel:s}){const[o,u]=L.useState(i||{name:""}),[f,m]=L.useState(!1);function p(g){g.preventDefault(),o.name.trim()&&(m(!0),e(o))}return E.jsxs(df,{onSubmit:p,children:[E.jsx(Wl,{label:"Category Name",htmlFor:"category-name",children:E.jsx(cg,{id:"category-name",type:"text",value:o.name,onChange:g=>u({...o,name:g.target.value}),placeholder:"e.g., Groceries, Rent, Gas",required:!0,autoFocus:!0})}),E.jsxs(Su,{children:[E.jsx(qt,{type:"submit",isLoading:f,children:s}),E.jsx(qt,{type:"button",variant:"secondary",onClick:n,children:"Cancel"})]})]})}function IE({initialData:i,onSubmit:e,onCancel:n,submitLabel:s}){const[o,u]=L.useState(i||{name:""}),[f,m]=L.useState(!1);function p(g){g.preventDefault(),o.name.trim()&&(m(!0),e(o))}return E.jsxs(df,{onSubmit:p,children:[E.jsx(Wl,{label:"Group Name",htmlFor:"group-name",children:E.jsx(cg,{id:"group-name",type:"text",value:o.name,onChange:g=>u({...o,name:g.target.value}),placeholder:"e.g., Housing, Transportation, Food",required:!0,autoFocus:!0})}),E.jsxs(Su,{children:[E.jsx(qt,{type:"submit",isLoading:f,children:s}),E.jsx(qt,{type:"button",variant:"secondary",onClick:n,children:"Cancel"})]})]})}function xE({isActive:i,onDragOver:e,onDragLeave:n,onDrop:s}){return E.jsxs("div",{onDragOver:e,onDragLeave:n,onDrop:s,style:{position:"relative",height:"2rem",marginTop:"-0.25rem"},children:[E.jsx("div",{style:{position:"absolute",top:"50%",left:0,right:0,height:"3px",background:gt.primary,borderRadius:"2px",opacity:i?1:.3,transition:"opacity 0.15s",boxShadow:i?"0 0 8px rgba(100, 108, 255, 0.6)":"none"}}),i&&E.jsx("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"0.75rem",opacity:.7,background:"var(--background, #1a1a1a)",padding:"0 0.5rem",whiteSpace:"nowrap"},children:"Move to end"})]})}function aM(){const{currentBudget:i,loading:e,isOwner:n}=ma(),s=tr();if(e)return E.jsx("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:E.jsx("p",{children:"Loading..."})});if(!i)return E.jsx("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:E.jsx("p",{children:"No budget found. Please log in."})});if(!n)return E.jsxs("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:[E.jsx("nav",{style:{marginBottom:"1.5rem"},children:E.jsx(hn,{to:"/budget",children:" Back to Budget"})}),E.jsx("h1",{children:"Access Denied"}),E.jsx("p",{style:{opacity:.7},children:"Only the budget owner can access admin settings."})]});const o=s.pathname.includes("/admin/accounts"),u=s.pathname.includes("/admin/categories"),f=s.pathname.includes("/admin/users"),m=s.pathname.includes("/admin/migration"),p=s.pathname.includes("/admin/feedback"),g=s.pathname==="/budget/admin";return E.jsxs("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:[E.jsx("nav",{style:{marginBottom:"1.5rem"},children:E.jsx(hn,{to:"/budget",children:" Back to Budget"})}),E.jsx("h1",{children:"Admin Settings"}),E.jsx("p",{style:{opacity:.7,marginBottom:"0.5rem"},children:"Manage your budget settings, users, and data migration."}),E.jsxs("div",{style:{opacity:.6,marginBottom:"1.5rem",fontSize:"0.9rem",display:"flex",flexDirection:"column",gap:"0.25rem"},children:[E.jsxs("p",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{children:""}),E.jsxs("span",{children:["Budget Name: ",E.jsx("strong",{style:{opacity:1},children:i.name})]})]}),E.jsxs("p",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{children:""}),E.jsxs("span",{children:["Budget ID: ",E.jsx("code",{style:{opacity:1,background:"color-mix(in srgb, currentColor 10%, transparent)",padding:"0.1rem 0.4rem",borderRadius:"4px",fontSize:"0.85rem"},children:i.id})]})]}),E.jsxs("p",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{children:""}),E.jsxs("span",{children:["Budget Owner: ",E.jsx("strong",{style:{opacity:1},children:i.owner_email||i.owner_id})]})]})]}),E.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",borderBottom:"1px solid color-mix(in srgb, currentColor 15%, transparent)",paddingBottom:"1rem",flexWrap:"wrap"},children:[E.jsx(hn,{to:"/budget/admin/accounts",style:{padding:"0.5rem 1rem",borderRadius:"6px",textDecoration:"none",color:"inherit",background:o?"color-mix(in srgb, #646cff 20%, transparent)":"color-mix(in srgb, currentColor 8%, transparent)",border:o?"1px solid #646cff":"1px solid transparent",fontWeight:o?500:400},children:" Accounts"}),E.jsx(hn,{to:"/budget/admin/categories",style:{padding:"0.5rem 1rem",borderRadius:"6px",textDecoration:"none",color:"inherit",background:u?"color-mix(in srgb, #646cff 20%, transparent)":"color-mix(in srgb, currentColor 8%, transparent)",border:u?"1px solid #646cff":"1px solid transparent",fontWeight:u?500:400},children:" Categories"}),E.jsx(hn,{to:"/budget/admin/users",style:{padding:"0.5rem 1rem",borderRadius:"6px",textDecoration:"none",color:"inherit",background:f?"color-mix(in srgb, #646cff 20%, transparent)":"color-mix(in srgb, currentColor 8%, transparent)",border:f?"1px solid #646cff":"1px solid transparent",fontWeight:f?500:400},children:" Users"}),E.jsx(hn,{to:"/budget/admin/migration",style:{padding:"0.5rem 1rem",borderRadius:"6px",textDecoration:"none",color:"inherit",background:m?"color-mix(in srgb, #646cff 20%, transparent)":"color-mix(in srgb, currentColor 8%, transparent)",border:m?"1px solid #646cff":"1px solid transparent",fontWeight:m?500:400},children:" Migration"}),E.jsx(hn,{to:"/budget/admin/feedback",style:{padding:"0.5rem 1rem",borderRadius:"6px",textDecoration:"none",color:"inherit",background:p?"color-mix(in srgb, #646cff 20%, transparent)":"color-mix(in srgb, currentColor 8%, transparent)",border:p?"1px solid #646cff":"1px solid transparent",fontWeight:p?500:400},children:" Feedback"})]}),g?E.jsx(GE,{to:"/budget/admin/accounts",replace:!0}):E.jsx(pp,{})]})}function oM(){const{currentBudget:i,currentUserId:e,updateBudgetUsers:n,refreshBudget:s}=ma(),[o,u]=L.useState(""),[f,m]=L.useState(!1),[p,g]=L.useState(null),[T,b]=L.useState(null);if(!i)return E.jsx("p",{children:"No budget found."});async function I(z){if(z.preventDefault(),!(!o.trim()||!i)){m(!0),g(null),b(null);try{if(i.user_ids.includes(o.trim()))throw new Error("This user already has access to this budget");const Q=[...i.user_ids,o.trim()];await n(Q),await s(),u(""),b("User added successfully!")}catch(Q){g(Q instanceof Error?Q.message:"Failed to add user")}finally{m(!1)}}}async function U(z){if(i){if(z===i.owner_id){g("Cannot remove the budget owner");return}if(z===e){g("Cannot remove yourself from the budget");return}if(confirm("Are you sure you want to remove this user from the budget?")){g(null),b(null);try{const Q=i.user_ids.filter(P=>P!==z);await n(Q),await s(),b("User removed successfully!")}catch(Q){g(Q instanceof Error?Q.message:"Failed to remove user")}}}}return E.jsxs("div",{children:[E.jsx("h2",{style:{marginTop:0},children:"Budget Users"}),E.jsx("p",{style:{opacity:.7,marginBottom:"1.5rem"},children:"Manage who has access to this budget. Add users by their Firebase User ID."}),p&&E.jsxs("div",{style:{background:"rgba(220, 38, 38, 0.1)",border:"1px solid rgba(220, 38, 38, 0.3)",color:"#f87171",padding:"0.75rem 1rem",borderRadius:"8px",marginBottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsx("span",{children:p}),E.jsx("button",{onClick:()=>g(null),style:{background:"transparent",border:"none",color:"#f87171",cursor:"pointer",fontSize:"1.2rem",padding:"0 0.25rem",lineHeight:1},children:""})]}),T&&E.jsxs("div",{style:{background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.3)",color:"#4ade80",padding:"0.75rem 1rem",borderRadius:"8px",marginBottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsx("span",{children:T}),E.jsx("button",{onClick:()=>b(null),style:{background:"transparent",border:"none",color:"#4ade80",cursor:"pointer",fontSize:"1.2rem",padding:"0 0.25rem",lineHeight:1},children:""})]}),E.jsxs("div",{style:{background:"color-mix(in srgb, currentColor 5%, transparent)",padding:"1.25rem",borderRadius:"8px",marginBottom:"1.5rem"},children:[E.jsxs("h3",{style:{margin:"0 0 1rem 0",fontSize:"1rem"},children:["Current Users (",i.user_ids.length,")"]}),E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:i.user_ids.map(z=>{const Q=z===i.owner_id,P=z===e;return E.jsxs("div",{style:{background:"color-mix(in srgb, currentColor 8%, transparent)",padding:"0.75rem 1rem",borderRadius:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem"},children:[E.jsx("div",{style:{flex:1,minWidth:0},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:[E.jsx("code",{style:{fontSize:"0.85rem",background:"color-mix(in srgb, currentColor 10%, transparent)",padding:"0.2rem 0.5rem",borderRadius:"4px",wordBreak:"break-all"},children:z}),Q&&E.jsx("span",{style:{background:"color-mix(in srgb, #646cff 20%, transparent)",color:"#a5b4fc",padding:"0.15rem 0.5rem",borderRadius:"4px",fontSize:"0.7rem",textTransform:"uppercase",fontWeight:600},children:"Owner"}),P&&E.jsx("span",{style:{background:"color-mix(in srgb, #22c55e 20%, transparent)",color:"#4ade80",padding:"0.15rem 0.5rem",borderRadius:"4px",fontSize:"0.7rem",textTransform:"uppercase",fontWeight:600},children:"You"})]})}),!Q&&!P&&E.jsx("button",{onClick:()=>U(z),style:{background:"transparent",border:"1px solid rgba(220, 38, 38, 0.4)",color:"#f87171",padding:"0.4rem 0.75rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",whiteSpace:"nowrap"},children:"Remove"})]},z)})})]}),E.jsxs("div",{style:{background:"color-mix(in srgb, currentColor 5%, transparent)",padding:"1.25rem",borderRadius:"8px"},children:[E.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1rem"},children:"Add User"}),E.jsxs("form",{onSubmit:I,style:{display:"flex",gap:"0.75rem"},children:[E.jsx("input",{type:"text",value:o,onChange:z=>u(z.target.value),placeholder:"Enter Firebase User ID",style:{flex:1,padding:"0.6rem 0.8rem",borderRadius:"6px",border:"1px solid color-mix(in srgb, currentColor 20%, transparent)",background:"color-mix(in srgb, currentColor 5%, transparent)",fontSize:"0.95rem",color:"inherit"}}),E.jsx("button",{type:"submit",disabled:f||!o.trim(),style:{background:"#646cff",color:"white",border:"none",padding:"0.6rem 1.25rem",borderRadius:"6px",cursor:f||!o.trim()?"not-allowed":"pointer",fontWeight:500,opacity:f||!o.trim()?.7:1,whiteSpace:"nowrap"},children:f?"Adding...":"Add User"})]}),E.jsx("p",{style:{margin:"1rem 0 0 0",fontSize:"0.85rem",opacity:.6},children:" To get a user's Firebase ID, they need to log in and you can find it in the Firebase Console under Authentication  Users, or they can share it from their account page."})]})]})}function DE(){return E.jsx("span",{style:{display:"inline-block",width:"14px",height:"14px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTopColor:"white",borderRadius:"50%",animation:"spin 0.8s linear infinite",marginRight:"0.5rem",verticalAlign:"middle"}})}function lM(){const i=bu(),{currentBudget:e}=ma(),n=L.useRef(!1),[s,o]=L.useState({ownerIdInFirestore:null,ownerEmailInFirestore:null,loading:!0}),[u,f]=L.useState(!1),[m,p]=L.useState(null),[g,T]=L.useState(!1),[b,I]=L.useState(null),U=No(fa),z=i.get_current_firebase_user();L.useEffect(()=>{async function re(){if(!e||n.current){e||o({ownerIdInFirestore:null,ownerEmailInFirestore:null,loading:!1});return}n.current=!0;try{const ve=Ln(U,"budgets",e.id),he=await Zn(ve);if(he.exists()){const pe=he.data();o({ownerIdInFirestore:pe.owner_id||null,ownerEmailInFirestore:pe.owner_email||null,loading:!1})}else o({ownerIdInFirestore:null,ownerEmailInFirestore:null,loading:!1})}catch{o({ownerIdInFirestore:null,ownerEmailInFirestore:null,loading:!1})}}re()},[e,U]);async function Q(){if(!(!e||!z)){f(!0),p(null);try{const re=Ln(U,"budgets",e.id),ve=await Zn(re);if(!ve.exists())throw new Error("Budget document not found");const he=ve.data();if(he.owner_id){p(`Owner ID already set: ${he.owner_id}`),o(x=>({...x,ownerIdInFirestore:he.owner_id})),f(!1);return}const pe=he.user_ids?.[0]||z.uid;await wn(re,{...he,owner_id:pe}),o(x=>({...x,ownerIdInFirestore:pe})),p(`Successfully added owner ID: ${pe}`)}catch(re){p(`Error: ${re instanceof Error?re.message:"Migration failed"}`)}finally{f(!1)}}}async function P(){if(!(!e||!z)){T(!0),I(null);try{const re=Ln(U,"budgets",e.id),ve=await Zn(re);if(!ve.exists())throw new Error("Budget document not found");const he=ve.data();if(he.owner_email){I(`Owner email already set: ${he.owner_email}`),o(pe=>({...pe,ownerEmailInFirestore:he.owner_email})),T(!1);return}if(he.owner_id!==z.uid)throw new Error("Only the budget owner can run this migration");await wn(re,{...he,owner_email:z.email||null}),o(pe=>({...pe,ownerEmailInFirestore:z.email||null})),I(`Successfully added owner email: ${z.email}`)}catch(re){I(`Error: ${re instanceof Error?re.message:"Migration failed"}`)}finally{T(!1)}}}const W=!!s.ownerIdInFirestore,X=!!s.ownerEmailInFirestore;return s.loading?E.jsxs("div",{children:[E.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"}),E.jsx("h2",{style:{marginTop:0},children:"Data Migrations"}),E.jsx("p",{style:{opacity:.7},children:"Checking migration status..."})]}):E.jsxs("div",{children:[E.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"}),E.jsx("h2",{style:{marginTop:0},children:"Data Migrations"}),E.jsx("p",{style:{opacity:.7,marginBottom:"1.5rem"},children:"Run migrations to update your budget data structure with new fields."}),E.jsxs("div",{style:{background:"color-mix(in srgb, currentColor 5%, transparent)",padding:"1.5rem",borderRadius:"8px",marginBottom:"1.5rem"},children:[E.jsxs("h3",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{background:W?"rgba(34, 197, 94, 0.2)":"rgba(100, 108, 255, 0.2)",color:W?"#4ade80":"#a5b4fc",padding:"0.15rem 0.5rem",borderRadius:"4px",fontSize:"0.7rem",textTransform:"uppercase",fontWeight:600},children:W?"Complete":"Step 1"}),"Add Owner ID to Budget"]}),E.jsx("p",{style:{opacity:.7,marginBottom:"1rem"},children:"Sets the budget owner to the first user in the user list (the original creator)."}),u?E.jsxs("div",{style:{background:"rgba(100, 108, 255, 0.1)",border:"1px solid rgba(100, 108, 255, 0.3)",color:"#a5b4fc",padding:"0.75rem 1rem",borderRadius:"8px",display:"flex",alignItems:"center"},children:[E.jsx(DE,{})," Running migration..."]}):W?E.jsxs("div",{style:{background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.3)",color:"#4ade80",padding:"0.75rem 1rem",borderRadius:"8px"},children:[" Owner ID already set: ",E.jsx("strong",{children:s.ownerIdInFirestore})]}):E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:Q,disabled:!z,style:{background:"#646cff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:z?"pointer":"not-allowed",fontWeight:500,opacity:z?1:.7},children:"Add Owner ID"}),m&&E.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem 1rem",borderRadius:"8px",background:m.startsWith("Error")?"rgba(220, 38, 38, 0.1)":"rgba(34, 197, 94, 0.1)",border:m.startsWith("Error")?"1px solid rgba(220, 38, 38, 0.3)":"1px solid rgba(34, 197, 94, 0.3)",color:m.startsWith("Error")?"#f87171":"#4ade80"},children:m})]})]}),E.jsxs("div",{style:{background:"color-mix(in srgb, currentColor 5%, transparent)",padding:"1.5rem",borderRadius:"8px",opacity:W?1:.5},children:[E.jsxs("h3",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{background:X?"rgba(34, 197, 94, 0.2)":"rgba(100, 108, 255, 0.2)",color:X?"#4ade80":"#a5b4fc",padding:"0.15rem 0.5rem",borderRadius:"4px",fontSize:"0.7rem",textTransform:"uppercase",fontWeight:600},children:X?"Complete":"Step 2"}),"Add Owner Email to Budget"]}),E.jsxs("p",{style:{opacity:.7,marginBottom:"1rem"},children:["Stores the budget owner's email for display purposes.",z?.email&&E.jsxs(E.Fragment,{children:[" Your email: ",E.jsx("strong",{children:z.email})]})]}),!W&&E.jsx("div",{style:{background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.3)",color:"#fbbf24",padding:"0.75rem 1rem",borderRadius:"8px"},children:" Complete Step 1 first (Add Owner ID)"}),W&&g&&E.jsxs("div",{style:{background:"rgba(100, 108, 255, 0.1)",border:"1px solid rgba(100, 108, 255, 0.3)",color:"#a5b4fc",padding:"0.75rem 1rem",borderRadius:"8px",display:"flex",alignItems:"center"},children:[E.jsx(DE,{})," Running migration..."]}),W&&!g&&X&&E.jsxs("div",{style:{background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.3)",color:"#4ade80",padding:"0.75rem 1rem",borderRadius:"8px"},children:[" Owner email already set: ",E.jsx("strong",{children:s.ownerEmailInFirestore})]}),W&&!g&&!X&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:P,disabled:!z,style:{background:"#646cff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:z?"pointer":"not-allowed",fontWeight:500,opacity:z?1:.7},children:"Add Owner Email"}),b&&E.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem 1rem",borderRadius:"8px",background:b.startsWith("Error")?"rgba(220, 38, 38, 0.1)":"rgba(34, 197, 94, 0.1)",border:b.startsWith("Error")?"1px solid rgba(220, 38, 38, 0.3)":"1px solid rgba(34, 197, 94, 0.3)",color:b.startsWith("Error")?"#f87171":"#4ade80"},children:b})]})]})]})}function uM(){const[i,e]=L.useState([]),[n,s]=L.useState(!0),[o,u]=L.useState(null),[f,m]=L.useState(null),[p,g]=L.useState(null),[T,b]=L.useState(!1),[I,U]=L.useState(""),[z,Q]=L.useState(!1),P=L.useContext(cu),W=No(fa);L.useEffect(()=>{X()},[]);async function X(){try{const R=Vb(W,"feedback"),ce=await Hb(R),Me=[];ce.forEach(B=>{const se=B.data();se.items&&se.items.forEach(ge=>{Me.push({...ge,user_email:se.user_email,doc_id:B.id})})}),e(Me)}catch(R){u(R instanceof Error?R.message:"Failed to load feedback")}finally{s(!1)}}async function re(R){if(R.preventDefault(),!(!I.trim()||!P.username)){Q(!0),u(null);try{const ce=P.username.replace(/[.@]/g,"_"),Me=Ln(W,"feedback",ce),B={id:`feedback_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,text:I.trim(),created_at:new Date().toISOString(),is_done:!1,completed_at:null,sort_order:Date.now()};(await Zn(Me)).exists()?await wn(Me,{items:Gb(B)},{merge:!0}):await wn(Me,{user_email:P.username,items:[B]}),e(ge=>[...ge,{...B,user_email:P.username,doc_id:ce}]),U(""),b(!1)}catch(ce){u(ce instanceof Error?ce.message:"Failed to add feedback")}finally{Q(!1)}}}async function ve(R){try{const ce=Ln(W,"feedback",R.doc_id),Me=await Zn(ce);if(Me.exists()){const B=Me.data(),se=B.items.map(ge=>ge.id===R.id?{id:R.id,text:R.text,created_at:R.created_at,is_done:R.is_done,completed_at:R.completed_at,sort_order:R.sort_order}:ge);await wn(ce,{...B,items:se})}}catch(ce){u(ce instanceof Error?ce.message:"Failed to update feedback")}}async function he(R){const ce={...R,is_done:!R.is_done,completed_at:R.is_done?null:new Date().toISOString()};e(Me=>Me.map(B=>B.id===R.id?ce:B)),await ve(ce)}const pe=i.filter(R=>!R.is_done).sort((R,ce)=>R.sort_order-ce.sort_order),x=i.filter(R=>R.is_done).sort((R,ce)=>{const Me=R.completed_at?new Date(R.completed_at).getTime():0;return(ce.completed_at?new Date(ce.completed_at).getTime():0)-Me});function w(R,ce){m(ce),R.dataTransfer.effectAllowed="move"}function C(R,ce){R.preventDefault(),ce!==f&&g(ce)}function N(){g(null)}function D(){m(null),g(null)}async function k(R,ce){if(R.preventDefault(),!f||f===ce){D();return}const Me=pe.findIndex(De=>De.id===f),B=[...pe],[se]=B.splice(Me,1);if(ce==="__end__")B.push(se);else{const De=B.findIndex(qe=>qe.id===ce);B.splice(De,0,se)}const ge=B.map((De,qe)=>({...De,sort_order:qe}));e(De=>[...De.filter(qe=>qe.is_done),...ge]),D();for(const De of ge)await ve(De)}return n?E.jsx("p",{children:"Loading feedback..."}):E.jsxs("div",{children:[E.jsx("h2",{style:{marginTop:0},children:"Feedback"}),E.jsx("p",{style:{...lg,fontSize:"0.9rem"},children:"View and manage user feedback. Drag to reorder pending items."}),o&&E.jsx(ug,{message:o,onDismiss:()=>u(null)}),E.jsxs("div",{style:ou,children:[pe.length===0&&!T&&E.jsx("p",{style:{opacity:.7},children:"No pending feedback."}),pe.map(R=>E.jsx(cM,{item:R,isDragging:f===R.id,isDragOver:p===R.id,onDragStart:ce=>w(ce,R.id),onDragOver:ce=>C(ce,R.id),onDragLeave:N,onDragEnd:D,onDrop:ce=>k(ce,R.id),onToggleDone:()=>he(R)},R.id)),f&&pe.length>0&&E.jsx(hg,{isActive:p==="__end__",onDragOver:R=>C(R,"__end__"),onDragLeave:N,onDrop:R=>k(R,"__end__")})]}),T?E.jsxs(df,{onSubmit:re,children:[E.jsx(OS,{value:I,onChange:R=>U(R.target.value),placeholder:"Enter your feedback, bug report, or feature request...",autoFocus:!0,required:!0}),E.jsxs(Su,{children:[E.jsx(qt,{type:"submit",isLoading:z,disabled:!I.trim(),children:"Add Feedback"}),E.jsx(qt,{type:"button",variant:"secondary",onClick:()=>{b(!1),U("")},children:"Cancel"})]})]}):E.jsx(qt,{variant:"primary-large",onClick:()=>b(!0),children:"+ Add Feedback"}),x.length>0&&E.jsx(tM,{title:"Completed",count:x.length,children:E.jsx("div",{style:{...ou,marginTop:"0.5rem"},children:x.map(R=>E.jsx("div",{style:{...hf,opacity:.6,flexDirection:"column",alignItems:"stretch",gap:"0.5rem"},children:E.jsx(VS,{checked:R.is_done,onChange:()=>he(R),children:E.jsxs("div",{style:{flex:1},children:[E.jsx("p",{style:{margin:0,lineHeight:1.5,textDecoration:"line-through"},children:R.text}),E.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",opacity:.8},children:[R.user_email,"  Created: ",op(R.created_at)]}),R.completed_at&&E.jsxs("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.8rem",color:gt.success},children:[" Completed: ",op(R.completed_at)]})]})})},R.id))})})]})}function cM({item:i,isDragging:e,isDragOver:n,onDragStart:s,onDragOver:o,onDragLeave:u,onDragEnd:f,onDrop:m,onToggleDone:p}){return E.jsxs("div",{onDragOver:g=>{g.stopPropagation(),o(g)},onDragLeave:g=>{g.stopPropagation(),u()},onDrop:g=>{g.stopPropagation(),m(g)},style:{position:"relative"},children:[E.jsx("div",{style:{...DS,opacity:n?1:0,boxShadow:n?"0 0 8px rgba(100, 108, 255, 0.6)":"none"}}),E.jsx("div",{draggable:!0,onDragStart:s,onDragEnd:f,style:{...hf,cursor:"grab",opacity:e?.5:1,flexDirection:"column",alignItems:"stretch",gap:"0.75rem"},children:E.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[E.jsx("span",{style:{...xS,marginTop:"0.25rem"},children:""}),E.jsx(VS,{checked:i.is_done,onChange:p,children:E.jsxs("div",{style:{flex:1},children:[E.jsx("p",{style:{margin:0,lineHeight:1.5},children:i.text}),E.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",opacity:.6},children:[i.user_email,"  ",op(i.created_at)]})]})})]})})]})}function hM({children:i}){const e=L.useContext(cu),n=tr();return e.is_auth_checked?e.is_logged_in?i?E.jsx(E.Fragment,{children:i}):E.jsx(pp,{}):E.jsx(GE,{to:"/account",state:{from:n.pathname},replace:!0}):E.jsx("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:E.jsx("p",{children:"Loading..."})})}function fM(){const{ensureBudgetLoaded:i,isInitialized:e,error:n}=ma();return L.useEffect(()=>{i()},[]),e?n?E.jsx("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:E.jsxs("p",{style:{color:"#ef4444"},children:["Error: ",n]})}):E.jsx(pp,{}):null}const dM={is_logged_in:!1,is_auth_checked:!1,username:"",set_user_context:()=>{}};function mM(){const[i,e]=L.useState(dM),n=bu();return L.useEffect(function(){n.set_user_listener(s=>{e({is_logged_in:s!=null,is_auth_checked:!0,username:s?.email??"",set_user_context:e})})},[]),i.is_auth_checked?E.jsx(cu.Provider,{value:i,children:E.jsx(_N,{children:E.jsxs(Fw,{children:[E.jsxs(vw,{children:[E.jsx(kn,{path:"/",element:E.jsx(vN,{})}),E.jsx(kn,{path:"/account",element:E.jsx(TN,{})}),E.jsx(kn,{path:"/sql-test",element:E.jsx(EN,{})}),E.jsx(kn,{path:"/budget",element:E.jsx(hM,{}),children:E.jsxs(kn,{element:E.jsx(fM,{}),children:[E.jsx(kn,{index:!0,element:E.jsx(nM,{})}),E.jsxs(kn,{path:"admin",element:E.jsx(aM,{}),children:[E.jsx(kn,{path:"accounts",element:E.jsx(iM,{})}),E.jsx(kn,{path:"categories",element:E.jsx(sM,{})}),E.jsx(kn,{path:"users",element:E.jsx(oM,{})}),E.jsx(kn,{path:"migration",element:E.jsx(lM,{})}),E.jsx(kn,{path:"feedback",element:E.jsx(uM,{})})]})]})})]}),E.jsx(eM,{})]})})}):E.jsx("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:E.jsx("p",{children:"Loading..."})})}EA.createRoot(document.getElementById("root")).render(E.jsx(L.StrictMode,{children:E.jsx(mM,{})}));
