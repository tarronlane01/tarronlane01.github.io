(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var nm={exports:{}},Ol={};var Av;function WA(){if(Av)return Ol;Av=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=e,Ol.jsx=n,Ol.jsxs=n,Ol}var wv;function JA(){return wv||(wv=1,nm.exports=WA()),nm.exports}var T=JA(),im={exports:{}},xe={};var Rv;function ZA(){if(Rv)return xe;Rv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),C=Symbol.iterator;function U(V){return V===null||typeof V!="object"?null:(V=C&&V[C]||V["@@iterator"],typeof V=="function"?V:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,G={};function X(V,W,le){this.props=V,this.context=W,this.refs=G,this.updater=le||j}X.prototype.isReactComponent={},X.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},X.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Z(){}Z.prototype=X.prototype;function re(V,W,le){this.props=V,this.context=W,this.refs=G,this.updater=le||j}var de=re.prototype=new Z;de.constructor=re,F(de,X.prototype),de.isPureReactComponent=!0;var pe=Array.isArray;function me(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(V,W,le){var ue=le.ref;return{$$typeof:r,type:V,key:W,ref:ue!==void 0?ue:null,props:le}}function N(V,W){return R(V.type,W,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function k(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(le){return W[le]})}var D=/\/+/g;function ke(V,W){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):W.toString(36)}function at(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(me,me):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,W,le,ue,we){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(Ie){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case r:case e:Le=!0;break;case E:return Le=V._init,Q(Le(V._payload),W,le,ue,we)}}if(Le)return we=we(V),Le=ue===""?"."+ke(V,0):ue,pe(we)?(le="",Le!=null&&(le=Le.replace(D,"$&/")+"/"),Q(we,W,le,"",function(ae){return ae})):we!=null&&(O(we)&&(we=N(we,le+(we.key==null||V&&V.key===we.key?"":(""+we.key).replace(D,"$&/")+"/")+Le)),W.push(we)),1;Le=0;var Tt=ue===""?".":ue+":";if(pe(V))for(var ne=0;ne<V.length;ne++)ue=V[ne],Ie=Tt+ke(ue,ne),Le+=Q(ue,W,le,Ie,we);else if(ne=U(V),typeof ne=="function")for(V=ne.call(V),ne=0;!(ue=V.next()).done;)ue=ue.value,Ie=Tt+ke(ue,ne++),Le+=Q(ue,W,le,Ie,we);else if(Ie==="object"){if(typeof V.then=="function")return Q(at(V),W,le,ue,we);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Le}function se(V,W,le){if(V==null)return V;var ue=[],we=0;return Q(V,ue,"","",function(Ie){return W.call(le,Ie,we++)}),ue}function _e(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(le){(V._status===0||V._status===-1)&&(V._status=1,V._result=le)},function(le){(V._status===0||V._status===-1)&&(V._status=2,V._result=le)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ye={map:se,forEach:function(V,W,le){se(V,function(){W.apply(this,arguments)},le)},count:function(V){var W=0;return se(V,function(){W++}),W},toArray:function(V){return se(V,function(W){return W})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return xe.Activity=b,xe.Children=Ye,xe.Component=X,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=re,xe.StrictMode=s,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xe.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},xe.cache=function(V){return function(){return V.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(V,W,le){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=F({},V.props),we=V.key;if(W!=null)for(Ie in W.key!==void 0&&(we=""+W.key),W)!w.call(W,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&W.ref===void 0||(ue[Ie]=W[Ie]);var Ie=arguments.length-2;if(Ie===1)ue.children=le;else if(1<Ie){for(var Le=Array(Ie),Tt=0;Tt<Ie;Tt++)Le[Tt]=arguments[Tt+2];ue.children=Le}return R(V.type,we,ue)},xe.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},xe.createElement=function(V,W,le){var ue,we={},Ie=null;if(W!=null)for(ue in W.key!==void 0&&(Ie=""+W.key),W)w.call(W,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(we[ue]=W[ue]);var Le=arguments.length-2;if(Le===1)we.children=le;else if(1<Le){for(var Tt=Array(Le),ne=0;ne<Le;ne++)Tt[ne]=arguments[ne+2];we.children=Tt}if(V&&V.defaultProps)for(ue in Le=V.defaultProps,Le)we[ue]===void 0&&(we[ue]=Le[ue]);return R(V,Ie,we)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(V){return{$$typeof:m,render:V}},xe.isValidElement=O,xe.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:_e}},xe.memo=function(V,W){return{$$typeof:g,type:V,compare:W===void 0?null:W}},xe.startTransition=function(V){var W=I.T,le={};I.T=le;try{var ue=V(),we=I.S;we!==null&&we(le,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(me,je)}catch(Ie){je(Ie)}finally{W!==null&&le.types!==null&&(W.types=le.types),I.T=W}},xe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xe.use=function(V){return I.H.use(V)},xe.useActionState=function(V,W,le){return I.H.useActionState(V,W,le)},xe.useCallback=function(V,W){return I.H.useCallback(V,W)},xe.useContext=function(V){return I.H.useContext(V)},xe.useDebugValue=function(){},xe.useDeferredValue=function(V,W){return I.H.useDeferredValue(V,W)},xe.useEffect=function(V,W){return I.H.useEffect(V,W)},xe.useEffectEvent=function(V){return I.H.useEffectEvent(V)},xe.useId=function(){return I.H.useId()},xe.useImperativeHandle=function(V,W,le){return I.H.useImperativeHandle(V,W,le)},xe.useInsertionEffect=function(V,W){return I.H.useInsertionEffect(V,W)},xe.useLayoutEffect=function(V,W){return I.H.useLayoutEffect(V,W)},xe.useMemo=function(V,W){return I.H.useMemo(V,W)},xe.useOptimistic=function(V,W){return I.H.useOptimistic(V,W)},xe.useReducer=function(V,W,le){return I.H.useReducer(V,W,le)},xe.useRef=function(V){return I.H.useRef(V)},xe.useState=function(V){return I.H.useState(V)},xe.useSyncExternalStore=function(V,W,le){return I.H.useSyncExternalStore(V,W,le)},xe.useTransition=function(){return I.H.useTransition()},xe.version="19.2.3",xe}var Cv;function Zm(){return Cv||(Cv=1,im.exports=ZA()),im.exports}var P=Zm(),rm={exports:{}},Nl={},sm={exports:{}},am={};var Iv;function e1(){return Iv||(Iv=1,(function(r){function e(Q,se){var _e=Q.length;Q.push(se);e:for(;0<_e;){var je=_e-1>>>1,Ye=Q[je];if(0<o(Ye,se))Q[je]=se,Q[_e]=Ye,_e=je;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var se=Q[0],_e=Q.pop();if(_e!==se){Q[0]=_e;e:for(var je=0,Ye=Q.length,V=Ye>>>1;je<V;){var W=2*(je+1)-1,le=Q[W],ue=W+1,we=Q[ue];if(0>o(le,_e))ue<Ye&&0>o(we,le)?(Q[je]=we,Q[ue]=_e,je=ue):(Q[je]=le,Q[W]=_e,je=W);else if(ue<Ye&&0>o(we,_e))Q[je]=we,Q[ue]=_e,je=ue;else break e}}return se}function o(Q,se){var _e=Q.sortIndex-se.sortIndex;return _e!==0?_e:Q.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,b=null,C=3,U=!1,j=!1,F=!1,G=!1,X=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function de(Q){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=Q)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function pe(Q){if(F=!1,de(Q),!j)if(n(p)!==null)j=!0,me||(me=!0,k());else{var se=n(g);se!==null&&at(pe,se.startTime-Q)}}var me=!1,I=-1,w=5,R=-1;function N(){return G?!0:!(r.unstable_now()-R<w)}function O(){if(G=!1,me){var Q=r.unstable_now();R=Q;var se=!0;try{e:{j=!1,F&&(F=!1,Z(I),I=-1),U=!0;var _e=C;try{t:{for(de(Q),b=n(p);b!==null&&!(b.expirationTime>Q&&N());){var je=b.callback;if(typeof je=="function"){b.callback=null,C=b.priorityLevel;var Ye=je(b.expirationTime<=Q);if(Q=r.unstable_now(),typeof Ye=="function"){b.callback=Ye,de(Q),se=!0;break t}b===n(p)&&s(p),de(Q)}else s(p);b=n(p)}if(b!==null)se=!0;else{var V=n(g);V!==null&&at(pe,V.startTime-Q),se=!1}}break e}finally{b=null,C=_e,U=!1}se=void 0}}finally{se?k():me=!1}}}var k;if(typeof re=="function")k=function(){re(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ke=D.port2;D.port1.onmessage=O,k=function(){ke.postMessage(null)}}else k=function(){X(O,0)};function at(Q,se){I=X(function(){Q(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(Q){switch(C){case 1:case 2:case 3:var se=3;break;default:se=C}var _e=C;C=se;try{return Q()}finally{C=_e}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var _e=C;C=Q;try{return se()}finally{C=_e}},r.unstable_scheduleCallback=function(Q,se,_e){var je=r.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?je+_e:je):_e=je,Q){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=_e+Ye,Q={id:E++,callback:se,priorityLevel:Q,startTime:_e,expirationTime:Ye,sortIndex:-1},_e>je?(Q.sortIndex=_e,e(g,Q),n(p)===null&&Q===n(g)&&(F?(Z(I),I=-1):F=!0,at(pe,_e-je))):(Q.sortIndex=Ye,e(p,Q),j||U||(j=!0,me||(me=!0,k()))),Q},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(Q){var se=C;return function(){var _e=C;C=se;try{return Q.apply(this,arguments)}finally{C=_e}}}})(am)),am}var Dv;function t1(){return Dv||(Dv=1,sm.exports=e1()),sm.exports}var om={exports:{}},an={};var xv;function n1(){if(xv)return an;xv=1;var r=Zm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},an.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},an.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},an.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},an.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),C=typeof g.integrity=="string"?g.integrity:void 0,U=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:U}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:C,fetchPriority:U,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},an.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},an.requestFormReset=function(p){s.d.r(p)},an.unstable_batchedUpdates=function(p,g){return p(g)},an.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},an.useFormStatus=function(){return f.H.useHostTransitionStatus()},an.version="19.2.3",an}var Ov;function i1(){if(Ov)return om.exports;Ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),om.exports=n1(),om.exports}var Nv;function r1(){if(Nv)return Nl;Nv=1;var r=t1(),e=Zm(),n=i1();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,C=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),re=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case X:return"Profiler";case G:return"StrictMode";case pe:return"Suspense";case me:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case re:return t.displayName||"Context";case Z:return(t._context.displayName||"Context")+".Consumer";case de:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:ke(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return ke(t(i))}catch{}}return null}var at=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},je=[],Ye=-1;function V(t){return{current:t}}function W(t){0>Ye||(t.current=je[Ye],je[Ye]=null,Ye--)}function le(t,i){Ye++,je[Ye]=t.current,t.current=i}var ue=V(null),we=V(null),Ie=V(null),Le=V(null);function Tt(t,i){switch(le(Ie,i),le(we,t),le(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?K_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=K_(i),t=Y_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ue),le(ue,t)}function ne(){W(ue),W(we),W(Ie)}function ae(t){t.memoizedState!==null&&le(Le,t);var i=ue.current,a=Y_(i,t.type);i!==a&&(le(we,t),le(ue,a))}function ye(t){we.current===t&&(W(ue),W(we)),Le.current===t&&(W(Le),Cl._currentValue=_e)}var Ce,Te;function Ge(t){if(Ce===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ce=i&&i[1]||"",Te=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+t+Te}var Xe=!1;function dt(t,i){if(!t||Xe)return"";Xe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var H=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){H=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){H=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var x=_.split(`
`),q=S.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===q.length)for(l=x.length-1,h=q.length-1;1<=l&&0<=h&&x[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==q[h]){var $=`
`+x[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{Xe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ge(a):""}function Re(t,i){switch(t.tag){case 26:case 27:case 5:return Ge(t.type);case 16:return Ge("Lazy");case 13:return t.child!==i&&i!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return dt(t.type,!1);case 11:return dt(t.type.render,!1);case 1:return dt(t.type,!0);case 31:return Ge("Activity");default:return""}}function We(t){try{var i="",a=null;do i+=Re(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Qe=Object.prototype.hasOwnProperty,xt=r.unstable_scheduleCallback,Ar=r.unstable_cancelCallback,rf=r.unstable_shouldYield,_u=r.unstable_requestPaint,hn=r.unstable_now,bs=r.unstable_getCurrentPriorityLevel,xo=r.unstable_ImmediatePriority,Oo=r.unstable_UserBlockingPriority,wr=r.unstable_NormalPriority,sf=r.unstable_LowPriority,vu=r.unstable_IdlePriority,Eu=r.log,Tu=r.unstable_setDisableYieldValue,Wn=null,$t=null;function Vn(t){if(typeof Eu=="function"&&Tu(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Wn,t)}catch{}}var At=Math.clz32?Math.clz32:Su,bu=Math.log,fa=Math.LN2;function Su(t){return t>>>=0,t===0?32:31-(bu(t)/fa|0)|0}var gi=256,Ss=262144,Ot=4194304;function yi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _i(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=yi(l):(_&=S,_!==0?h=yi(_):a||(a=S&~t,a!==0&&(h=yi(a))))):(S=l&~d,S!==0?h=yi(S):_!==0?h=yi(_):a||(a=l&~t,a!==0&&(h=yi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Jn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function af(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Au(){var t=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),t}function vi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function As(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function of(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,x=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-At(a),ee=1<<$;S[$]=0,x[$]=-1;var H=q[$];if(H!==null)for(q[$]=null,$=0;$<H.length;$++){var Y=H[$];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&ws(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ws(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-At(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function No(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-At(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Mo(t,i){var a=i&-i;return a=(a&42)!==0?1:Rs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Rs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:yv(t.type))}function Zn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var ei=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ei,Qt="__reactProps$"+ei,Ei="__reactContainer$"+ei,da="__reactEvents$"+ei,lf="__reactListeners$"+ei,Ru="__reactHandles$"+ei,Cu="__reactResources$"+ei,Ti="__reactMarker$"+ei;function ma(t){delete t[Nt],delete t[Qt],delete t[da],delete t[lf],delete t[Ru]}function bi(t){var i=t[Nt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ei]||a[Nt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=tv(t);t!==null;){if(a=t[Nt])return a;t=tv(t)}return i}t=a,a=t.parentNode}return null}function kn(t){if(t=t[Nt]||t[Ei]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function An(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Si(t){var i=t[Cu];return i||(i=t[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Mt(t){t[Ti]=!0}var Vo=new Set,ko={};function Ai(t,i){wi(t,i),wi(t+"Capture",i)}function wi(t,i){for(ko[t]=i,t=0;t<i.length;t++)Vo.add(i[t])}var Lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},Uo={};function Iu(t){return Qe.call(Uo,t)?!0:Qe.call(Po,t)?!1:Lo.test(t)?Uo[t]=!0:(Po[t]=!0,!1)}function pa(t,i,a){if(Iu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function wn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Vt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function it(t){if(!t._valueTracker){var i=Rr(t)?"checked":"value";t._valueTracker=jo(t,i,""+t[i])}}function Cs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Rr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Is=/[\n"\\]/g;function pn(t){return t.replace(Is,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ga(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Kt(i)):t.value!==""+Kt(i)&&(t.value=""+Kt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?zo(t,_,Kt(i)):a!=null?zo(t,_,Kt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Kt(S):t.removeAttribute("name")}function Du(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){it(t);return}a=a!=null?""+Kt(a):"",i=i!=null?""+Kt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),it(t)}function zo(t,i,a){i==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Cr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Kt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function xu(t,i,a){if(i!=null&&(i=""+Kt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Kt(a):""}function Ir(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Kt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),it(t)}function gn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ou.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function qo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Bo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Bo(t,d,i[d])}function ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return Dr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var Ho=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xr=null,Ci=null;function Ds(t){var i=kn(t);if(i&&(t=i.stateNode)){var a=t[Qt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ga(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Qt]||null;if(!h)throw Error(s(90));ga(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Cs(l)}break e;case"textarea":xu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Cr(t,!!a.multiple,i,!1)}}}var va=!1;function Or(t,i,a){if(va)return t(i,a);va=!0;try{var l=t(i);return l}finally{if(va=!1,(xr!==null||Ci!==null)&&(wc(),xr&&(i=xr,t=Ci,Ci=xr=null,Ds(i),t)))for(i=0;i<t.length;i++)Ds(t[i])}}function ni(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Qt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xs=!1;if(Pn)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){xs=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{xs=!1}var Ii=null,Fo=null,Os=null;function Go(){if(Os)return Os;var t,i=Fo,a=i.length,l,h="value"in Ii?Ii.value:Ii.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Os=h.slice(t,1<l?1-l:void 0)}function Ns(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function ii(){return!1}function Wt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ki:ii,this.isPropagationStopped=ii,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),i}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Wt(Yi),Nr=b({},Yi,{view:0,detail:0}),Qo=Wt(Nr),Mr,Ea,xi,Ta=b({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Mr=t.screenX-xi.screenX,Ea=t.screenY-xi.screenY):Ea=Mr=0,xi=t),Mr)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),Ko=Wt(Ta),Ms=b({},Ta,{dataTransfer:0}),Mu=Wt(Ms),Vu=b({},Nr,{relatedTarget:0}),Vs=Wt(Vu),Yo=b({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),ku=Wt(Yo),ba=b({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lu=Wt(ba),Pu=b({},Yi,{data:0}),Oi=Wt(Pu),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=zu[t])?!!i[t]:!1}function Vr(){return Bu}var fn=b({},Nr,{key:function(t){if(t.key){var i=Uu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ju[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(t){return t.type==="keypress"?Ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qu=Wt(fn),Hu=b({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Wt(Hu),c=b({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),y=Wt(c),v=b({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Wt(v),z=b({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Wt(z),oe=b({},Yi,{newState:0,oldState:0}),Ne=Wt(oe),wt=[9,13,27,32],et=Pn&&"CompositionEvent"in window,yt=null;Pn&&"documentMode"in document&&(yt=document.documentMode);var Un=Pn&&"TextEvent"in window&&!yt,Ni=Pn&&(!et||yt&&8<yt&&11>=yt),ri=" ",si=!1;function ks(t,i){switch(t){case"keyup":return wt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function TS(t,i){switch(t){case"compositionend":return Sa(i);case"keypress":return i.which!==32?null:(si=!0,ri);case"textInput":return t=i.data,t===ri&&si?null:t;default:return null}}function bS(t,i){if(Aa)return t==="compositionend"||!et&&ks(t,i)?(t=Go(),Os=Fo=Ii=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ni&&i.locale!=="ko"?null:i.data;default:return null}}var SS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!SS[t.type]:i==="textarea"}function sg(t,i,a,l){xr?Ci?Ci.push(l):Ci=[l]:xr=l,i=Nc(i,"onChange"),0<i.length&&(a=new Di("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Xo=null,$o=null;function AS(t){B_(t,0)}function Fu(t){var i=An(t);if(Cs(i))return t}function ag(t,i){if(t==="change")return i}var og=!1;if(Pn){var uf;if(Pn){var cf="oninput"in document;if(!cf){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),cf=typeof lg.oninput=="function"}uf=cf}else uf=!1;og=uf&&(!document.documentMode||9<document.documentMode)}function ug(){Xo&&(Xo.detachEvent("onpropertychange",cg),$o=Xo=null)}function cg(t){if(t.propertyName==="value"&&Fu($o)){var i=[];sg(i,$o,t,Ln(t)),Or(AS,i)}}function wS(t,i,a){t==="focusin"?(ug(),Xo=i,$o=a,Xo.attachEvent("onpropertychange",cg)):t==="focusout"&&ug()}function RS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu($o)}function CS(t,i){if(t==="click")return Fu(i)}function IS(t,i){if(t==="input"||t==="change")return Fu(i)}function DS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Rn=typeof Object.is=="function"?Object.is:DS;function Wo(t,i){if(Rn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Qe.call(i,h)||!Rn(t[h],i[h]))return!1}return!0}function hg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fg(t,i){var a=hg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hg(a)}}function dg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?dg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ri(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ri(t.document)}return i}function hf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var xS=Pn&&"documentMode"in document&&11>=document.documentMode,wa=null,ff=null,Jo=null,df=!1;function pg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;df||wa==null||wa!==Ri(l)||(l=wa,"selectionStart"in l&&hf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Wo(Jo,l)||(Jo=l,l=Nc(ff,"onSelect"),0<l.length&&(i=new Di("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=wa)))}function Ls(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ra={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},mf={},gg={};Pn&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Ps(t){if(mf[t])return mf[t];if(!Ra[t])return t;var i=Ra[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in gg)return mf[t]=i[a];return t}var yg=Ps("animationend"),_g=Ps("animationiteration"),vg=Ps("animationstart"),OS=Ps("transitionrun"),NS=Ps("transitionstart"),MS=Ps("transitioncancel"),Eg=Ps("transitionend"),Tg=new Map,pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pf.push("scrollEnd");function ai(t,i){Tg.set(t,i),Ai(i,[t])}var Gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],Ca=0,gf=0;function Qu(){for(var t=Ca,i=gf=Ca=0;i<t;){var a=jn[i];jn[i++]=null;var l=jn[i];jn[i++]=null;var h=jn[i];jn[i++]=null;var d=jn[i];if(jn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&bg(a,h,d)}}function Ku(t,i,a,l){jn[Ca++]=t,jn[Ca++]=i,jn[Ca++]=a,jn[Ca++]=l,gf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function yf(t,i,a,l){return Ku(t,i,a,l),Yu(t)}function Us(t,i){return Ku(t,null,null,i),Yu(t)}function bg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-At(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Yu(t){if(50<El)throw El=0,Rd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ia={};function VS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,i,a,l){return new VS(t,i,a,l)}function _f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,i){var a=t.alternate;return a===null?(a=Cn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Sg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Xu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")_f(t)&&(_=1);else if(typeof t=="string")_=jA(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Cn(31,a,i,h),t.elementType=R,t.lanes=d,t;case F:return js(a.children,h,d,i);case G:_=8,h|=24;break;case X:return t=Cn(12,a,i,h|2),t.elementType=X,t.lanes=d,t;case pe:return t=Cn(13,a,i,h),t.elementType=pe,t.lanes=d,t;case me:return t=Cn(19,a,i,h),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case Z:_=9;break e;case de:_=11;break e;case I:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Cn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function js(t,i,a,l){return t=Cn(7,t,l,i),t.lanes=a,t}function vf(t,i,a){return t=Cn(6,t,null,i),t.lanes=a,t}function Ag(t){var i=Cn(18,null,null,0);return i.stateNode=t,i}function Ef(t,i,a){return i=Cn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var wg=new WeakMap;function zn(t,i){if(typeof t=="object"&&t!==null){var a=wg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:We(i)},wg.set(t,i),i)}return{value:t,source:i,stack:We(i)}}var Da=[],xa=0,$u=null,Zo=0,Bn=[],qn=0,kr=null,Mi=1,Vi="";function Wi(t,i){Da[xa++]=Zo,Da[xa++]=$u,$u=t,Zo=i}function Rg(t,i,a){Bn[qn++]=Mi,Bn[qn++]=Vi,Bn[qn++]=kr,kr=t;var l=Mi;t=Vi;var h=32-At(l)-1;l&=~(1<<h),a+=1;var d=32-At(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Mi=1<<32-At(i)+h|a<<h|l,Vi=d+t}else Mi=1<<d|a<<h|l,Vi=t}function Tf(t){t.return!==null&&(Wi(t,1),Rg(t,1,0))}function bf(t){for(;t===$u;)$u=Da[--xa],Da[xa]=null,Zo=Da[--xa],Da[xa]=null;for(;t===kr;)kr=Bn[--qn],Bn[qn]=null,Vi=Bn[--qn],Bn[qn]=null,Mi=Bn[--qn],Bn[qn]=null}function Cg(t,i){Bn[qn++]=Mi,Bn[qn++]=Vi,Bn[qn++]=kr,Mi=i.id,Vi=i.overflow,kr=t}var Jt=null,mt=null,Ke=!1,Lr=null,Hn=!1,Sf=Error(s(519));function Pr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(zn(i,t)),Sf}function Ig(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Nt]=t,i[Qt]=l,a){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(a=0;a<bl.length;a++)Ue(bl[a],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),Du(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),Ir(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||G_(i.textContent,a)?(l.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),l.onScroll!=null&&Ue("scroll",i),l.onScrollEnd!=null&&Ue("scrollend",i),l.onClick!=null&&(i.onclick=ti),i=!0):i=!1,i||Pr(t,!0)}function Dg(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Jt=Jt.return}}function Oa(t){if(t!==Jt)return!1;if(!Ke)return Dg(t),Ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bd(t.type,t.memoizedProps)),a=!a),a&&mt&&Pr(t),Dg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));mt=ev(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));mt=ev(t)}else i===27?(i=mt,Wr(t.type)?(t=Qd,Qd=null,mt=t):mt=i):mt=Jt?Gn(t.stateNode.nextSibling):null;return!0}function zs(){mt=Jt=null,Ke=!1}function Af(){var t=Lr;return t!==null&&(En===null?En=t:En.push.apply(En,t),Lr=null),t}function el(t){Lr===null?Lr=[t]:Lr.push(t)}var wf=V(null),Bs=null,Ji=null;function Ur(t,i,a){le(wf,i._currentValue),i._currentValue=a}function Zi(t){t._currentValue=wf.current,W(wf)}function Rf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Cf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var x=0;x<i.length;x++)if(S.context===i[x]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Rf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Rf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Na(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;Rn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Le.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&Cf(i,t,a,l),i.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qs(t){Bs=t,Ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return xg(Bs,t)}function Ju(t,i){return Bs===null&&qs(t),xg(t,i)}function xg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ji===null){if(t===null)throw Error(s(308));Ji=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ji=Ji.next=i;return a}var kS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},LS=r.unstable_scheduleCallback,PS=r.unstable_NormalPriority,kt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new kS,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&LS(PS,function(){t.controller.abort()})}var nl=null,Df=0,Ma=0,Va=null;function US(t,i){if(nl===null){var a=nl=[];Df=0,Ma=Nd(),Va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,i.then(Og,Og),i}function Og(){if(--Df===0&&nl!==null){Va!==null&&(Va.status="fulfilled");var t=nl;nl=null,Ma=0,Va=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function jS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ng=Q.S;Q.S=function(t,i){p_=hn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&US(t,i),Ng!==null&&Ng(t,i)};var Hs=V(null);function xf(){var t=Hs.current;return t!==null?t:ht.pooledCache}function Zu(t,i){i===null?le(Hs,Hs.current):le(Hs,i.pool)}function Mg(){var t=xf();return t===null?null:{parent:kt._currentValue,pool:t}}var ka=Error(s(460)),Of=Error(s(474)),ec=Error(s(542)),tc={then:function(){}};function Vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function kg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ti,ti),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t;default:if(typeof i.status=="string")i.then(ti,ti);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t}throw Gs=i,ka}}function Fs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gs=a,ka):a}}var Gs=null;function Lg(){if(Gs===null)throw Error(s(459));var t=Gs;return Gs=null,t}function Pg(t){if(t===ka||t===ec)throw Error(s(483))}var La=null,il=0;function nc(t){var i=il;return il+=1,La===null&&(La=[]),kg(La,t,i)}function rl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ic(t,i){throw i.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ug(t){function i(L,M){if(t){var B=L.deletions;B===null?(L.deletions=[M],L.flags|=16):B.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=$i(L,M),L.index=0,L.sibling=null,L}function d(L,M,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<M?(L.flags|=67108866,M):B):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,M,B,J){return M===null||M.tag!==6?(M=vf(B,L.mode,J),M.return=L,M):(M=h(M,B),M.return=L,M)}function x(L,M,B,J){var ve=B.type;return ve===F?$(L,M,B.props.children,J,B.key):M!==null&&(M.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===w&&Fs(ve)===M.type)?(M=h(M,B.props),rl(M,B),M.return=L,M):(M=Xu(B.type,B.key,B.props,null,L.mode,J),rl(M,B),M.return=L,M)}function q(L,M,B,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Ef(B,L.mode,J),M.return=L,M):(M=h(M,B.children||[]),M.return=L,M)}function $(L,M,B,J,ve){return M===null||M.tag!==7?(M=js(B,L.mode,J,ve),M.return=L,M):(M=h(M,B),M.return=L,M)}function ee(L,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=vf(""+M,L.mode,B),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case U:return B=Xu(M.type,M.key,M.props,null,L.mode,B),rl(B,M),B.return=L,B;case j:return M=Ef(M,L.mode,B),M.return=L,M;case w:return M=Fs(M),ee(L,M,B)}if(at(M)||k(M))return M=js(M,L.mode,B,null),M.return=L,M;if(typeof M.then=="function")return ee(L,nc(M),B);if(M.$$typeof===re)return ee(L,Ju(L,M),B);ic(L,M)}return null}function H(L,M,B,J){var ve=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ve!==null?null:S(L,M,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case U:return B.key===ve?x(L,M,B,J):null;case j:return B.key===ve?q(L,M,B,J):null;case w:return B=Fs(B),H(L,M,B,J)}if(at(B)||k(B))return ve!==null?null:$(L,M,B,J,null);if(typeof B.then=="function")return H(L,M,nc(B),J);if(B.$$typeof===re)return H(L,M,Ju(L,B),J);ic(L,B)}return null}function Y(L,M,B,J,ve){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(B)||null,S(M,L,""+J,ve);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case U:return L=L.get(J.key===null?B:J.key)||null,x(M,L,J,ve);case j:return L=L.get(J.key===null?B:J.key)||null,q(M,L,J,ve);case w:return J=Fs(J),Y(L,M,B,J,ve)}if(at(J)||k(J))return L=L.get(B)||null,$(M,L,J,ve,null);if(typeof J.then=="function")return Y(L,M,B,nc(J),ve);if(J.$$typeof===re)return Y(L,M,B,Ju(M,J),ve);ic(M,J)}return null}function fe(L,M,B,J){for(var ve=null,Je=null,ge=M,Ve=M=0,Be=null;ge!==null&&Ve<B.length;Ve++){ge.index>Ve?(Be=ge,ge=null):Be=ge.sibling;var Ze=H(L,ge,B[Ve],J);if(Ze===null){ge===null&&(ge=Be);break}t&&ge&&Ze.alternate===null&&i(L,ge),M=d(Ze,M,Ve),Je===null?ve=Ze:Je.sibling=Ze,Je=Ze,ge=Be}if(Ve===B.length)return a(L,ge),Ke&&Wi(L,Ve),ve;if(ge===null){for(;Ve<B.length;Ve++)ge=ee(L,B[Ve],J),ge!==null&&(M=d(ge,M,Ve),Je===null?ve=ge:Je.sibling=ge,Je=ge);return Ke&&Wi(L,Ve),ve}for(ge=l(ge);Ve<B.length;Ve++)Be=Y(ge,L,Ve,B[Ve],J),Be!==null&&(t&&Be.alternate!==null&&ge.delete(Be.key===null?Ve:Be.key),M=d(Be,M,Ve),Je===null?ve=Be:Je.sibling=Be,Je=Be);return t&&ge.forEach(function(ns){return i(L,ns)}),Ke&&Wi(L,Ve),ve}function be(L,M,B,J){if(B==null)throw Error(s(151));for(var ve=null,Je=null,ge=M,Ve=M=0,Be=null,Ze=B.next();ge!==null&&!Ze.done;Ve++,Ze=B.next()){ge.index>Ve?(Be=ge,ge=null):Be=ge.sibling;var ns=H(L,ge,Ze.value,J);if(ns===null){ge===null&&(ge=Be);break}t&&ge&&ns.alternate===null&&i(L,ge),M=d(ns,M,Ve),Je===null?ve=ns:Je.sibling=ns,Je=ns,ge=Be}if(Ze.done)return a(L,ge),Ke&&Wi(L,Ve),ve;if(ge===null){for(;!Ze.done;Ve++,Ze=B.next())Ze=ee(L,Ze.value,J),Ze!==null&&(M=d(Ze,M,Ve),Je===null?ve=Ze:Je.sibling=Ze,Je=Ze);return Ke&&Wi(L,Ve),ve}for(ge=l(ge);!Ze.done;Ve++,Ze=B.next())Ze=Y(ge,L,Ve,Ze.value,J),Ze!==null&&(t&&Ze.alternate!==null&&ge.delete(Ze.key===null?Ve:Ze.key),M=d(Ze,M,Ve),Je===null?ve=Ze:Je.sibling=Ze,Je=Ze);return t&&ge.forEach(function($A){return i(L,$A)}),Ke&&Wi(L,Ve),ve}function ct(L,M,B,J){if(typeof B=="object"&&B!==null&&B.type===F&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case U:e:{for(var ve=B.key;M!==null;){if(M.key===ve){if(ve=B.type,ve===F){if(M.tag===7){a(L,M.sibling),J=h(M,B.props.children),J.return=L,L=J;break e}}else if(M.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===w&&Fs(ve)===M.type){a(L,M.sibling),J=h(M,B.props),rl(J,B),J.return=L,L=J;break e}a(L,M);break}else i(L,M);M=M.sibling}B.type===F?(J=js(B.props.children,L.mode,J,B.key),J.return=L,L=J):(J=Xu(B.type,B.key,B.props,null,L.mode,J),rl(J,B),J.return=L,L=J)}return _(L);case j:e:{for(ve=B.key;M!==null;){if(M.key===ve)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(L,M.sibling),J=h(M,B.children||[]),J.return=L,L=J;break e}else{a(L,M);break}else i(L,M);M=M.sibling}J=Ef(B,L.mode,J),J.return=L,L=J}return _(L);case w:return B=Fs(B),ct(L,M,B,J)}if(at(B))return fe(L,M,B,J);if(k(B)){if(ve=k(B),typeof ve!="function")throw Error(s(150));return B=ve.call(B),be(L,M,B,J)}if(typeof B.then=="function")return ct(L,M,nc(B),J);if(B.$$typeof===re)return ct(L,M,Ju(L,B),J);ic(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(L,M.sibling),J=h(M,B),J.return=L,L=J):(a(L,M),J=vf(B,L.mode,J),J.return=L,L=J),_(L)):a(L,M)}return function(L,M,B,J){try{il=0;var ve=ct(L,M,B,J);return La=null,ve}catch(ge){if(ge===ka||ge===ec)throw ge;var Je=Cn(29,ge,null,L.mode);return Je.lanes=J,Je.return=L,Je}}}var Qs=Ug(!0),jg=Ug(!1),jr=!1;function Nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Br(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yu(t),bg(t,null,a),i}return Ku(t,l,i,a),Yu(t)}function sl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,No(t,a)}}function Vf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var kf=!1;function al(){if(kf){var t=Va;if(t!==null)throw t}}function ol(t,i,a,l){kf=!1;var h=t.updateQueue;jr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var x=S,q=x.next;x.next=null,_===null?d=q:_.next=q,_=x;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=q:S.next=q,$.lastBaseUpdate=x))}if(d!==null){var ee=h.baseState;_=0,$=q=x=null,S=d;do{var H=S.lane&-536870913,Y=H!==S.lane;if(Y?(ze&H)===H:(l&H)===H){H!==0&&H===Ma&&(kf=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=t,be=S;H=i;var ct=a;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){ee=fe.call(ct,ee,H);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,H=typeof fe=="function"?fe.call(ct,ee,H):fe,H==null)break e;ee=b({},ee,H);break e;case 2:jr=!0}}H=S.callback,H!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(q=$=Y,x=ee):$=$.next=Y,_|=H;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);$===null&&(x=ee),h.baseState=x,h.firstBaseUpdate=q,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Qr|=_,t.lanes=_,t.memoizedState=ee}}function zg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Bg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)zg(a[t],i)}var Pa=V(null),rc=V(0);function qg(t,i){t=lr,le(rc,t),le(Pa,i),lr=t|i.baseLanes}function Lf(){le(rc,lr),le(Pa,Pa.current)}function Pf(){lr=rc.current,W(Pa),W(rc)}var In=V(null),Fn=null;function qr(t){var i=t.alternate;le(Rt,Rt.current&1),le(In,t),Fn===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(Fn=t)}function Uf(t){le(Rt,Rt.current),le(In,t),Fn===null&&(Fn=t)}function Hg(t){t.tag===22?(le(Rt,Rt.current),le(In,t),Fn===null&&(Fn=t)):Hr()}function Hr(){le(Rt,Rt.current),le(In,In.current)}function Dn(t){W(In),Fn===t&&(Fn=null),W(Rt)}var Rt=V(0);function sc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Fd(a)||Gd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var er=0,Me=null,lt=null,Lt=null,ac=!1,Ua=!1,Ks=!1,oc=0,ll=0,ja=null,zS=0;function bt(){throw Error(s(321))}function jf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Rn(t[a],i[a]))return!1;return!0}function zf(t,i,a,l,h,d){return er=d,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?Ry:td,Ks=!1,d=a(l,h),Ks=!1,Ua&&(d=Gg(i,a,l,h)),Fg(t),d}function Fg(t){Q.H=hl;var i=lt!==null&&lt.next!==null;if(er=0,Lt=lt=Me=null,ac=!1,ll=0,ja=null,i)throw Error(s(300));t===null||Pt||(t=t.dependencies,t!==null&&Wu(t)&&(Pt=!0))}function Gg(t,i,a,l){Me=t;var h=0;do{if(Ua&&(ja=null),ll=0,Ua=!1,25<=h)throw Error(s(301));if(h+=1,Lt=lt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Cy,d=i(a,l)}while(Ua);return d}function BS(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?ul(i):i,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Me.flags|=1024),i}function Bf(){var t=oc!==0;return oc=0,t}function qf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Hf(t){if(ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ac=!1}er=0,Lt=lt=Me=null,Ua=!1,ll=oc=0,ja=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Me.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Ct(){if(lt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var i=Lt===null?Me.memoizedState:Lt.next;if(i!==null)Lt=i,lt=t;else{if(t===null)throw Me.alternate===null?Error(s(467)):Error(s(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Lt===null?Me.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var i=ll;return ll+=1,ja===null&&(ja=[]),t=kg(ja,t,i),i=Me,(Lt===null?i.memoizedState:Lt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Ry:td),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===re)return Zt(t)}throw Error(s(438,String(t)))}function Ff(t){var i=null,a=Me.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=lc(),Me.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=N;return i.index++,a}function tr(t,i){return typeof i=="function"?i(t):i}function cc(t){var i=Ct();return Gf(i,lt,t)}function Gf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,x=null,q=i,$=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(ze&ee)===ee:(er&ee)===ee){var H=q.revertLane;if(H===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===Ma&&($=!0);else if((er&H)===H){q=q.next,H===Ma&&($=!0);continue}else ee={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(S=x=ee,_=d):x=x.next=ee,Me.lanes|=H,Qr|=H;ee=q.action,Ks&&a(d,ee),d=q.hasEagerState?q.eagerState:a(d,ee)}else H={lane:ee,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(S=x=H,_=d):x=x.next=H,Me.lanes|=ee,Qr|=ee;q=q.next}while(q!==null&&q!==i);if(x===null?_=d:x.next=S,!Rn(d,t.memoizedState)&&(Pt=!0,$&&(a=Va,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var i=Ct(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Rn(d,i.memoizedState)||(Pt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Qg(t,i,a){var l=Me,h=Ct(),d=Ke;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Rn((lt||h).memoizedState,a);if(_&&(h.memoizedState=a,Pt=!0),h=h.queue,Xf(Xg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,za(9,{destroy:void 0},Yg.bind(null,l,h,a,i),null),ht===null)throw Error(s(349));d||(er&127)!==0||Kg(l,i,a)}return a}function Kg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Me.updateQueue,i===null?(i=lc(),Me.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Yg(t,i,a,l){i.value=a,i.getSnapshot=l,$g(i)&&Wg(t)}function Xg(t,i,a){return a(function(){$g(i)&&Wg(t)})}function $g(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Rn(t,a)}catch{return!0}}function Wg(t){var i=Us(t,2);i!==null&&Tn(i,t,2)}function Kf(t){var i=dn();if(typeof t=="function"){var a=t;if(t=a(),Ks){Vn(!0);try{a()}finally{Vn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:t},i}function Jg(t,i,a,l){return t.baseState=a,Gf(t,lt,typeof l=="function"?l:tr)}function qS(t,i,a,l,h){if(dc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Zg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Zg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var S=a(h,l),x=Q.S;x!==null&&x(_,S),ey(t,i,S)}catch(q){Yf(t,i,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(h,l),ey(t,i,d)}catch(q){Yf(t,i,q)}}function ey(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ty(t,i,l)},function(l){return Yf(t,i,l)}):ty(t,i,a)}function ty(t,i,a){i.status="fulfilled",i.value=a,ny(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Zg(t,a)))}function Yf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ny(i),i=i.next;while(i!==l)}t.action=null}function ny(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function iy(t,i){return i}function ry(t,i){if(Ke){var a=ht.formState;if(a!==null){e:{var l=Me;if(Ke){if(mt){t:{for(var h=mt,d=Hn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Gn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){mt=Gn(h.nextSibling),l=h.data==="F!";break e}}Pr(l)}l=!1}l&&(i=a[0])}}return a=dn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iy,lastRenderedState:i},a.queue=l,a=Sy.bind(null,Me,l),l.dispatch=a,l=Kf(!1),d=ed.bind(null,Me,!1,l.queue),l=dn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=qS.bind(null,Me,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function sy(t){var i=Ct();return ay(i,lt,t)}function ay(t,i,a){if(i=Gf(t,i,iy)[0],t=cc(tr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ul(i)}catch(_){throw _===ka?ec:_}else l=i;i=Ct();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Me.flags|=2048,za(9,{destroy:void 0},HS.bind(null,h,a),null)),[l,d,t]}function HS(t,i){t.action=i}function oy(t){var i=Ct(),a=lt;if(a!==null)return ay(i,a,t);Ct(),i=i.memoizedState,a=Ct();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function za(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Me.updateQueue,i===null&&(i=lc(),Me.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ly(){return Ct().memoizedState}function hc(t,i,a,l){var h=dn();Me.flags|=t,h.memoizedState=za(1|i,{destroy:void 0},a,l===void 0?null:l)}function fc(t,i,a,l){var h=Ct();l=l===void 0?null:l;var d=h.memoizedState.inst;lt!==null&&l!==null&&jf(l,lt.memoizedState.deps)?h.memoizedState=za(i,d,a,l):(Me.flags|=t,h.memoizedState=za(1|i,d,a,l))}function uy(t,i){hc(8390656,8,t,i)}function Xf(t,i){fc(2048,8,t,i)}function FS(t){Me.flags|=4;var i=Me.updateQueue;if(i===null)i=lc(),Me.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function cy(t){var i=Ct().memoizedState;return FS({ref:i,nextImpl:t}),function(){if((tt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function hy(t,i){return fc(4,2,t,i)}function fy(t,i){return fc(4,4,t,i)}function dy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function my(t,i,a){a=a!=null?a.concat([t]):null,fc(4,4,dy.bind(null,i,t),a)}function $f(){}function py(t,i){var a=Ct();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&jf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function gy(t,i){var a=Ct();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&jf(i,l[1]))return l[0];if(l=t(),Ks){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,i],l}function Wf(t,i,a){return a===void 0||(er&1073741824)!==0&&(ze&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=y_(),Me.lanes|=t,Qr|=t,a)}function yy(t,i,a,l){return Rn(a,i)?a:Pa.current!==null?(t=Wf(t,a,l),Rn(t,i)||(Pt=!0),t):(er&42)===0||(er&1073741824)!==0&&(ze&261930)===0?(Pt=!0,t.memoizedState=a):(t=y_(),Me.lanes|=t,Qr|=t,i)}function _y(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=Q.T,S={};Q.T=S,ed(t,!1,i,a);try{var x=h(),q=Q.S;if(q!==null&&q(S,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=jS(x,l);cl(t,i,$,Nn(t))}else cl(t,i,l,Nn(t))}catch(ee){cl(t,i,{then:function(){},status:"rejected",reason:ee},Nn())}finally{se.p=d,_!==null&&S.types!==null&&(_.types=S.types),Q.T=_}}function GS(){}function Jf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=vy(t).queue;_y(t,h,i,_e,a===null?GS:function(){return Ey(t),a(l)})}function vy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:_e},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ey(t){var i=vy(t);i.next===null&&(i=t.alternate.memoizedState),cl(t,i.next.queue,{},Nn())}function Zf(){return Zt(Cl)}function Ty(){return Ct().memoizedState}function by(){return Ct().memoizedState}function QS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Nn();t=zr(a);var l=Br(i,t,a);l!==null&&(Tn(l,i,a),sl(l,i,a)),i={cache:If()},t.payload=i;return}i=i.return}}function KS(t,i,a){var l=Nn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},dc(t)?Ay(i,a):(a=yf(t,i,a,l),a!==null&&(Tn(a,t,l),wy(a,i,l)))}function Sy(t,i,a){var l=Nn();cl(t,i,a,l)}function cl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(t))Ay(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,Rn(S,_))return Ku(t,i,h,0),ht===null&&Qu(),!1}catch{}if(a=yf(t,i,h,l),a!==null)return Tn(a,t,l),wy(a,i,l),!0}return!1}function ed(t,i,a,l){if(l={lane:2,revertLane:Nd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},dc(t)){if(i)throw Error(s(479))}else i=yf(t,a,l,2),i!==null&&Tn(i,t,2)}function dc(t){var i=t.alternate;return t===Me||i!==null&&i===Me}function Ay(t,i){Ua=ac=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function wy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,No(t,a)}}var hl={readContext:Zt,use:uc,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};hl.useEffectEvent=bt;var Ry={readContext:Zt,use:uc,useCallback:function(t,i){return dn().memoizedState=[t,i===void 0?null:i],t},useContext:Zt,useEffect:uy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,hc(4194308,4,dy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return hc(4194308,4,t,i)},useInsertionEffect:function(t,i){hc(4,2,t,i)},useMemo:function(t,i){var a=dn();i=i===void 0?null:i;var l=t();if(Ks){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=dn();if(a!==void 0){var h=a(i);if(Ks){Vn(!0);try{a(i)}finally{Vn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=KS.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var i=dn();return t={current:t},i.memoizedState=t},useState:function(t){t=Kf(t);var i=t.queue,a=Sy.bind(null,Me,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:$f,useDeferredValue:function(t,i){var a=dn();return Wf(a,t,i)},useTransition:function(){var t=Kf(!1);return t=_y.bind(null,Me,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Me,h=dn();if(Ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ht===null)throw Error(s(349));(ze&127)!==0||Kg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,uy(Xg.bind(null,l,d,t),[t]),l.flags|=2048,za(9,{destroy:void 0},Yg.bind(null,l,d,a,i),null),a},useId:function(){var t=dn(),i=ht.identifierPrefix;if(Ke){var a=Vi,l=Mi;a=(l&~(1<<32-At(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=oc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=zS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Zf,useFormState:ry,useActionState:ry,useOptimistic:function(t){var i=dn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ed.bind(null,Me,!0,a),a.dispatch=i,[t,i]},useMemoCache:Ff,useCacheRefresh:function(){return dn().memoizedState=QS.bind(null,Me)},useEffectEvent:function(t){var i=dn(),a={impl:t};return i.memoizedState=a,function(){if((tt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},td={readContext:Zt,use:uc,useCallback:py,useContext:Zt,useEffect:Xf,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:gy,useReducer:cc,useRef:ly,useState:function(){return cc(tr)},useDebugValue:$f,useDeferredValue:function(t,i){var a=Ct();return yy(a,lt.memoizedState,t,i)},useTransition:function(){var t=cc(tr)[0],i=Ct().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Qg,useId:Ty,useHostTransitionStatus:Zf,useFormState:sy,useActionState:sy,useOptimistic:function(t,i){var a=Ct();return Jg(a,lt,t,i)},useMemoCache:Ff,useCacheRefresh:by};td.useEffectEvent=cy;var Cy={readContext:Zt,use:uc,useCallback:py,useContext:Zt,useEffect:Xf,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:gy,useReducer:Qf,useRef:ly,useState:function(){return Qf(tr)},useDebugValue:$f,useDeferredValue:function(t,i){var a=Ct();return lt===null?Wf(a,t,i):yy(a,lt.memoizedState,t,i)},useTransition:function(){var t=Qf(tr)[0],i=Ct().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Qg,useId:Ty,useHostTransitionStatus:Zf,useFormState:oy,useActionState:oy,useOptimistic:function(t,i){var a=Ct();return lt!==null?Jg(a,lt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:by};Cy.useEffectEvent=cy;function nd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var id={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Nn(),h=zr(l);h.payload=i,a!=null&&(h.callback=a),i=Br(t,h,l),i!==null&&(Tn(i,t,l),sl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Nn(),h=zr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Br(t,h,l),i!==null&&(Tn(i,t,l),sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Nn(),l=zr(a);l.tag=2,i!=null&&(l.callback=i),i=Br(t,l,a),i!==null&&(Tn(i,t,a),sl(i,t,a))}};function Iy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Wo(a,l)||!Wo(h,d):!0}function Dy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&id.enqueueReplaceState(i,i.state,null)}function Ys(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function xy(t){Gu(t)}function Oy(t){console.error(t)}function Ny(t){Gu(t)}function mc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function My(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rd(t,i,a){return a=zr(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(t,i)},a}function Vy(t){return t=zr(t),t.tag=3,t}function ky(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){My(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){My(i,a,l),typeof h!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function YS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Na(i,a,h,!0),a=In.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?Rc():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Dd(t,l,h)),!1;case 22:return a.flags|=65536,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Dd(t,l,h)),!1}throw Error(s(435,a.tag))}return Dd(t,l,h),Rc(),!1}if(Ke)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Sf&&(t=Error(s(422),{cause:l}),el(zn(t,a)))):(l!==Sf&&(i=Error(s(423),{cause:l}),el(zn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=zn(l,a),h=rd(t.stateNode,l,h),Vf(t,h),St!==4&&(St=2)),!1;var d=Error(s(520),{cause:l});if(d=zn(d,a),vl===null?vl=[d]:vl.push(d),St!==4&&(St=2),i===null)return!0;l=zn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=rd(a.stateNode,l,t),Vf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Kr===null||!Kr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Vy(h),ky(h,t,a,l),Vf(a,h),!1}a=a.return}while(a!==null);return!1}var sd=Error(s(461)),Pt=!1;function en(t,i,a,l){i.child=t===null?jg(i,null,a,l):Qs(i,t.child,a,l)}function Ly(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return qs(i),l=zf(t,i,a,_,d,h),S=Bf(),t!==null&&!Pt?(qf(t,i,h),nr(t,i,h)):(Ke&&S&&Tf(i),i.flags|=1,en(t,i,l,h),i.child)}function Py(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!_f(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Uy(t,i,d,l,h)):(t=Xu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!dd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(_,l)&&t.ref===i.ref)return nr(t,i,h)}return i.flags|=1,t=$i(d,l),t.ref=i.ref,t.return=i,i.child=t}function Uy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===i.ref)if(Pt=!1,i.pendingProps=l=d,dd(t,h))(t.flags&131072)!==0&&(Pt=!0);else return i.lanes=t.lanes,nr(t,i,h)}return ad(t,i,a,l,h)}function jy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return zy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(i,d!==null?d.cachePool:null),d!==null?qg(i,d):Lf(),Hg(i);else return l=i.lanes=536870912,zy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Zu(i,d.cachePool),qg(i,d),Hr(),i.memoizedState=null):(t!==null&&Zu(i,null),Lf(),Hr());return en(t,i,h,a),i.child}function fl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function zy(t,i,a,l,h){var d=xf();return d=d===null?null:{parent:kt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Zu(i,null),Lf(),Hg(i),t!==null&&Na(t,i,l,!0),i.childLanes=h,null}function pc(t,i){return i=yc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function By(t,i,a){return Qs(i,t.child,null,a),t=pc(i,i.pendingProps),t.flags|=2,Dn(i),i.memoizedState=null,t}function XS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ke){if(l.mode==="hidden")return t=pc(i,l),i.lanes=536870912,fl(null,t);if(Uf(i),(t=mt)?(t=Z_(t,Hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:kr!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=Ag(t),a.return=i,i.child=a,Jt=i,mt=null)):t=null,t===null)throw Pr(i);return i.lanes=536870912,null}return pc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Uf(i),h)if(i.flags&256)i.flags&=-257,i=By(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Pt||Na(t,i,a,!1),h=(a&t.childLanes)!==0,Pt||h){if(l=ht,l!==null&&(_=Mo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Us(t,_),Tn(l,t,_),sd;Rc(),i=By(t,i,a)}else t=d.treeContext,mt=Gn(_.nextSibling),Jt=i,Ke=!0,Lr=null,Hn=!1,t!==null&&Cg(i,t),i=pc(i,l),i.flags|=4096;return i}return t=$i(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function gc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ad(t,i,a,l,h){return qs(i),a=zf(t,i,a,l,void 0,h),l=Bf(),t!==null&&!Pt?(qf(t,i,h),nr(t,i,h)):(Ke&&l&&Tf(i),i.flags|=1,en(t,i,a,h),i.child)}function qy(t,i,a,l,h,d){return qs(i),i.updateQueue=null,a=Gg(i,l,a,h),Fg(t),l=Bf(),t!==null&&!Pt?(qf(t,i,d),nr(t,i,d)):(Ke&&l&&Tf(i),i.flags|=1,en(t,i,a,d),i.child)}function Hy(t,i,a,l,h){if(qs(i),i.stateNode===null){var d=Ia,_=a.contextType;typeof _=="object"&&_!==null&&(d=Zt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=id,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Nf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Zt(_):Ia,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(nd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&id.enqueueReplaceState(d,d.state,null),ol(i,l,d,h),al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,x=Ys(a,S);d.props=x;var q=d.context,$=a.contextType;_=Ia,typeof $=="object"&&$!==null&&(_=Zt($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||q!==_)&&Dy(i,d,l,_),jr=!1;var H=i.memoizedState;d.state=H,ol(i,l,d,h),al(),q=i.memoizedState,S||H!==q||jr?(typeof ee=="function"&&(nd(i,a,ee,l),q=i.memoizedState),(x=jr||Iy(i,a,x,l,H,q,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Mf(t,i),_=i.memoizedProps,$=Ys(a,_),d.props=$,ee=i.pendingProps,H=d.context,q=a.contextType,x=Ia,typeof q=="object"&&q!==null&&(x=Zt(q)),S=a.getDerivedStateFromProps,(q=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||H!==x)&&Dy(i,d,l,x),jr=!1,H=i.memoizedState,d.state=H,ol(i,l,d,h),al();var Y=i.memoizedState;_!==ee||H!==Y||jr||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof S=="function"&&(nd(i,a,S,l),Y=i.memoizedState),($=jr||Iy(i,a,$,l,H,Y,x)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=x,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,gc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Qs(i,t.child,null,h),i.child=Qs(i,null,a,h)):en(t,i,a,h),i.memoizedState=d.state,t=i.child):t=nr(t,i,h),t}function Fy(t,i,a,l){return zs(),i.flags|=256,en(t,i,a,l),i.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(t){return{baseLanes:t,cachePool:Mg()}}function ud(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=On),t}function Gy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ke){if(h?qr(i):Hr(),(t=mt)?(t=Z_(t,Hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:kr!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=Ag(t),a.return=i,i.child=a,Jt=i,mt=null)):t=null,t===null)throw Pr(i);return Gd(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Hr(),h=i.mode,S=yc({mode:"hidden",children:S},h),l=js(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=ld(a),l.childLanes=ud(t,_,a),i.memoizedState=od,fl(null,l)):(qr(i),cd(i,S))}var x=t.memoizedState;if(x!==null&&(S=x.dehydrated,S!==null)){if(d)i.flags&256?(qr(i),i.flags&=-257,i=hd(t,i,a)):i.memoizedState!==null?(Hr(),i.child=t.child,i.flags|=128,i=null):(Hr(),S=l.fallback,h=i.mode,l=yc({mode:"visible",children:l.children},h),S=js(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Qs(i,t.child,null,a),l=i.child,l.memoizedState=ld(a),l.childLanes=ud(t,_,a),i.memoizedState=od,i=fl(null,l));else if(qr(i),Gd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,el({value:l,source:null,stack:null}),i=hd(t,i,a)}else if(Pt||Na(t,i,a,!1),_=(a&t.childLanes)!==0,Pt||_){if(_=ht,_!==null&&(l=Mo(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,Us(t,l),Tn(_,t,l),sd;Fd(S)||Rc(),i=hd(t,i,a)}else Fd(S)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,mt=Gn(S.nextSibling),Jt=i,Ke=!0,Lr=null,Hn=!1,t!==null&&Cg(i,t),i=cd(i,l.children),i.flags|=4096);return i}return h?(Hr(),S=l.fallback,h=i.mode,x=t.child,q=x.sibling,l=$i(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,q!==null?S=$i(q,S):(S=js(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,fl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=ld(a):(h=S.cachePool,h!==null?(x=kt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Mg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=ud(t,_,a),i.memoizedState=od,fl(t.child,l)):(qr(i),a=t.child,t=a.sibling,a=$i(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function cd(t,i){return i=yc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function yc(t,i){return t=Cn(22,t,null,i),t.lanes=0,t}function hd(t,i,a){return Qs(i,t.child,null,a),t=cd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Qy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Rf(t.return,i,a)}function fd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Ky(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Rt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,le(Rt,_),en(t,i,l,a),l=Ke?Zo:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qy(t,a,i);else if(t.tag===19)Qy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&sc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),fd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&sc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}fd(i,!0,a,null,d,l);break;case"together":fd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function nr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Qr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Na(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=$i(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=$i(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function dd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function $S(t,i,a){switch(i.tag){case 3:Tt(i,i.stateNode.containerInfo),Ur(i,kt,t.memoizedState.cache),zs();break;case 27:case 5:ae(i);break;case 4:Tt(i,i.stateNode.containerInfo);break;case 10:Ur(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Uf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(qr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Gy(t,i,a):(qr(i),t=nr(t,i,a),t!==null?t.sibling:null);qr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Na(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ky(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Rt,Rt.current),l)break;return null;case 22:return i.lanes=0,jy(t,i,a,i.pendingProps);case 24:Ur(i,kt,t.memoizedState.cache)}return nr(t,i,a)}function Yy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pt=!0;else{if(!dd(t,a)&&(i.flags&128)===0)return Pt=!1,$S(t,i,a);Pt=(t.flags&131072)!==0}else Pt=!1,Ke&&(i.flags&1048576)!==0&&Rg(i,Zo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Fs(i.elementType),i.type=t,typeof t=="function")_f(t)?(l=Ys(t,l),i.tag=1,i=Hy(null,i,t,l,a)):(i.tag=0,i=ad(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===de){i.tag=11,i=Ly(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=Py(null,i,t,l,a);break e}}throw i=ke(t)||t,Error(s(306,i,""))}}return i;case 0:return ad(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ys(l,i.pendingProps),Hy(t,i,l,h,a);case 3:e:{if(Tt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Mf(t,i),ol(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ur(i,kt,l),l!==d.cache&&Cf(i,[kt],a,!0),al(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Fy(t,i,l,a);break e}else if(l!==h){h=zn(Error(s(424)),i),el(h),i=Fy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,mt=Gn(t.firstChild),Jt=i,Ke=!0,Lr=null,Hn=!0,a=jg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(zs(),l===h){i=nr(t,i,a);break e}en(t,i,l,a)}i=i.child}return i;case 26:return gc(t,i),t===null?(a=sv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ke||(a=i.type,t=i.pendingProps,l=Mc(Ie.current).createElement(a),l[Nt]=i,l[Qt]=t,tn(l,a,t),Mt(l),i.stateNode=l):i.memoizedState=sv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ae(i),t===null&&Ke&&(l=i.stateNode=nv(i.type,i.pendingProps,Ie.current),Jt=i,Hn=!0,h=mt,Wr(i.type)?(Qd=h,mt=Gn(l.firstChild)):mt=h),en(t,i,i.pendingProps.children,a),gc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ke&&((h=l=mt)&&(l=RA(l,i.type,i.pendingProps,Hn),l!==null?(i.stateNode=l,Jt=i,mt=Gn(l.firstChild),Hn=!1,h=!0):h=!1),h||Pr(i)),ae(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Bd(h,d)?l=null:_!==null&&Bd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=zf(t,i,BS,null,null,a),Cl._currentValue=h),gc(t,i),en(t,i,l,a),i.child;case 6:return t===null&&Ke&&((t=a=mt)&&(a=CA(a,i.pendingProps,Hn),a!==null?(i.stateNode=a,Jt=i,mt=null,t=!0):t=!1),t||Pr(i)),null;case 13:return Gy(t,i,a);case 4:return Tt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Qs(i,null,l,a):en(t,i,l,a),i.child;case 11:return Ly(t,i,i.type,i.pendingProps,a);case 7:return en(t,i,i.pendingProps,a),i.child;case 8:return en(t,i,i.pendingProps.children,a),i.child;case 12:return en(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ur(i,i.type,l.value),en(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,qs(i),h=Zt(h),l=l(h),i.flags|=1,en(t,i,l,a),i.child;case 14:return Py(t,i,i.type,i.pendingProps,a);case 15:return Uy(t,i,i.type,i.pendingProps,a);case 19:return Ky(t,i,a);case 31:return XS(t,i,a);case 22:return jy(t,i,a,i.pendingProps);case 24:return qs(i),l=Zt(kt),t===null?(h=xf(),h===null&&(h=ht,d=If(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Nf(i),Ur(i,kt,h)):((t.lanes&a)!==0&&(Mf(t,i),ol(i,null,null,a),al()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ur(i,kt,l)):(l=d.cache,Ur(i,kt,l),l!==h.cache&&Cf(i,[kt],a,!0))),en(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ir(t){t.flags|=4}function md(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(T_())t.flags|=8192;else throw Gs=tc,Of}else t.flags&=-16777217}function Xy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!cv(i))if(T_())t.flags|=8192;else throw Gs=tc,Of}function _c(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Au():536870912,t.lanes|=i,Fa|=i)}function dl(t,i){if(!Ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function pt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function WS(t,i,a){var l=i.pendingProps;switch(bf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(i),null;case 1:return pt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Zi(kt),ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Oa(i)?ir(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Af())),pt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(ir(i),d!==null?(pt(i),Xy(i,d)):(pt(i),md(i,h,null,l,a))):d?d!==t.memoizedState?(ir(i),pt(i),Xy(i,d)):(pt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ir(i),pt(i),md(i,h,t,l,a)),null;case 27:if(ye(i),a=Ie.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ir(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return pt(i),null}t=ue.current,Oa(i)?Ig(i):(t=nv(h,l,a),i.stateNode=t,ir(i))}return pt(i),null;case 5:if(ye(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ir(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return pt(i),null}if(d=ue.current,Oa(i))Ig(i);else{var _=Mc(Ie.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Nt]=i,d[Qt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(tn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ir(i)}}return pt(i),md(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ir(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ie.current,Oa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Nt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||G_(t.nodeValue,a)),t||Pr(i,!0)}else t=Mc(t).createTextNode(l),t[Nt]=i,i.stateNode=t}return pt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Oa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Nt]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pt(i),t=!1}else a=Af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Dn(i),i):(Dn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return pt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Nt]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pt(i),h=!1}else h=Af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Dn(i),i):(Dn(i),null)}return Dn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),_c(i,i.updateQueue),pt(i),null);case 4:return ne(),t===null&&Ld(i.stateNode.containerInfo),pt(i),null;case 10:return Zi(i.type),pt(i),null;case 19:if(W(Rt),l=i.memoizedState,l===null)return pt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)dl(l,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=sc(t),d!==null){for(i.flags|=128,dl(l,!1),t=d.updateQueue,i.updateQueue=t,_c(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Sg(a,t),a=a.sibling;return le(Rt,Rt.current&1|2),Ke&&Wi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&hn()>Sc&&(i.flags|=128,h=!0,dl(l,!1),i.lanes=4194304)}else{if(!h)if(t=sc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,_c(i,t),dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ke)return pt(i),null}else 2*hn()-l.renderingStartTime>Sc&&a!==536870912&&(i.flags|=128,h=!0,dl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=hn(),t.sibling=null,a=Rt.current,le(Rt,h?a&1|2:a&1),Ke&&Wi(i,l.treeForkCount),t):(pt(i),null);case 22:case 23:return Dn(i),Pf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(pt(i),i.subtreeFlags&6&&(i.flags|=8192)):pt(i),a=i.updateQueue,a!==null&&_c(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(Hs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Zi(kt),pt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function JS(t,i){switch(bf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Zi(kt),ne(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ye(i),null;case 31:if(i.memoizedState!==null){if(Dn(i),i.alternate===null)throw Error(s(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Dn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(Rt),null;case 4:return ne(),null;case 10:return Zi(i.type),null;case 22:case 23:return Dn(i),Pf(),t!==null&&W(Hs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Zi(kt),null;case 25:return null;default:return null}}function $y(t,i){switch(bf(i),i.tag){case 3:Zi(kt),ne();break;case 26:case 27:case 5:ye(i);break;case 4:ne();break;case 31:i.memoizedState!==null&&Dn(i);break;case 13:Dn(i);break;case 19:W(Rt);break;case 10:Zi(i.type);break;case 22:case 23:Dn(i),Pf(),t!==null&&W(Hs);break;case 24:Zi(kt)}}function ml(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){st(i,i.return,S)}}function Fr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var x=a,q=S;try{q()}catch($){st(h,x,$)}}}l=l.next}while(l!==d)}}catch($){st(i,i.return,$)}}function Wy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Bg(i,a)}catch(l){st(t,t.return,l)}}}function Jy(t,i,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){st(t,i,l)}}function pl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){st(t,i,h)}}function ki(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){st(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,i,h)}else a.current=null}function Zy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function pd(t,i,a){try{var l=t.stateNode;EA(l,t.type,a,i),l[Qt]=i}catch(h){st(t,t.return,h)}}function e_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Wr(t.type)||t.tag===4}function gd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Wr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ti));else if(l!==4&&(l===27&&Wr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(yd(t,i,a),t=t.sibling;t!==null;)yd(t,i,a),t=t.sibling}function vc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Wr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vc(t,i,a),t=t.sibling;t!==null;)vc(t,i,a),t=t.sibling}function t_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);tn(i,l,a),i[Nt]=t,i[Qt]=a}catch(d){st(t,t.return,d)}}var rr=!1,Ut=!1,_d=!1,n_=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function ZS(t,i){if(t=t.containerInfo,jd=zc,t=mg(t),hf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,x=-1,q=0,$=0,ee=t,H=null;t:for(;;){for(var Y;ee!==a||h!==0&&ee.nodeType!==3||(S=_+h),ee!==d||l!==0&&ee.nodeType!==3||(x=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)H=ee,ee=Y;for(;;){if(ee===t)break t;if(H===a&&++q===h&&(S=_),H===d&&++$===l&&(x=_),(Y=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=Y}a=S===-1||x===-1?null:{start:S,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(zd={focusedElem:t,selectionRange:a},zc=!1,Yt=i;Yt!==null;)if(i=Yt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Yt=t;else for(;Yt!==null;){switch(i=Yt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Ys(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){st(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Hd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Yt=t;break}Yt=i.return}}function i_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ar(t,a),l&4&&ml(5,a);break;case 1:if(ar(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){st(a,a.return,_)}else{var h=Ys(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){st(a,a.return,_)}}l&64&&Wy(a),l&512&&pl(a,a.return);break;case 3:if(ar(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Bg(t,i)}catch(_){st(a,a.return,_)}}break;case 27:i===null&&l&4&&t_(a);case 26:case 5:ar(t,a),i===null&&l&4&&Zy(a),l&512&&pl(a,a.return);break;case 12:ar(t,a);break;case 31:ar(t,a),l&4&&a_(t,a);break;case 13:ar(t,a),l&4&&o_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=lA.bind(null,a),IA(t,a))));break;case 22:if(l=a.memoizedState!==null||rr,!l){i=i!==null&&i.memoizedState!==null||Ut,h=rr;var d=Ut;rr=l,(Ut=i)&&!d?or(t,a,(a.subtreeFlags&8772)!==0):ar(t,a),rr=h,Ut=d}break;case 30:break;default:ar(t,a)}}function r_(t){var i=t.alternate;i!==null&&(t.alternate=null,r_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ma(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,yn=!1;function sr(t,i,a){for(a=a.child;a!==null;)s_(t,i,a),a=a.sibling}function s_(t,i,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:Ut||ki(a,i),sr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ut||ki(a,i);var l=_t,h=yn;Wr(a.type)&&(_t=a.stateNode,yn=!1),sr(t,i,a),Al(a.stateNode),_t=l,yn=h;break;case 5:Ut||ki(a,i);case 6:if(l=_t,h=yn,_t=null,sr(t,i,a),_t=l,yn=h,_t!==null)if(yn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(d){st(a,i,d)}else try{_t.removeChild(a.stateNode)}catch(d){st(a,i,d)}break;case 18:_t!==null&&(yn?(t=_t,W_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ja(t)):W_(_t,a.stateNode));break;case 4:l=_t,h=yn,_t=a.stateNode.containerInfo,yn=!0,sr(t,i,a),_t=l,yn=h;break;case 0:case 11:case 14:case 15:Fr(2,a,i),Ut||Fr(4,a,i),sr(t,i,a);break;case 1:Ut||(ki(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Jy(a,i,l)),sr(t,i,a);break;case 21:sr(t,i,a);break;case 22:Ut=(l=Ut)||a.memoizedState!==null,sr(t,i,a),Ut=l;break;default:sr(t,i,a)}}function a_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ja(t)}catch(a){st(i,i.return,a)}}}function o_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ja(t)}catch(a){st(i,i.return,a)}}function eA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new n_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new n_),i;default:throw Error(s(435,t.tag))}}function Ec(t,i){var a=eA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=uA.bind(null,t,l);l.then(h,h)}})}function _n(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Wr(S.type)){_t=S.stateNode,yn=!1;break e}break;case 5:_t=S.stateNode,yn=!1;break e;case 3:case 4:_t=S.stateNode.containerInfo,yn=!0;break e}S=S.return}if(_t===null)throw Error(s(160));s_(d,_,h),_t=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)l_(i,t),i=i.sibling}var oi=null;function l_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(i,t),vn(t),l&4&&(Fr(3,t,t.return),ml(3,t),Fr(5,t,t.return));break;case 1:_n(i,t),vn(t),l&512&&(Ut||a===null||ki(a,a.return)),l&64&&rr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=oi;if(_n(i,t),vn(t),l&512&&(Ut||a===null||ki(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ti]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),tn(d,l,a),d[Nt]=t,Mt(d),l=d;break e;case"link":var _=lv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),tn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=lv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),tn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Nt]=t,Mt(d),l=d}t.stateNode=l}else uv(h,t.type,t.stateNode);else t.stateNode=ov(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?uv(h,t.type,t.stateNode):ov(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&pd(t,t.memoizedProps,a.memoizedProps)}break;case 27:_n(i,t),vn(t),l&512&&(Ut||a===null||ki(a,a.return)),a!==null&&l&4&&pd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_n(i,t),vn(t),l&512&&(Ut||a===null||ki(a,a.return)),t.flags&32){h=t.stateNode;try{gn(h,"")}catch(fe){st(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,pd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(_d=!0);break;case 6:if(_n(i,t),vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){st(t,t.return,fe)}}break;case 3:if(Lc=null,h=oi,oi=Vc(i.containerInfo),_n(i,t),oi=h,vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ja(i.containerInfo)}catch(fe){st(t,t.return,fe)}_d&&(_d=!1,u_(t));break;case 4:l=oi,oi=Vc(t.stateNode.containerInfo),_n(i,t),vn(t),oi=l;break;case 12:_n(i,t),vn(t);break;case 31:_n(i,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 13:_n(i,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bc=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,q=rr,$=Ut;if(rr=q||h,Ut=$||x,_n(i,t),Ut=$,rr=q,vn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||rr||Ut||Xs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=x.stateNode;var ee=x.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(fe){st(x,x.return,fe)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(fe){st(x,x.return,fe)}}}else if(i.tag===18){if(a===null){x=i;try{var Y=x.stateNode;h?J_(Y,!0):J_(x.stateNode,!1)}catch(fe){st(x,x.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ec(t,a))));break;case 19:_n(i,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 30:break;case 21:break;default:_n(i,t),vn(t)}}function vn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(e_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=gd(t);vc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(gn(_,""),a.flags&=-33);var S=gd(t);vc(t,S,_);break;case 3:case 4:var x=a.stateNode.containerInfo,q=gd(t);yd(t,q,x);break;default:throw Error(s(161))}}catch($){st(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function u_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;u_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ar(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)i_(t,i.alternate,i),i=i.sibling}function Xs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Fr(4,i,i.return),Xs(i);break;case 1:ki(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Jy(i,i.return,a),Xs(i);break;case 27:Al(i.stateNode);case 26:case 5:ki(i,i.return),Xs(i);break;case 22:i.memoizedState===null&&Xs(i);break;case 30:Xs(i);break;default:Xs(i)}t=t.sibling}}function or(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:or(h,d,a),ml(4,d);break;case 1:if(or(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){st(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)zg(x[h],S)}catch(q){st(l,l.return,q)}}a&&_&64&&Wy(d),pl(d,d.return);break;case 27:t_(d);case 26:case 5:or(h,d,a),a&&l===null&&_&4&&Zy(d),pl(d,d.return);break;case 12:or(h,d,a);break;case 31:or(h,d,a),a&&_&4&&a_(h,d);break;case 13:or(h,d,a),a&&_&4&&o_(h,d);break;case 22:d.memoizedState===null&&or(h,d,a),pl(d,d.return);break;case 30:break;default:or(h,d,a)}i=i.sibling}}function vd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function Ed(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t))}function li(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)c_(t,i,a,l),i=i.sibling}function c_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:li(t,i,a,l),h&2048&&ml(9,i);break;case 1:li(t,i,a,l);break;case 3:li(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){li(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){st(i,i.return,x)}}else li(t,i,a,l);break;case 31:li(t,i,a,l);break;case 13:li(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?li(t,i,a,l):gl(t,i):d._visibility&2?li(t,i,a,l):(d._visibility|=2,Ba(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&vd(_,i);break;case 24:li(t,i,a,l),h&2048&&Ed(i.alternate,i);break;default:li(t,i,a,l)}}function Ba(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,x=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:Ba(d,_,S,x,h),ml(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Ba(d,_,S,x,h):gl(d,_):($._visibility|=2,Ba(d,_,S,x,h)),h&&q&2048&&vd(_.alternate,_);break;case 24:Ba(d,_,S,x,h),h&&q&2048&&Ed(_.alternate,_);break;default:Ba(d,_,S,x,h)}i=i.sibling}}function gl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&vd(l.alternate,l);break;case 24:gl(a,l),h&2048&&Ed(l.alternate,l);break;default:gl(a,l)}i=i.sibling}}var yl=8192;function qa(t,i,a){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)h_(t,i,a),t=t.sibling}function h_(t,i,a){switch(t.tag){case 26:qa(t,i,a),t.flags&yl&&t.memoizedState!==null&&zA(a,oi,t.memoizedState,t.memoizedProps);break;case 5:qa(t,i,a);break;case 3:case 4:var l=oi;oi=Vc(t.stateNode.containerInfo),qa(t,i,a),oi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=yl,yl=16777216,qa(t,i,a),yl=l):qa(t,i,a));break;default:qa(t,i,a)}}function f_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function _l(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Yt=l,m_(l,t)}f_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)d_(t),t=t.sibling}function d_(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&Fr(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Tc(t)):_l(t);break;default:_l(t)}}function Tc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Yt=l,m_(l,t)}f_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Fr(8,i,i.return),Tc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(i));break;default:Tc(i)}t=t.sibling}}function m_(t,i){for(;Yt!==null;){var a=Yt;switch(a.tag){case 0:case 11:case 15:Fr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Yt=l;else e:for(a=t;Yt!==null;){l=Yt;var h=l.sibling,d=l.return;if(r_(l),l===a){Yt=null;break e}if(h!==null){h.return=d,Yt=h;break e}Yt=d}}}var tA={getCacheForType:function(t){var i=Zt(kt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Zt(kt).controller.signal}},nA=typeof WeakMap=="function"?WeakMap:Map,tt=0,ht=null,Pe=null,ze=0,rt=0,xn=null,Gr=!1,Ha=!1,Td=!1,lr=0,St=0,Qr=0,$s=0,bd=0,On=0,Fa=0,vl=null,En=null,Sd=!1,bc=0,p_=0,Sc=1/0,Ac=null,Kr=null,Ht=0,Yr=null,Ga=null,ur=0,Ad=0,wd=null,g_=null,El=0,Rd=null;function Nn(){return(tt&2)!==0&&ze!==0?ze&-ze:Q.T!==null?Nd():wu()}function y_(){if(On===0)if((ze&536870912)===0||Ke){var t=Ss;Ss<<=1,(Ss&3932160)===0&&(Ss=262144),On=t}else On=536870912;return t=In.current,t!==null&&(t.flags|=32),On}function Tn(t,i,a){(t===ht&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),Xr(t,ze,On,!1)),As(t,a),((tt&2)===0||t!==ht)&&(t===ht&&((tt&2)===0&&($s|=a),St===4&&Xr(t,ze,On,!1)),Li(t))}function __(t,i,a){if((tt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Jn(t,i),h=l?sA(t,i):Id(t,i,!0),d=l;do{if(h===0){Ha&&!l&&Xr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!iA(a)){h=Id(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=vl;var x=S.current.memoizedState.isDehydrated;if(x&&(Qa(S,_).flags|=256),_=Id(S,_,!1),_!==2){if(Td&&!x){S.errorRecoveryDisabledLanes|=d,$s|=d,h=4;break e}d=En,En=h,d!==null&&(En===null?En=d:En.push.apply(En,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Qa(t,0),Xr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Xr(l,i,On,!Gr);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=bc+300-hn(),10<h)){if(Xr(l,i,On,!Gr),_i(l,0,!0)!==0)break e;ur=i,l.timeoutHandle=X_(v_.bind(null,l,a,En,Ac,Sd,i,On,$s,Fa,Gr,d,"Throttled",-0,0),h);break e}v_(l,a,En,Ac,Sd,i,On,$s,Fa,Gr,d,null,-0,0)}}break}while(!0);Li(t)}function v_(t,i,a,l,h,d,_,S,x,q,$,ee,H,Y){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},h_(i,d,ee);var fe=(d&62914560)===d?bc-hn():(d&4194048)===d?p_-hn():0;if(fe=BA(ee,fe),fe!==null){ur=d,t.cancelPendingCommit=fe(C_.bind(null,t,i,d,a,l,h,_,S,x,$,ee,null,H,Y)),Xr(t,d,_,!q);return}}C_(t,i,d,a,l,h,_,S,x)}function iA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Rn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xr(t,i,a,l){i&=~bd,i&=~$s,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-At(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ws(t,a,i)}function wc(){return(tt&6)===0?(Tl(0),!1):!0}function Cd(){if(Pe!==null){if(rt===0)var t=Pe.return;else t=Pe,Ji=Bs=null,Hf(t),La=null,il=0,t=Pe;for(;t!==null;)$y(t.alternate,t),t=t.return;Pe=null}}function Qa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,SA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ur=0,Cd(),ht=t,Pe=a=$i(t.current,null),ze=i,rt=0,xn=null,Gr=!1,Ha=Jn(t,i),Td=!1,Fa=On=bd=$s=Qr=St=0,En=vl=null,Sd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-At(l),d=1<<h;i|=t[h],l&=~d}return lr=i,Qu(),a}function E_(t,i){Me=null,Q.H=hl,i===ka||i===ec?(i=Lg(),rt=3):i===Of?(i=Lg(),rt=4):rt=i===sd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xn=i,Pe===null&&(St=1,mc(t,zn(i,t.current)))}function T_(){var t=In.current;return t===null?!0:(ze&4194048)===ze?Fn===null:(ze&62914560)===ze||(ze&536870912)!==0?t===Fn:!1}function b_(){var t=Q.H;return Q.H=hl,t===null?hl:t}function S_(){var t=Q.A;return Q.A=tA,t}function Rc(){St=4,Gr||(ze&4194048)!==ze&&In.current!==null||(Ha=!0),(Qr&134217727)===0&&($s&134217727)===0||ht===null||Xr(ht,ze,On,!1)}function Id(t,i,a){var l=tt;tt|=2;var h=b_(),d=S_();(ht!==t||ze!==i)&&(Ac=null,Qa(t,i)),i=!1;var _=St;e:do try{if(rt!==0&&Pe!==null){var S=Pe,x=xn;switch(rt){case 8:Cd(),_=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var q=rt;if(rt=0,xn=null,Ka(t,S,x,q),a&&Ha){_=0;break e}break;default:q=rt,rt=0,xn=null,Ka(t,S,x,q)}}rA(),_=St;break}catch($){E_(t,$)}while(!0);return i&&t.shellSuspendCounter++,Ji=Bs=null,tt=l,Q.H=h,Q.A=d,Pe===null&&(ht=null,ze=0,Qu()),_}function rA(){for(;Pe!==null;)A_(Pe)}function sA(t,i){var a=tt;tt|=2;var l=b_(),h=S_();ht!==t||ze!==i?(Ac=null,Sc=hn()+500,Qa(t,i)):Ha=Jn(t,i);e:do try{if(rt!==0&&Pe!==null){i=Pe;var d=xn;t:switch(rt){case 1:rt=0,xn=null,Ka(t,i,d,1);break;case 2:case 9:if(Vg(d)){rt=0,xn=null,w_(i);break}i=function(){rt!==2&&rt!==9||ht!==t||(rt=7),Li(t)},d.then(i,i);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Vg(d)?(rt=0,xn=null,w_(i)):(rt=0,xn=null,Ka(t,i,d,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var S=Pe;if(_?cv(_):S.stateNode.complete){rt=0,xn=null;var x=S.sibling;if(x!==null)Pe=x;else{var q=S.return;q!==null?(Pe=q,Cc(q)):Pe=null}break t}}rt=0,xn=null,Ka(t,i,d,5);break;case 6:rt=0,xn=null,Ka(t,i,d,6);break;case 8:Cd(),St=6;break e;default:throw Error(s(462))}}aA();break}catch($){E_(t,$)}while(!0);return Ji=Bs=null,Q.H=l,Q.A=h,tt=a,Pe!==null?0:(ht=null,ze=0,Qu(),St)}function aA(){for(;Pe!==null&&!rf();)A_(Pe)}function A_(t){var i=Yy(t.alternate,t,lr);t.memoizedProps=t.pendingProps,i===null?Cc(t):Pe=i}function w_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=qy(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=qy(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Hf(i);default:$y(a,i),i=Pe=Sg(i,lr),i=Yy(a,i,lr)}t.memoizedProps=t.pendingProps,i===null?Cc(t):Pe=i}function Ka(t,i,a,l){Ji=Bs=null,Hf(i),La=null,il=0;var h=i.return;try{if(YS(t,h,i,a,ze)){St=1,mc(t,zn(a,t.current)),Pe=null;return}}catch(d){if(h!==null)throw Pe=h,d;St=1,mc(t,zn(a,t.current)),Pe=null;return}i.flags&32768?(Ke||l===1?t=!0:Ha||(ze&536870912)!==0?t=!1:(Gr=t=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),R_(i,t)):Cc(i)}function Cc(t){var i=t;do{if((i.flags&32768)!==0){R_(i,Gr);return}t=i.return;var a=WS(i.alternate,i,lr);if(a!==null){Pe=a;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=t}while(i!==null);St===0&&(St=5)}function R_(t,i){do{var a=JS(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);St=6,Pe=null}function C_(t,i,a,l,h,d,_,S,x){t.cancelPendingCommit=null;do Ic();while(Ht!==0);if((tt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=gf,of(t,a,d,_,S,x),t===ht&&(Pe=ht=null,ze=0),Ga=i,Yr=t,ur=a,Ad=d,wd=h,g_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,cA(wr,function(){return N_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=se.p,se.p=2,_=tt,tt|=4;try{ZS(t,i,a)}finally{tt=_,se.p=h,Q.T=l}}Ht=1,I_(),D_(),x_()}}function I_(){if(Ht===1){Ht=0;var t=Yr,i=Ga,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var h=tt;tt|=4;try{l_(i,t);var d=zd,_=mg(t.containerInfo),S=d.focusedElem,x=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&dg(S.ownerDocument.documentElement,S)){if(x!==null&&hf(S)){var q=x.start,$=x.end;if($===void 0&&($=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min($,S.value.length);else{var ee=S.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var Y=H.getSelection(),fe=S.textContent.length,be=Math.min(x.start,fe),ct=x.end===void 0?be:Math.min(x.end,fe);!Y.extend&&be>ct&&(_=ct,ct=be,be=_);var L=fg(S,be),M=fg(S,ct);if(L&&M&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var B=ee.createRange();B.setStart(L.node,L.offset),Y.removeAllRanges(),be>ct?(Y.addRange(B),Y.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),Y.addRange(B))}}}}for(ee=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var J=ee[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}zc=!!jd,zd=jd=null}finally{tt=h,se.p=l,Q.T=a}}t.current=i,Ht=2}}function D_(){if(Ht===2){Ht=0;var t=Yr,i=Ga,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var h=tt;tt|=4;try{i_(t,i.alternate,i)}finally{tt=h,se.p=l,Q.T=a}}Ht=3}}function x_(){if(Ht===4||Ht===3){Ht=0,_u();var t=Yr,i=Ga,a=ur,l=g_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ht=5:(Ht=0,Ga=Yr=null,O_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Kr=null),Qi(a),i=i.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Wn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=se.p,se.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Q.T=i,se.p=h}}(ur&3)!==0&&Ic(),Li(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Rd?El++:(El=0,Rd=t):El=0,Tl(0)}}function O_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,tl(i)))}function Ic(){return I_(),D_(),x_(),N_()}function N_(){if(Ht!==5)return!1;var t=Yr,i=Ad;Ad=0;var a=Qi(ur),l=Q.T,h=se.p;try{se.p=32>a?32:a,Q.T=null,a=wd,wd=null;var d=Yr,_=ur;if(Ht=0,Ga=Yr=null,ur=0,(tt&6)!==0)throw Error(s(331));var S=tt;if(tt|=4,d_(d.current),c_(d,d.current,_,a),tt=S,Tl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Wn,d)}catch{}return!0}finally{se.p=h,Q.T=l,O_(t,i)}}function M_(t,i,a){i=zn(a,i),i=rd(t.stateNode,i,2),t=Br(t,i,2),t!==null&&(As(t,2),Li(t))}function st(t,i,a){if(t.tag===3)M_(t,t,a);else for(;i!==null;){if(i.tag===3){M_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kr===null||!Kr.has(l))){t=zn(a,t),a=Vy(2),l=Br(i,a,2),l!==null&&(ky(a,l,i,t),As(l,2),Li(l));break}}i=i.return}}function Dd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new nA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Td=!0,h.add(a),t=oA.bind(null,t,i,a),i.then(t,t))}function oA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(ze&a)===a&&(St===4||St===3&&(ze&62914560)===ze&&300>hn()-bc?(tt&2)===0&&Qa(t,0):bd|=a,Fa===ze&&(Fa=0)),Li(t)}function V_(t,i){i===0&&(i=Au()),t=Us(t,i),t!==null&&(As(t,i),Li(t))}function lA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),V_(t,a)}function uA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),V_(t,a)}function cA(t,i){return xt(t,i)}var Dc=null,Ya=null,xd=!1,xc=!1,Od=!1,$r=0;function Li(t){t!==Ya&&t.next===null&&(Ya===null?Dc=Ya=t:Ya=Ya.next=t),xc=!0,xd||(xd=!0,fA())}function Tl(t,i){if(!Od&&xc){Od=!0;do for(var a=!1,l=Dc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-At(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,U_(l,d))}else d=ze,d=_i(l,l===ht?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jn(l,d)||(a=!0,U_(l,d));l=l.next}while(a);Od=!1}}function hA(){k_()}function k_(){xc=xd=!1;var t=0;$r!==0&&bA()&&(t=$r);for(var i=hn(),a=null,l=Dc;l!==null;){var h=l.next,d=L_(l,i);d===0?(l.next=null,a===null?Dc=h:a.next=h,h===null&&(Ya=a)):(a=l,(t!==0||(d&3)!==0)&&(xc=!0)),l=h}Ht!==0&&Ht!==5||Tl(t),$r!==0&&($r=0)}function L_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-At(d),S=1<<_,x=h[_];x===-1?((S&a)===0||(S&l)!==0)&&(h[_]=af(S,i)):x<=i&&(t.expiredLanes|=S),d&=~S}if(i=ht,a=ze,a=_i(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ar(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ar(l),Qi(a)){case 2:case 8:a=Oo;break;case 32:a=wr;break;case 268435456:a=vu;break;default:a=wr}return l=P_.bind(null,t),a=xt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ar(l),t.callbackPriority=2,t.callbackNode=null,2}function P_(t,i){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ic()&&t.callbackNode!==a)return null;var l=ze;return l=_i(t,t===ht?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(__(t,l,i),L_(t,hn()),t.callbackNode!=null&&t.callbackNode===a?P_.bind(null,t):null)}function U_(t,i){if(Ic())return null;__(t,i,!0)}function fA(){AA(function(){(tt&6)!==0?xt(xo,hA):k_()})}function Nd(){if($r===0){var t=Ma;t===0&&(t=gi,gi<<=1,(gi&261888)===0&&(gi=256)),$r=t}return $r}function j_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function z_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function dA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=j_((h[Qt]||null).action),_=l.submitter;_&&(i=(i=_[Qt]||null)?j_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Di("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($r!==0){var x=_?z_(h,_):new FormData(h);Jf(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(S.preventDefault(),x=_?z_(h,_):new FormData(h),Jf(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var Md=0;Md<pf.length;Md++){var Vd=pf[Md],mA=Vd.toLowerCase(),pA=Vd[0].toUpperCase()+Vd.slice(1);ai(mA,"on"+pA)}ai(yg,"onAnimationEnd"),ai(_g,"onAnimationIteration"),ai(vg,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(OS,"onTransitionRun"),ai(NS,"onTransitionStart"),ai(MS,"onTransitionCancel"),ai(Eg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function B_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],x=S.instance,q=S.currentTarget;if(S=S.listener,x!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=q;try{d(h)}catch($){Gu($)}h.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(S=l[_],x=S.instance,q=S.currentTarget,S=S.listener,x!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=q;try{d(h)}catch($){Gu($)}h.currentTarget=null,d=x}}}}function Ue(t,i){var a=i[da];a===void 0&&(a=i[da]=new Set);var l=t+"__bubble";a.has(l)||(q_(i,t,2,!1),a.add(l))}function kd(t,i,a){var l=0;i&&(l|=4),q_(a,t,l,i)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Ld(t){if(!t[Oc]){t[Oc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(gA.has(a)||kd(a,!1,t),kd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Oc]||(i[Oc]=!0,kd("selectionchange",!1,i))}}function q_(t,i,a,l){switch(yv(i)){case 2:var h=FA;break;case 8:h=GA;break;default:h=Wd}a=h.bind(null,i,a,t),h=void 0,!xs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Pd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=bi(S),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Or(function(){var q=d,$=Ln(a),ee=[];e:{var H=Tg.get(t);if(H!==void 0){var Y=Di,fe=t;switch(t){case"keypress":if(Ns(a)===0)break e;case"keydown":case"keyup":Y=qu;break;case"focusin":fe="focus",Y=Vs;break;case"focusout":fe="blur",Y=Vs;break;case"beforeblur":case"afterblur":Y=Vs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case yg:case _g:case vg:Y=ku;break;case Eg:Y=A;break;case"scroll":case"scrollend":Y=Qo;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=Lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Xi;break;case"toggle":case"beforetoggle":Y=Ne}var be=(i&4)!==0,ct=!be&&(t==="scroll"||t==="scrollend"),L=be?H!==null?H+"Capture":null:H;be=[];for(var M=q,B;M!==null;){var J=M;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||L===null||(J=ni(M,L),J!=null&&be.push(Sl(M,J,B))),ct)break;M=M.return}0<be.length&&(H=new Y(H,fe,null,a,$),ee.push({event:H,listeners:be}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",H&&a!==Ho&&(fe=a.relatedTarget||a.fromElement)&&(bi(fe)||fe[Ei]))break e;if((Y||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(fe=a.relatedTarget||a.toElement,Y=q,fe=fe?bi(fe):null,fe!==null&&(ct=u(fe),be=fe.tag,fe!==ct||be!==5&&be!==27&&be!==6)&&(fe=null)):(Y=null,fe=q),Y!==fe)){if(be=Ko,J="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(be=Xi,J="onPointerLeave",L="onPointerEnter",M="pointer"),ct=Y==null?H:An(Y),B=fe==null?H:An(fe),H=new be(J,M+"leave",Y,a,$),H.target=ct,H.relatedTarget=B,J=null,bi($)===q&&(be=new be(L,M+"enter",fe,a,$),be.target=B,be.relatedTarget=ct,J=be),ct=J,Y&&fe)t:{for(be=yA,L=Y,M=fe,B=0,J=L;J;J=be(J))B++;J=0;for(var ve=M;ve;ve=be(ve))J++;for(;0<B-J;)L=be(L),B--;for(;0<J-B;)M=be(M),J--;for(;B--;){if(L===M||M!==null&&L===M.alternate){be=L;break t}L=be(L),M=be(M)}be=null}else be=null;Y!==null&&H_(ee,H,Y,be,!1),fe!==null&&ct!==null&&H_(ee,ct,fe,be,!0)}}e:{if(H=q?An(q):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var Je=ag;else if(rg(H))if(og)Je=IS;else{Je=RS;var ge=wS}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&ya(q.elementType)&&(Je=ag):Je=CS;if(Je&&(Je=Je(t,q))){sg(ee,Je,a,$);break e}ge&&ge(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&zo(H,"number",H.value)}switch(ge=q?An(q):window,t){case"focusin":(rg(ge)||ge.contentEditable==="true")&&(wa=ge,ff=q,Jo=null);break;case"focusout":Jo=ff=wa=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,pg(ee,a,$);break;case"selectionchange":if(xS)break;case"keydown":case"keyup":pg(ee,a,$)}var Ve;if(et)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Aa?ks(t,a)&&(Be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(Ni&&a.locale!=="ko"&&(Aa||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Aa&&(Ve=Go()):(Ii=$,Fo="value"in Ii?Ii.value:Ii.textContent,Aa=!0)),ge=Nc(q,Be),0<ge.length&&(Be=new Oi(Be,t,null,a,$),ee.push({event:Be,listeners:ge}),Ve?Be.data=Ve:(Ve=Sa(a),Ve!==null&&(Be.data=Ve)))),(Ve=Un?TS(t,a):bS(t,a))&&(Be=Nc(q,"onBeforeInput"),0<Be.length&&(ge=new Oi("onBeforeInput","beforeinput",null,a,$),ee.push({event:ge,listeners:Be}),ge.data=Ve)),dA(ee,t,q,a,$)}B_(ee,i)})}function Sl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Nc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ni(t,a),h!=null&&l.unshift(Sl(t,h,d)),h=ni(t,i),h!=null&&l.push(Sl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function yA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function H_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,x=S.alternate,q=S.stateNode;if(S=S.tag,x!==null&&x===l)break;S!==5&&S!==26&&S!==27||q===null||(x=q,h?(q=ni(a,d),q!=null&&_.unshift(Sl(a,q,x))):h||(q=ni(a,d),q!=null&&_.push(Sl(a,q,x)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var _A=/\r\n?/g,vA=/\u0000|\uFFFD/g;function F_(t){return(typeof t=="string"?t:""+t).replace(_A,`
`).replace(vA,"")}function G_(t,i){return i=F_(i),F_(t)===i}function ut(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&gn(t,""+l);break;case"className":wn(t,"class",l);break;case"tabIndex":wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,l);break;case"style":qo(t,l,d);break;case"data":if(i!=="object"){wn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ut(t,i,"name",h.name,h,null),ut(t,i,"formEncType",h.formEncType,h,null),ut(t,i,"formMethod",h.formMethod,h,null),ut(t,i,"formTarget",h.formTarget,h,null)):(ut(t,i,"encType",h.encType,h,null),ut(t,i,"method",h.method,h,null),ut(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ti);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=_a(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),pa(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nu.get(a)||a,pa(t,a,l))}}function Ud(t,i,a,l,h,d){switch(a){case"style":qo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Qt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):pa(t,a,l)}}}function tn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(t,i,d,_,a,null)}}h&&ut(t,i,"srcSet",a.srcSet,a,null),l&&ut(t,i,"src",a.src,a,null);return;case"input":Ue("invalid",t);var S=d=_=h=null,x=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":x=$;break;case"defaultChecked":q=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:ut(t,i,l,$,a,null)}}Du(t,d,S,x,q,_,h,!1);return;case"select":Ue("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:ut(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Cr(t,!!l,i,!1):a!=null&&Cr(t,!!l,a,!0);return;case"textarea":Ue("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ut(t,i,_,S,a,null)}Ir(t,l,h,d);return;case"option":for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null)&&(x==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ut(t,i,x,l,a,null));return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)Ue(bl[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(t,i,q,l,a,null)}return;default:if(ya(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Ud(t,i,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&ut(t,i,S,l,a,null))}function EA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,x=null,q=null,$=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":x=ee;default:l.hasOwnProperty(Y)||ut(t,i,Y,null,l,ee)}}for(var H in l){var Y=l[H];if(ee=a[H],l.hasOwnProperty(H)&&(Y!=null||ee!=null))switch(H){case"type":d=Y;break;case"name":h=Y;break;case"checked":q=Y;break;case"defaultChecked":$=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==ee&&ut(t,i,H,Y,l,ee)}}ga(t,_,S,x,q,$,d,h);return;case"select":Y=_=S=H=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":Y=x;default:l.hasOwnProperty(d)||ut(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":H=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==x&&ut(t,i,h,d,l,x)}i=S,a=_,l=Y,H!=null?Cr(t,!!a,H,!1):!!l!=!!a&&(i!=null?Cr(t,!!a,i,!0):Cr(t,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ut(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ut(t,i,_,h,l,d)}xu(t,H,Y);return;case"option":for(var fe in a)H=a[fe],a.hasOwnProperty(fe)&&H!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:ut(t,i,fe,null,l,H));for(x in l)H=l[x],Y=a[x],l.hasOwnProperty(x)&&H!==Y&&(H!=null||Y!=null)&&(x==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":ut(t,i,x,H,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)H=a[be],a.hasOwnProperty(be)&&H!=null&&!l.hasOwnProperty(be)&&ut(t,i,be,null,l,H);for(q in l)if(H=l[q],Y=a[q],l.hasOwnProperty(q)&&H!==Y&&(H!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:ut(t,i,q,H,l,Y)}return;default:if(ya(i)){for(var ct in a)H=a[ct],a.hasOwnProperty(ct)&&H!==void 0&&!l.hasOwnProperty(ct)&&Ud(t,i,ct,void 0,l,H);for($ in l)H=l[$],Y=a[$],!l.hasOwnProperty($)||H===Y||H===void 0&&Y===void 0||Ud(t,i,$,H,l,Y);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&ut(t,i,L,null,l,H);for(ee in l)H=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||H===Y||H==null&&Y==null||ut(t,i,ee,H,l,Y)}function Q_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&Q_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var x=a[l],q=x.startTime;if(q>S)break;var $=x.transferSize,ee=x.initiatorType;$&&Q_(ee)&&(x=x.responseEnd,_+=$*(x<S?1:(S-q)/(x-q)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var jd=null,zd=null;function Mc(t){return t.nodeType===9?t:t.ownerDocument}function K_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Bd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qd=null;function bA(){var t=window.event;return t&&t.type==="popstate"?t===qd?!1:(qd=t,!0):(qd=null,!1)}var X_=typeof setTimeout=="function"?setTimeout:void 0,SA=typeof clearTimeout=="function"?clearTimeout:void 0,$_=typeof Promise=="function"?Promise:void 0,AA=typeof queueMicrotask=="function"?queueMicrotask:typeof $_<"u"?function(t){return $_.resolve(null).then(t).catch(wA)}:X_;function wA(t){setTimeout(function(){throw t})}function Wr(t){return t==="head"}function W_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ja(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Al(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Al(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[Ti]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Al(t.ownerDocument.body);a=h}while(a);Ja(i)}function J_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Hd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hd(a),ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function RA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ti])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function CA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function Z_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Gn(t.nextSibling),t===null))return null;return t}function Fd(t){return t.data==="$?"||t.data==="$~"}function Gd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function IA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Qd=null;function ev(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Gn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function tv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function nv(t,i,a){switch(i=Mc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Al(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ma(t)}var Qn=new Map,iv=new Set;function Vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cr=se.d;se.d={f:DA,r:xA,D:OA,C:NA,L:MA,m:VA,X:LA,S:kA,M:PA};function DA(){var t=cr.f(),i=wc();return t||i}function xA(t){var i=kn(t);i!==null&&i.tag===5&&i.type==="form"?Ey(i):cr.r(t)}var Xa=typeof document>"u"?null:document;function rv(t,i,a){var l=Xa;if(l&&typeof i=="string"&&i){var h=pn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),iv.has(h)||(iv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),tn(i,"link",t),Mt(i),l.head.appendChild(i)))}}function OA(t){cr.D(t),rv("dns-prefetch",t,null)}function NA(t,i){cr.C(t,i),rv("preconnect",t,i)}function MA(t,i,a){cr.L(t,i,a);var l=Xa;if(l&&t&&i){var h='link[rel="preload"][as="'+pn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pn(a.imageSizes)+'"]')):h+='[href="'+pn(t)+'"]';var d=h;switch(i){case"style":d=$a(t);break;case"script":d=Wa(t)}Qn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Qn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(wl(d))||i==="script"&&l.querySelector(Rl(d))||(i=l.createElement("link"),tn(i,"link",t),Mt(i),l.head.appendChild(i)))}}function VA(t,i){cr.m(t,i);var a=Xa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pn(l)+'"][href="'+pn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(t)}if(!Qn.has(d)&&(t=b({rel:"modulepreload",href:t},i),Qn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(d)))return}l=a.createElement("link"),tn(l,"link",t),Mt(l),a.head.appendChild(l)}}}function kA(t,i,a){cr.S(t,i,a);var l=Xa;if(l&&t){var h=Si(l).hoistableStyles,d=$a(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(wl(d)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Qn.get(d))&&Kd(t,a);var x=_=l.createElement("link");Mt(x),tn(x,"link",t),x._p=new Promise(function(q,$){x.onload=q,x.onerror=$}),x.addEventListener("load",function(){S.loading|=1}),x.addEventListener("error",function(){S.loading|=2}),S.loading|=4,kc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function LA(t,i){cr.X(t,i);var a=Xa;if(a&&t){var l=Si(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(t=b({src:t,async:!0},i),(i=Qn.get(h))&&Yd(t,i),d=a.createElement("script"),Mt(d),tn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function PA(t,i){cr.M(t,i);var a=Xa;if(a&&t){var l=Si(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Qn.get(h))&&Yd(t,i),d=a.createElement("script"),Mt(d),tn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function sv(t,i,a,l){var h=(h=Ie.current)?Vc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=$a(a.href),a=Si(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=$a(a.href);var d=Si(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(wl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),d||UA(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wa(a),a=Si(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function $a(t){return'href="'+pn(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function av(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function UA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),tn(i,"link",a),Mt(i),t.head.appendChild(i))}function Wa(t){return'[src="'+pn(t)+'"]'}function Rl(t){return"script[async]"+t}function ov(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pn(a.href)+'"]');if(l)return i.instance=l,Mt(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Mt(l),tn(l,"style",h),kc(l,a.precedence,t),i.instance=l;case"stylesheet":h=$a(a.href);var d=t.querySelector(wl(h));if(d)return i.state.loading|=4,i.instance=d,Mt(d),d;l=av(a),(h=Qn.get(h))&&Kd(l,h),d=(t.ownerDocument||t).createElement("link"),Mt(d);var _=d;return _._p=new Promise(function(S,x){_.onload=S,_.onerror=x}),tn(d,"link",l),i.state.loading|=4,kc(d,a.precedence,t),i.instance=d;case"script":return d=Wa(a.src),(h=t.querySelector(Rl(d)))?(i.instance=h,Mt(h),h):(l=a,(h=Qn.get(d))&&(l=b({},a),Yd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Mt(h),tn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,kc(l,a.precedence,t));return i.instance}function kc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Lc=null;function lv(t,i,a){if(Lc===null){var l=new Map,h=Lc=new Map;h.set(a,l)}else h=Lc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ti]||d[Nt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function uv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function jA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function cv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function zA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=$a(l.href),d=i.querySelector(wl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Pc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Mt(d);return}d=i.ownerDocument||i,l=av(l),(h=Qn.get(h))&&Kd(l,h),d=d.createElement("link"),Mt(d);var _=d;_._p=new Promise(function(S,x){_.onload=S,_.onerror=x}),tn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Pc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Xd=0;function BA(t,i){return t.stylesheets&&t.count===0&&jc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&jc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Xd===0&&(Xd=62500*TA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&jc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Xd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uc=null;function jc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uc=new Map,i.forEach(qA,t),Uc=null,Pc.call(t))}function qA(t,i){if(!(i.state.loading&4)){var a=Uc.get(t);if(a)var l=a.get(null);else{a=new Map,Uc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Cl={$$typeof:re,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function HA(t,i,a,l,h,d,_,S,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function hv(t,i,a,l,h,d,_,S,x,q,$,ee){return t=new HA(t,i,a,_,x,q,$,ee,S),i=1,d===!0&&(i|=24),d=Cn(3,null,null,i),t.current=d,d.stateNode=t,i=If(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Nf(d),t}function fv(t){return t?(t=Ia,t):Ia}function dv(t,i,a,l,h,d){h=fv(h),l.context===null?l.context=h:l.pendingContext=h,l=zr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Br(t,l,i),a!==null&&(Tn(a,t,i),sl(a,t,i))}function mv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function $d(t,i){mv(t,i),(t=t.alternate)&&mv(t,i)}function pv(t){if(t.tag===13||t.tag===31){var i=Us(t,67108864);i!==null&&Tn(i,t,67108864),$d(t,67108864)}}function gv(t){if(t.tag===13||t.tag===31){var i=Nn();i=Rs(i);var a=Us(t,i);a!==null&&Tn(a,t,i),$d(t,i)}}var zc=!0;function FA(t,i,a,l){var h=Q.T;Q.T=null;var d=se.p;try{se.p=2,Wd(t,i,a,l)}finally{se.p=d,Q.T=h}}function GA(t,i,a,l){var h=Q.T;Q.T=null;var d=se.p;try{se.p=8,Wd(t,i,a,l)}finally{se.p=d,Q.T=h}}function Wd(t,i,a,l){if(zc){var h=Jd(l);if(h===null)Pd(t,i,l,Bc,a),_v(t,l);else if(KA(h,t,i,a,l))l.stopPropagation();else if(_v(t,l),i&4&&-1<QA.indexOf(t)){for(;h!==null;){var d=kn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=yi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var x=1<<31-At(_);S.entanglements[1]|=x,_&=~x}Li(d),(tt&6)===0&&(Sc=hn()+500,Tl(0))}}break;case 31:case 13:S=Us(d,2),S!==null&&Tn(S,d,2),wc(),$d(d,2)}if(d=Jd(l),d===null&&Pd(t,i,l,Bc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Pd(t,i,l,null,a)}}function Jd(t){return t=Ln(t),Zd(t)}var Bc=null;function Zd(t){if(Bc=null,t=bi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Bc=t,null}function yv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bs()){case xo:return 2;case Oo:return 8;case wr:case sf:return 32;case vu:return 268435456;default:return 32}default:return 32}}var em=!1,Jr=null,Zr=null,es=null,Il=new Map,Dl=new Map,ts=[],QA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _v(t,i){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function xl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=kn(i),i!==null&&pv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function KA(t,i,a,l,h){switch(i){case"focusin":return Jr=xl(Jr,t,i,a,l,h),!0;case"dragenter":return Zr=xl(Zr,t,i,a,l,h),!0;case"mouseover":return es=xl(es,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,xl(Il.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,xl(Dl.get(d)||null,t,i,a,l,h)),!0}return!1}function vv(t){var i=bi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Zn(t.priority,function(){gv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Zn(t.priority,function(){gv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Jd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ho=l,a.target.dispatchEvent(l),Ho=null}else return i=kn(a),i!==null&&pv(i),t.blockedOn=a,!1;i.shift()}return!0}function Ev(t,i,a){qc(t)&&a.delete(i)}function YA(){em=!1,Jr!==null&&qc(Jr)&&(Jr=null),Zr!==null&&qc(Zr)&&(Zr=null),es!==null&&qc(es)&&(es=null),Il.forEach(Ev),Dl.forEach(Ev)}function Hc(t,i){t.blockedOn===i&&(t.blockedOn=null,em||(em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,YA)))}var Fc=null;function Tv(t){Fc!==t&&(Fc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fc===t&&(Fc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Zd(l||a)===null)continue;break}var d=kn(a);d!==null&&(t.splice(i,3),i-=3,Jf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ja(t){function i(x){return Hc(x,t)}Jr!==null&&Hc(Jr,t),Zr!==null&&Hc(Zr,t),es!==null&&Hc(es,t),Il.forEach(i),Dl.forEach(i);for(var a=0;a<ts.length;a++){var l=ts[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ts.length&&(a=ts[0],a.blockedOn===null);)vv(a),a.blockedOn===null&&ts.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Qt]||null;if(typeof d=="function")_||Tv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Qt]||null)S=_.formAction;else if(Zd(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Tv(a)}}}function bv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function tm(t){this._internalRoot=t}Gc.prototype.render=tm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Nn();dv(a,l,t,i,null,null)},Gc.prototype.unmount=tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;dv(t.current,2,null,t,null,null),wc(),i[Ei]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var i=wu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ts.length&&i!==0&&i<ts[a].priority;a++);ts.splice(a,0,t),a===0&&vv(t)}};var Sv=e.version;if(Sv!=="19.2.3")throw Error(s(527,Sv,"19.2.3"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var XA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{Wn=Qc.inject(XA),$t=Qc}catch{}}return Nl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=xy,d=Oy,_=Ny;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=hv(t,1,!1,null,null,a,l,null,h,d,_,bv),t[Ei]=i.current,Ld(t),new tm(i)},Nl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=xy,_=Oy,S=Ny,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=hv(t,1,!0,i,a??null,l,h,x,d,_,S,bv),i.context=fv(null),a=i.current,l=Nn(),l=Rs(l),h=zr(l),h.callback=null,Br(a,h,l),a=l,i.current.lanes=a,As(i,a),Li(i),t[Ei]=i.current,Ld(t),new Gc(i)},Nl.version="19.2.3",Nl}var Mv;function s1(){if(Mv)return rm.exports;Mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rm.exports=r1(),rm.exports}var a1=s1();var Vv="popstate";function o1(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Sm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Kl(o)}return u1(e,n,null,r)}function vt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $n(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function l1(){return Math.random().toString(36).substring(2,10)}function kv(r,e){return{usr:r.state,key:r.key,idx:e}}function Sm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?_o(e):e,state:n,key:e&&e.key||s||l1()}}function Kl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function _o(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function u1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let G=E(),X=G==null?null:G-g;g=G,p&&p({action:m,location:F.location,delta:X})}function C(G,X){m="PUSH";let Z=Sm(F.location,G,X);g=E()+1;let re=kv(Z,g),de=F.createHref(Z);try{f.pushState(re,"",de)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;o.location.assign(de)}u&&p&&p({action:m,location:F.location,delta:1})}function U(G,X){m="REPLACE";let Z=Sm(F.location,G,X);g=E();let re=kv(Z,g),de=F.createHref(Z);f.replaceState(re,"",de),u&&p&&p({action:m,location:F.location,delta:0})}function j(G){return c1(G)}let F={get action(){return m},get location(){return r(o,f)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Vv,b),p=G,()=>{o.removeEventListener(Vv,b),p=null}},createHref(G){return e(o,G)},createURL:j,encodeLocation(G){let X=j(G);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:C,replace:U,go(G){return f.go(G)}};return F}function c1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Kl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function A0(r,e,n="/"){return h1(r,e,n,!1)}function h1(r,e,n,s){let o=typeof e=="string"?_o(e):e,u=_r(o.pathname||"/",n);if(u==null)return null;let f=w0(r);f1(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=S1(u);m=T1(f[p],g,s)}return m}function w0(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;vt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=dr([s,E.relativePath]),C=n.concat(E);f.children&&f.children.length>0&&(vt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),w0(f.children,e,C,b,p)),!(f.path==null&&!f.index)&&e.push({path:b,score:v1(b,f.index),routesMeta:C})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of R0(f.path))u(f,m,!0,p)}),e}function R0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=R0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function f1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:E1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var d1=/^:[\w-]+$/,m1=3,p1=2,g1=1,y1=10,_1=-2,Lv=r=>r==="*";function v1(r,e){let n=r.split("/"),s=n.length;return n.some(Lv)&&(s+=_1),e&&(s+=p1),n.filter(o=>!Lv(o)).reduce((o,u)=>o+(d1.test(u)?m1:u===""?g1:y1),s)}function E1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function T1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),C=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:dr([u,b.pathname]),pathnameBase:C1(dr([u,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(u=dr([u,b.pathnameBase]))}return f}function dh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=b1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},C)=>{if(E==="*"){let j=m[C]||"";f=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const U=m[C];return b&&!U?g[E]=void 0:g[E]=(U||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function b1(r,e=!1,n=!0){$n(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function S1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function _r(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var C0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A1=r=>C0.test(r);function w1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?_o(r):r,u;if(n)if(A1(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),$n(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Pv(n.substring(1),"/"):u=Pv(n,e)}else u=e;return{pathname:u,search:I1(s),hash:D1(o)}}function Pv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ep(r){let e=R1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function tp(r,e,n,s=!1){let o;typeof r=="string"?o=_o(r):(o={...r},vt(!o.pathname||!o.pathname.includes("?"),lm("?","pathname","search",o)),vt(!o.pathname||!o.pathname.includes("#"),lm("#","pathname","hash",o)),vt(!o.search||!o.search.includes("#"),lm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),b-=1;o.pathname=C.join("/")}m=b>=0?e[b]:"/"}let p=w1(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var dr=r=>r.join("/").replace(/\/\/+/g,"/"),C1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),I1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,D1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,x1=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function O1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function N1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var I0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function D0(r,e){let n=r;if(typeof n!="string"||!C0.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(I0)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=_r(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{$n(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var x0=["POST","PUT","PATCH","DELETE"];new Set(x0);var M1=["GET",...x0];new Set(M1);var vo=P.createContext(null);vo.displayName="DataRouter";var Vh=P.createContext(null);Vh.displayName="DataRouterState";var V1=P.createContext(!1),O0=P.createContext({isTransitioning:!1});O0.displayName="ViewTransition";var k1=P.createContext(new Map);k1.displayName="Fetchers";var L1=P.createContext(null);L1.displayName="Await";var Mn=P.createContext(null);Mn.displayName="Navigation";var iu=P.createContext(null);iu.displayName="Location";var mi=P.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var np=P.createContext(null);np.displayName="RouteError";var N0="REACT_ROUTER_ERROR",P1="REDIRECT",U1="ROUTE_ERROR_RESPONSE";function j1(r){if(r.startsWith(`${N0}:${P1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function z1(r){if(r.startsWith(`${N0}:${U1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new x1(e.status,e.statusText,e.data)}catch{}}function B1(r,{relative:e}={}){vt(Eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Mn),{hash:o,pathname:u,search:f}=ru(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:dr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Eo(){return P.useContext(iu)!=null}function pi(){return vt(Eo(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(iu).location}var M0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V0(r){P.useContext(Mn).static||P.useLayoutEffect(r)}function ip(){let{isDataRoute:r}=P.useContext(mi);return r?nw():q1()}function q1(){vt(Eo(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(vo),{basename:e,navigator:n}=P.useContext(Mn),{matches:s}=P.useContext(mi),{pathname:o}=pi(),u=JSON.stringify(ep(s)),f=P.useRef(!1);return V0(()=>{f.current=!0}),P.useCallback((p,g={})=>{if($n(f.current,M0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=tp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:dr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}var H1=P.createContext(null);function F1(r){let e=P.useContext(mi).outlet;return P.useMemo(()=>e&&P.createElement(H1.Provider,{value:r},e),[e,r])}function ru(r,{relative:e}={}){let{matches:n}=P.useContext(mi),{pathname:s}=pi(),o=JSON.stringify(ep(n));return P.useMemo(()=>tp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function G1(r,e){return k0(r,e)}function k0(r,e,n,s,o){vt(Eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(Mn),{matches:f}=P.useContext(mi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let Z=b&&b.path||"";P0(g,!b||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let C=pi(),U;if(e){let Z=typeof e=="string"?_o(e):e;vt(E==="/"||Z.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),U=Z}else U=C;let j=U.pathname||"/",F=j;if(E!=="/"){let Z=E.replace(/^\//,"").split("/");F="/"+j.replace(/^\//,"").split("/").slice(Z.length).join("/")}let G=A0(r,{pathname:F});$n(b||G!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),$n(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=$1(G&&G.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:dr([E,u.encodeLocation?u.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?E:dr([E,u.encodeLocation?u.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),f,n,s,o);return e&&X?P.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},X):X}function Q1(){let r=tw(),e=O1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,f)}var K1=P.createElement(Q1,null),L0=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=z1(r.digest);n&&(r=n)}let e=r!==void 0?P.createElement(mi.Provider,{value:this.props.routeContext},P.createElement(np.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?P.createElement(Y1,{error:r},e):e}};L0.contextType=V1;var um=new WeakMap;function Y1({children:r,error:e}){let{basename:n}=P.useContext(Mn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=j1(e.digest);if(s){let o=um.get(e);if(o)throw o;let u=D0(s.location,n);if(I0&&!um.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw um.set(e,f),f}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function X1({routeContext:r,match:e,children:n}){let s=P.useContext(vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(mi.Provider,{value:r},n)}function $1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);vt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=E),b.route.id){let{loaderData:C,errors:U}=n,j=b.route.loader&&!C.hasOwnProperty(b.route.id)&&(!U||U[b.route.id]===void 0);if(b.route.lazy||j){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,b)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:N1(n.matches),errorInfo:b})}:void 0;return u.reduceRight((E,b,C)=>{let U,j=!1,F=null,G=null;n&&(U=f&&b.route.id?f[b.route.id]:void 0,F=b.route.errorElement||K1,m&&(p<0&&C===0?(P0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,G=null):p===C&&(j=!0,G=b.route.hydrateFallbackElement||null)));let X=e.concat(u.slice(0,C+1)),Z=()=>{let re;return U?re=F:j?re=G:b.route.Component?re=P.createElement(b.route.Component,null):b.route.element?re=b.route.element:re=E,P.createElement(X1,{match:b,routeContext:{outlet:E,matches:X,isDataRoute:n!=null},children:re})};return n&&(b.route.ErrorBoundary||b.route.errorElement||C===0)?P.createElement(L0,{location:n.location,revalidation:n.revalidation,component:F,error:U,children:Z(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:g}):Z()},null)}function rp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W1(r){let e=P.useContext(vo);return vt(e,rp(r)),e}function J1(r){let e=P.useContext(Vh);return vt(e,rp(r)),e}function Z1(r){let e=P.useContext(mi);return vt(e,rp(r)),e}function sp(r){let e=Z1(r),n=e.matches[e.matches.length-1];return vt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function ew(){return sp("useRouteId")}function tw(){let r=P.useContext(np),e=J1("useRouteError"),n=sp("useRouteError");return r!==void 0?r:e.errors?.[n]}function nw(){let{router:r}=W1("useNavigate"),e=sp("useNavigate"),n=P.useRef(!1);return V0(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{$n(n.current,M0),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Uv={};function P0(r,e,n){!e&&!Uv[r]&&(Uv[r]=!0,$n(!1,n))}P.memo(iw);function iw({routes:r,future:e,state:n,onError:s}){return k0(r,void 0,n,s,e)}function rw({to:r,replace:e,state:n,relative:s}){vt(Eo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(Mn);$n(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(mi),{pathname:f}=pi(),m=ip(),p=tp(r,ep(u),f,s==="path"),g=JSON.stringify(p);return P.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function ap(r){return F1(r.context)}function Kn(r){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){vt(!Eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=_o(n));let{pathname:g="/",search:E="",hash:b="",state:C=null,key:U="default"}=n,j=P.useMemo(()=>{let F=_r(g,m);return F==null?null:{location:{pathname:F,search:E,hash:b,state:C,key:U},navigationType:s}},[m,g,E,b,C,U,s]);return $n(j!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:P.createElement(Mn.Provider,{value:p},P.createElement(iu.Provider,{children:e,value:j}))}function aw({children:r,location:e}){return G1(Am(r),e)}function Am(r,e=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,Am(s.props.children,u));return}vt(s.type===Kn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Am(s.props.children,u)),n.push(f)}),n}var th="get",nh="application/x-www-form-urlencoded";function kh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function ow(r){return kh(r)&&r.tagName.toLowerCase()==="button"}function lw(r){return kh(r)&&r.tagName.toLowerCase()==="form"}function uw(r){return kh(r)&&r.tagName.toLowerCase()==="input"}function cw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function hw(r,e){return r.button===0&&(!e||e==="_self")&&!cw(r)}var Kc=null;function fw(){if(Kc===null)try{new FormData(document.createElement("form"),0),Kc=!1}catch{Kc=!0}return Kc}var dw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cm(r){return r!=null&&!dw.has(r)?($n(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nh}"`),null):r}function mw(r,e){let n,s,o,u,f;if(lw(r)){let m=r.getAttribute("action");s=m?_r(m,e):null,n=r.getAttribute("method")||th,o=cm(r.getAttribute("enctype"))||nh,u=new FormData(r)}else if(ow(r)||uw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?_r(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||th,o=cm(r.getAttribute("formenctype"))||cm(m.getAttribute("enctype"))||nh,u=new FormData(m,r),!fw()){let{name:g,type:E,value:b}=r;if(E==="image"){let C=g?`${g}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else g&&u.append(g,b)}}else{if(kh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=th,s=null,o=nh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function op(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function pw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&_r(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function gw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function _w(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await gw(u,n);return f.links?f.links():[]}return[]}));return bw(s.flat(1).filter(yw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function jv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function vw(r,e,{includeHydrateFallback:n}={}){return Ew(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Ew(r){return[...new Set(r)]}function Tw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function bw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Tw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function U0(){let r=P.useContext(vo);return op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Sw(){let r=P.useContext(Vh);return op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lp=P.createContext(void 0);lp.displayName="FrameworkContext";function j0(){let r=P.useContext(lp);return op(r,"You must render this element inside a <HydratedRouter> element"),r}function Aw(r,e){let n=P.useContext(lp),[s,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,C=P.useRef(null);P.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let F=X=>{X.forEach(Z=>{f(Z.isIntersecting)})},G=new IntersectionObserver(F,{threshold:.5});return C.current&&G.observe(C.current),()=>{G.disconnect()}}},[r]),P.useEffect(()=>{if(s){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[s]);let U=()=>{o(!0)},j=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,C,{}]:[u,C,{onFocus:Ml(m,U),onBlur:Ml(p,j),onMouseEnter:Ml(g,U),onMouseLeave:Ml(E,j),onTouchStart:Ml(b,U)}]:[!1,C,{}]}function Ml(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function ww({page:r,...e}){let{router:n}=U0(),s=P.useMemo(()=>A0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(Cw,{page:r,matches:s,...e}):null}function Rw(r){let{manifest:e,routeModules:n}=j0(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return _w(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Cw({page:r,matches:e,...n}){let s=pi(),{manifest:o,routeModules:u}=j0(),{basename:f}=U0(),{loaderData:m,matches:p}=Sw(),g=P.useMemo(()=>jv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=P.useMemo(()=>jv(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let j=new Set,F=!1;if(e.forEach(X=>{let Z=o.routes[X.route.id];!Z||!Z.hasLoader||(!g.some(re=>re.route.id===X.route.id)&&X.route.id in m&&u[X.route.id]?.shouldRevalidate||Z.hasClientLoader?F=!0:j.add(X.route.id))}),j.size===0)return[];let G=pw(r,f,"data");return F&&j.size>0&&G.searchParams.set("_routes",e.filter(X=>j.has(X.route.id)).map(X=>X.route.id).join(",")),[G.pathname+G.search]},[f,m,s,o,g,e,r,u]),C=P.useMemo(()=>vw(E,o),[E,o]),U=Rw(E);return P.createElement(P.Fragment,null,b.map(j=>P.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),C.map(j=>P.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),U.map(({key:j,link:F})=>P.createElement("link",{key:j,nonce:n.nonce,...F})))}function Iw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dw&&(window.__reactRouterVersion="7.11.0")}catch{}function xw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=o1({window:s,v5Compat:!0}));let u=o.current,[f,m]=P.useState({action:u.action,location:u.location}),p=P.useCallback(g=>{n===!1?m(g):P.startTransition(()=>m(g))},[n]);return P.useLayoutEffect(()=>u.listen(p),[u,p]),P.createElement(sw,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,It=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:C,...U},j){let{basename:F,unstable_useTransitions:G}=P.useContext(Mn),X=typeof g=="string"&&z0.test(g),Z=D0(g,F);g=Z.to;let re=B1(g,{relative:o}),[de,pe,me]=Aw(s,U),I=Vw(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:C,unstable_useTransitions:G});function w(N){e&&e(N),N.defaultPrevented||I(N)}let R=P.createElement("a",{...U,...me,href:Z.absoluteURL||re,onClick:Z.isExternal||u?e:w,ref:Iw(j,pe),target:p,"data-discover":!X&&n==="render"?"true":void 0});return de&&!X?P.createElement(P.Fragment,null,R,P.createElement(ww,{page:re})):R});It.displayName="Link";var Ow=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let b=ru(f,{relative:g.relative}),C=pi(),U=P.useContext(Vh),{navigator:j,basename:F}=P.useContext(Mn),G=U!=null&&jw(b)&&m===!0,X=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,Z=C.pathname,re=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),re=re?re.toLowerCase():null,X=X.toLowerCase()),re&&F&&(re=_r(re,F)||re);const de=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let pe=Z===X||!o&&Z.startsWith(X)&&Z.charAt(de)==="/",me=re!=null&&(re===X||!o&&re.startsWith(X)&&re.charAt(X.length)==="/"),I={isActive:pe,isPending:me,isTransitioning:G},w=pe?e:void 0,R;typeof s=="function"?R=s(I):R=[s,pe?"active":null,me?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(I):u;return P.createElement(It,{...g,"aria-current":w,className:R,ref:E,style:N,to:f,viewTransition:m},typeof p=="function"?p(I):p)});Ow.displayName="NavLink";var Nw=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=th,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:C,...U},j)=>{let{unstable_useTransitions:F}=P.useContext(Mn),G=Pw(),X=Uw(m,{relative:g}),Z=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&z0.test(m),de=pe=>{if(p&&p(pe),pe.defaultPrevented)return;pe.preventDefault();let me=pe.nativeEvent.submitter,I=me?.getAttribute("formmethod")||f,w=()=>G(me||pe.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:C});F&&n!==!1?P.startTransition(()=>w()):w()};return P.createElement("form",{ref:j,method:Z,action:X,onSubmit:s?p:de,...U,"data-discover":!re&&r==="render"?"true":void 0})});Nw.displayName="Form";function Mw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B0(r){let e=P.useContext(vo);return vt(e,Mw(r)),e}function Vw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=ip(),E=pi(),b=ru(r,{relative:u});return P.useCallback(C=>{if(hw(C,e)){C.preventDefault();let U=n!==void 0?n:Kl(E)===Kl(b),j=()=>g(r,{replace:U,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?P.startTransition(()=>j()):j()}},[E,g,b,n,s,e,r,o,u,f,m,p])}var kw=0,Lw=()=>`__${String(++kw)}__`;function Pw(){let{router:r}=B0("useSubmit"),{basename:e}=P.useContext(Mn),n=ew(),s=r.fetch,o=r.navigate;return P.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:b}=mw(u,e);if(f.navigate===!1){let C=f.fetcherKey||Lw();await s(C,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function Uw(r,{relative:e}={}){let{basename:n}=P.useContext(Mn),s=P.useContext(mi);vt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ru(r||".",{relative:e})},f=pi();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:dr([n,u.pathname])),Kl(u)}function jw(r,{relative:e}={}){let n=P.useContext(O0);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=B0("useViewTransitionState"),o=ru(r,{relative:e});if(!n.isTransitioning)return!1;let u=_r(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=_r(n.nextLocation.pathname,s)||n.nextLocation.pathname;return dh(o.pathname,f)!=null||dh(o.pathname,u)!=null}const zw=function(){},Bw={is_logged_in:!1,is_auth_checked:!1,username:"",set_user_context:zw},up=P.createContext(Bw),qw=()=>{};var zv={};const q0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Hw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},H0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let C=(m&15)<<2|g>>6,U=g&63;p||(U=64,f||(C=64)),s.push(n[E],n[b],n[C],n[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(q0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Hw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new Fw;const C=u<<2|m>>4;if(s.push(C),g!==64){const U=m<<4&240|g>>2;if(s.push(U),b!==64){const j=g<<6&192|b;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gw=function(r){const e=q0(r);return H0.encodeByteArray(e,!0)},mh=function(r){return Gw(r).replace(/\./g,"")},F0=function(r){try{return H0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Kw=()=>Qw().__FIREBASE_DEFAULTS__,Yw=()=>{if(typeof process>"u"||typeof zv>"u")return;const r=zv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Xw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&F0(r[1]);return e&&JSON.parse(e)},Lh=()=>{try{return qw()||Kw()||Yw()||Xw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},G0=r=>Lh()?.emulatorHosts?.[r],$w=r=>{const e=G0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Q0=()=>Lh()?.config,K0=r=>Lh()?.[`_${r}`];class Ww{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function To(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Y0(r){return(await fetch(r,{credentials:"include"})).ok}function Jw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[mh(JSON.stringify(n)),mh(JSON.stringify(f)),""].join(".")}const zl={};function Zw(){const r={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?r.emulator.push(e):r.prod.push(e);return r}function eR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Bv=!1;function X0(r,e){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||zl[r]===e||zl[r]||Bv)return;zl[r]=e;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",u=Zw().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,U){C.setAttribute("width","24"),C.setAttribute("id",U),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function g(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Bv=!0,f()},C}function E(C,U){C.setAttribute("id",U),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function b(){const C=eR(s),U=n("text"),j=document.getElementById(U)||document.createElement("span"),F=n("learnmore"),G=document.getElementById(F)||document.createElement("a"),X=n("preprendIcon"),Z=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const re=C.element;m(re),E(G,F);const de=g();p(Z,X),re.append(Z,j,G,de),document.body.appendChild(re)}u?(j.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function nR(){const r=Lh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aR(){const r=cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function oR(){return!nR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lR(){try{return typeof indexedDB=="object"}catch{return!1}}function uR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const cR="FirebaseError";class Sr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=cR,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?hR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Sr(o,m,s)}}function hR(r,e){return r.replace(fR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const fR=/\{\$([^}]+)}/g;function dR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ea(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(qv(u)&&qv(f)){if(!ea(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function qv(r){return r!==null&&typeof r=="object"}function au(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Vl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function kl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function mR(r,e){const n=new pR(r,e);return n.subscribe.bind(n)}class pR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");gR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=hm),o.error===void 0&&(o.error=hm),o.complete===void 0&&(o.complete=hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function hm(){}function mn(r){return r&&r._delegate?r._delegate:r}class ta{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ws="[DEFAULT]";class yR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Ww;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vR(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_R(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _R(r){return r===Ws?void 0:r}function vR(r){return r.instantiationMode==="EAGER"}class ER{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qe||(qe={}));const TR={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},bR=qe.INFO,SR={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},AR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=SR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cp{constructor(e){this.name=e,this._logLevel=bR,this._logHandler=AR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const wR=(r,e)=>e.some(n=>r instanceof n);let Hv,Fv;function RR(){return Hv||(Hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CR(){return Fv||(Fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $0=new WeakMap,wm=new WeakMap,W0=new WeakMap,fm=new WeakMap,hp=new WeakMap;function IR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(us(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&$0.set(n,r)}).catch(()=>{}),hp.set(e,r),e}function DR(r){if(wm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});wm.set(r,e)}let Rm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return wm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||W0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function xR(r){Rm=r(Rm)}function OR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(dm(this),e,...n);return W0.set(s,e.sort?e.sort():[e]),us(s)}:CR().includes(r)?function(...e){return r.apply(dm(this),e),us($0.get(this))}:function(...e){return us(r.apply(dm(this),e))}}function NR(r){return typeof r=="function"?OR(r):(r instanceof IDBTransaction&&DR(r),wR(r,RR())?new Proxy(r,Rm):r)}function us(r){if(r instanceof IDBRequest)return IR(r);if(fm.has(r))return fm.get(r);const e=NR(r);return e!==r&&(fm.set(r,e),hp.set(e,r)),e}const dm=r=>hp.get(r);function MR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=us(f);return s&&f.addEventListener("upgradeneeded",p=>{s(us(f.result),p.oldVersion,p.newVersion,us(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const VR=["get","getKey","getAll","getAllKeys","count"],kR=["put","add","delete","clear"],mm=new Map;function Gv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(mm.get(e))return mm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=kR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||VR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return mm.set(e,u),u}xR(r=>({...r,get:(e,n,s)=>Gv(e,n)||r.get(e,n,s),has:(e,n)=>!!Gv(e,n)||r.has(e,n)}));class LR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function PR(r){return r.getComponent()?.type==="VERSION"}const Cm="@firebase/app",Qv="0.14.6";const vr=new cp("@firebase/app"),UR="@firebase/app-compat",jR="@firebase/analytics-compat",zR="@firebase/analytics",BR="@firebase/app-check-compat",qR="@firebase/app-check",HR="@firebase/auth",FR="@firebase/auth-compat",GR="@firebase/database",QR="@firebase/data-connect",KR="@firebase/database-compat",YR="@firebase/functions",XR="@firebase/functions-compat",$R="@firebase/installations",WR="@firebase/installations-compat",JR="@firebase/messaging",ZR="@firebase/messaging-compat",eC="@firebase/performance",tC="@firebase/performance-compat",nC="@firebase/remote-config",iC="@firebase/remote-config-compat",rC="@firebase/storage",sC="@firebase/storage-compat",aC="@firebase/firestore",oC="@firebase/ai",lC="@firebase/firestore-compat",uC="firebase",cC="12.6.0";const Im="[DEFAULT]",hC={[Cm]:"fire-core",[UR]:"fire-core-compat",[zR]:"fire-analytics",[jR]:"fire-analytics-compat",[qR]:"fire-app-check",[BR]:"fire-app-check-compat",[HR]:"fire-auth",[FR]:"fire-auth-compat",[GR]:"fire-rtdb",[QR]:"fire-data-connect",[KR]:"fire-rtdb-compat",[YR]:"fire-fn",[XR]:"fire-fn-compat",[$R]:"fire-iid",[WR]:"fire-iid-compat",[JR]:"fire-fcm",[ZR]:"fire-fcm-compat",[eC]:"fire-perf",[tC]:"fire-perf-compat",[nC]:"fire-rc",[iC]:"fire-rc-compat",[rC]:"fire-gcs",[sC]:"fire-gcs-compat",[aC]:"fire-fst",[lC]:"fire-fst-compat",[oC]:"fire-vertex","fire-js":"fire-js",[uC]:"fire-js-all"};const ph=new Map,fC=new Map,Dm=new Map;function Kv(r,e){try{r.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function uo(r){const e=r.name;if(Dm.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,r);for(const n of ph.values())Kv(n,r);for(const n of fC.values())Kv(n,r);return!0}function fp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ui(r){return r==null?!1:r.settings!==void 0}const dC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new su("app","Firebase",dC);class mC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}const bo=cC;function J0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Im,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw cs.create("bad-app-name",{appName:String(o)});if(n||(n=Q0()),!n)throw cs.create("no-options");const u=ph.get(o);if(u){if(ea(n,u.options)&&ea(s,u.config))return u;throw cs.create("duplicate-app",{appName:o})}const f=new ER(o);for(const p of Dm.values())f.addComponent(p);const m=new mC(n,s,f);return ph.set(o,m),m}function Z0(r=Im){const e=ph.get(r);if(!e&&r===Im&&Q0())return J0();if(!e)throw cs.create("no-app",{appName:r});return e}function hs(r,e,n){let s=hC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(f.join(" "));return}uo(new ta(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const pC="firebase-heartbeat-database",gC=1,Yl="firebase-heartbeat-store";let pm=null;function eT(){return pm||(pm=MR(pC,gC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(r=>{throw cs.create("idb-open",{originalErrorMessage:r.message})})),pm}async function yC(r){try{const n=(await eT()).transaction(Yl),s=await n.objectStore(Yl).get(tT(r));return await n.done,s}catch(e){if(e instanceof Sr)vr.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e?.message});vr.warn(n.message)}}}async function Yv(r,e){try{const s=(await eT()).transaction(Yl,"readwrite");await s.objectStore(Yl).put(e,tT(r)),await s.done}catch(n){if(n instanceof Sr)vr.warn(n.message);else{const s=cs.create("idb-set",{originalErrorMessage:n?.message});vr.warn(s.message)}}}function tT(r){return`${r.name}!${r.options.appId}`}const _C=1024,vC=30;class EC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Xv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>vC){const o=SC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Xv(),{heartbeatsToSend:n,unsentEntries:s}=TC(this._heartbeatsCache.heartbeats),o=mh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vr.warn(e),""}}}function Xv(){return new Date().toISOString().substring(0,10)}function TC(r,e=_C){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),$v(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),$v(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class bC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lR()?uR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $v(r){return mh(JSON.stringify({version:2,heartbeats:r})).length}function SC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function AC(r){uo(new ta("platform-logger",e=>new LR(e),"PRIVATE")),uo(new ta("heartbeat",e=>new EC(e),"PRIVATE")),hs(Cm,Qv,r),hs(Cm,Qv,"esm2020"),hs("fire-js","")}AC("");var Wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fs,nT;(function(){var r;function e(I,w){function R(){}R.prototype=w.prototype,I.F=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(N,O,k){for(var D=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)D[ke-2]=arguments[ke];return w.prototype[O].apply(N,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,R){R||(R=0);const N=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)N[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;O<16;++O)N[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],O=I.g[2];let k=I.g[3],D;D=w+(k^R&(O^k))+N[0]+3614090360&4294967295,w=R+(D<<7&4294967295|D>>>25),D=k+(O^w&(R^O))+N[1]+3905402710&4294967295,k=w+(D<<12&4294967295|D>>>20),D=O+(R^k&(w^R))+N[2]+606105819&4294967295,O=k+(D<<17&4294967295|D>>>15),D=R+(w^O&(k^w))+N[3]+3250441966&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(k^R&(O^k))+N[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=k+(O^w&(R^O))+N[5]+1200080426&4294967295,k=w+(D<<12&4294967295|D>>>20),D=O+(R^k&(w^R))+N[6]+2821735955&4294967295,O=k+(D<<17&4294967295|D>>>15),D=R+(w^O&(k^w))+N[7]+4249261313&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(k^R&(O^k))+N[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=k+(O^w&(R^O))+N[9]+2336552879&4294967295,k=w+(D<<12&4294967295|D>>>20),D=O+(R^k&(w^R))+N[10]+4294925233&4294967295,O=k+(D<<17&4294967295|D>>>15),D=R+(w^O&(k^w))+N[11]+2304563134&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(k^R&(O^k))+N[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=k+(O^w&(R^O))+N[13]+4254626195&4294967295,k=w+(D<<12&4294967295|D>>>20),D=O+(R^k&(w^R))+N[14]+2792965006&4294967295,O=k+(D<<17&4294967295|D>>>15),D=R+(w^O&(k^w))+N[15]+1236535329&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(O^k&(R^O))+N[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=k+(R^O&(w^R))+N[6]+3225465664&4294967295,k=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(k^w))+N[11]+643717713&4294967295,O=k+(D<<14&4294967295|D>>>18),D=R+(k^w&(O^k))+N[0]+3921069994&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(O^k&(R^O))+N[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=k+(R^O&(w^R))+N[10]+38016083&4294967295,k=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(k^w))+N[15]+3634488961&4294967295,O=k+(D<<14&4294967295|D>>>18),D=R+(k^w&(O^k))+N[4]+3889429448&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(O^k&(R^O))+N[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=k+(R^O&(w^R))+N[14]+3275163606&4294967295,k=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(k^w))+N[3]+4107603335&4294967295,O=k+(D<<14&4294967295|D>>>18),D=R+(k^w&(O^k))+N[8]+1163531501&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(O^k&(R^O))+N[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=k+(R^O&(w^R))+N[2]+4243563512&4294967295,k=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(k^w))+N[7]+1735328473&4294967295,O=k+(D<<14&4294967295|D>>>18),D=R+(k^w&(O^k))+N[12]+2368359562&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(R^O^k)+N[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=k+(w^R^O)+N[8]+2272392833&4294967295,k=w+(D<<11&4294967295|D>>>21),D=O+(k^w^R)+N[11]+1839030562&4294967295,O=k+(D<<16&4294967295|D>>>16),D=R+(O^k^w)+N[14]+4259657740&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(R^O^k)+N[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=k+(w^R^O)+N[4]+1272893353&4294967295,k=w+(D<<11&4294967295|D>>>21),D=O+(k^w^R)+N[7]+4139469664&4294967295,O=k+(D<<16&4294967295|D>>>16),D=R+(O^k^w)+N[10]+3200236656&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(R^O^k)+N[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=k+(w^R^O)+N[0]+3936430074&4294967295,k=w+(D<<11&4294967295|D>>>21),D=O+(k^w^R)+N[3]+3572445317&4294967295,O=k+(D<<16&4294967295|D>>>16),D=R+(O^k^w)+N[6]+76029189&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(R^O^k)+N[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=k+(w^R^O)+N[12]+3873151461&4294967295,k=w+(D<<11&4294967295|D>>>21),D=O+(k^w^R)+N[15]+530742520&4294967295,O=k+(D<<16&4294967295|D>>>16),D=R+(O^k^w)+N[2]+3299628645&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(O^(R|~k))+N[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=k+(R^(w|~O))+N[7]+1126891415&4294967295,k=w+(D<<10&4294967295|D>>>22),D=O+(w^(k|~R))+N[14]+2878612391&4294967295,O=k+(D<<15&4294967295|D>>>17),D=R+(k^(O|~w))+N[5]+4237533241&4294967295,R=O+(D<<21&4294967295|D>>>11),D=w+(O^(R|~k))+N[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=k+(R^(w|~O))+N[3]+2399980690&4294967295,k=w+(D<<10&4294967295|D>>>22),D=O+(w^(k|~R))+N[10]+4293915773&4294967295,O=k+(D<<15&4294967295|D>>>17),D=R+(k^(O|~w))+N[1]+2240044497&4294967295,R=O+(D<<21&4294967295|D>>>11),D=w+(O^(R|~k))+N[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=k+(R^(w|~O))+N[15]+4264355552&4294967295,k=w+(D<<10&4294967295|D>>>22),D=O+(w^(k|~R))+N[6]+2734768916&4294967295,O=k+(D<<15&4294967295|D>>>17),D=R+(k^(O|~w))+N[13]+1309151649&4294967295,R=O+(D<<21&4294967295|D>>>11),D=w+(O^(R|~k))+N[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=k+(R^(w|~O))+N[11]+3174756917&4294967295,k=w+(D<<10&4294967295|D>>>22),D=O+(w^(k|~R))+N[2]+718787259&4294967295,O=k+(D<<15&4294967295|D>>>17),D=R+(k^(O|~w))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+k&4294967295}s.prototype.v=function(I,w){w===void 0&&(w=I.length);const R=w-this.blockSize,N=this.C;let O=this.h,k=0;for(;k<w;){if(O==0)for(;k<=R;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<w;)if(N[O++]=I.charCodeAt(k++),O==this.blockSize){o(this,N),O=0;break}}else for(;k<w;)if(N[O++]=I[k++],O==this.blockSize){o(this,N),O=0;break}}this.h=O,this.o+=w},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,R=0;R<4;++R)for(let N=0;N<32;N+=8)I[w++]=this.g[R]>>>N&255;return I};function u(I,w){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function f(I,w){this.h=w;const R=[];let N=!0;for(let O=I.length-1;O>=0;O--){const k=I[O]|0;N&&k==w||(R[O]=k,N=!1)}this.g=R}var m={};function p(I){return-128<=I&&I<128?u(I,function(w){return new f([w|0],w<0?-1:0)}):new f([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return G(g(-I));const w=[];let R=1;for(let N=0;I>=R;N++)w[N]=I/R|0,R*=4294967296;return new f(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return G(E(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let N=b;for(let k=0;k<I.length;k+=8){var O=Math.min(8,I.length-k);const D=parseInt(I.substring(k,k+O),w);O<8?(O=g(Math.pow(w,O)),N=N.j(O).add(g(D))):(N=N.j(R),N=N.add(g(D)))}return N}var b=p(0),C=p(1),U=p(16777216);r=f.prototype,r.m=function(){if(F(this))return-G(this).m();let I=0,w=1;for(let R=0;R<this.g.length;R++){const N=this.i(R);I+=(N>=0?N:4294967296+N)*w,w*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(j(this))return"0";if(F(this))return"-"+G(this).toString(I);const w=g(Math.pow(I,6));var R=this;let N="";for(;;){const O=de(R,w).g;R=X(R,O.j(w));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=O,j(R))return k+N;for(;k.length<6;)k="0"+k;N=k+N}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function j(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function F(I){return I.h==-1}r.l=function(I){return I=X(this,I),F(I)?-1:j(I)?0:1};function G(I){const w=I.g.length,R=[];for(let N=0;N<w;N++)R[N]=~I.g[N];return new f(R,~I.h).add(C)}r.abs=function(){return F(this)?G(this):this},r.add=function(I){const w=Math.max(this.g.length,I.g.length),R=[];let N=0;for(let O=0;O<=w;O++){let k=N+(this.i(O)&65535)+(I.i(O)&65535),D=(k>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);N=D>>>16,k&=65535,D&=65535,R[O]=D<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function X(I,w){return I.add(G(w))}r.j=function(I){if(j(this)||j(I))return b;if(F(this))return F(I)?G(this).j(G(I)):G(G(this).j(I));if(F(I))return G(this.j(G(I)));if(this.l(U)<0&&I.l(U)<0)return g(this.m()*I.m());const w=this.g.length+I.g.length,R=[];for(var N=0;N<2*w;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(let O=0;O<I.g.length;O++){const k=this.i(N)>>>16,D=this.i(N)&65535,ke=I.i(O)>>>16,at=I.i(O)&65535;R[2*N+2*O]+=D*at,Z(R,2*N+2*O),R[2*N+2*O+1]+=k*at,Z(R,2*N+2*O+1),R[2*N+2*O+1]+=D*ke,Z(R,2*N+2*O+1),R[2*N+2*O+2]+=k*ke,Z(R,2*N+2*O+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new f(R,0)};function Z(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function re(I,w){this.g=I,this.h=w}function de(I,w){if(j(w))throw Error("division by zero");if(j(I))return new re(b,b);if(F(I))return w=de(G(I),w),new re(G(w.g),G(w.h));if(F(w))return w=de(I,G(w)),new re(G(w.g),w.h);if(I.g.length>30){if(F(I)||F(w))throw Error("slowDivide_ only works with positive integers.");for(var R=C,N=w;N.l(I)<=0;)R=pe(R),N=pe(N);var O=me(R,1),k=me(N,1);for(N=me(N,2),R=me(R,2);!j(N);){var D=k.add(N);D.l(I)<=0&&(O=O.add(R),k=D),N=me(N,1),R=me(R,1)}return w=X(I,O.j(w)),new re(O,w)}for(O=b;I.l(w)>=0;){for(R=Math.max(1,Math.floor(I.m()/w.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),k=g(R),D=k.j(w);F(D)||D.l(I)>0;)R-=N,k=g(R),D=k.j(w);j(k)&&(k=C),O=O.add(k),I=X(I,D)}return new re(O,I)}r.B=function(I){return de(this,I).h},r.and=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let N=0;N<w;N++)R[N]=this.i(N)&I.i(N);return new f(R,this.h&I.h)},r.or=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let N=0;N<w;N++)R[N]=this.i(N)|I.i(N);return new f(R,this.h|I.h)},r.xor=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let N=0;N<w;N++)R[N]=this.i(N)^I.i(N);return new f(R,this.h^I.h)};function pe(I){const w=I.g.length+1,R=[];for(let N=0;N<w;N++)R[N]=I.i(N)<<1|I.i(N-1)>>>31;return new f(R,I.h)}function me(I,w){const R=w>>5;w%=32;const N=I.g.length-R,O=[];for(let k=0;k<N;k++)O[k]=w>0?I.i(k+R)>>>w|I.i(k+R+1)<<32-w:I.i(k+R);return new f(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,nT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,fs=f}).apply(typeof Wv<"u"?Wv:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var iT,Ll,rT,ih,xm,sT,aT,oT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break e;v=v[z]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,z,K){for(var oe=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)oe[Ne-2]=arguments[Ne];return y.prototype[z].apply(A,oe)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function U(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function j(c,y){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const K=z.length||0;c.length=v+K;for(let oe=0;oe<K;oe++)c[v+oe]=z[oe]}else c.push(z)}}class F{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(c){f.setTimeout(()=>{throw c},0)}function X(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Z{constructor(){this.h=this.g=null}add(y,v){const A=re.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new F(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,me=!1,I=new Z,w=()=>{const c=Promise.resolve(void 0);pe=()=>{c.then(R)}};function R(){for(var c;c=X();){try{c.h.call(c.g)}catch(v){G(v)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}me=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function ke(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(ke,O),ke.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var at="closure_listenable_"+(Math.random()*1e6|0),Q=0;function se(c,y,v,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=z,this.key=++Q,this.da=this.fa=!1}function _e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function Ye(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,y){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let K=0;K<W.length;K++)v=W[K],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,v,A,z){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const oe=Ie(c,y,A,z);return oe>-1?(y=c[oe],v||(y.fa=!1)):(y=new se(y,this.src,K,!!A,z),y.fa=v,c.push(y)),y};function we(c,y){const v=y.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,y,void 0),K;(K=z>=0)&&Array.prototype.splice.call(A,z,1),K&&(_e(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ie(c,y,v,A){for(let z=0;z<c.length;++z){const K=c[z];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==A)return z}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Tt={};function ne(c,y,v,A,z){if(Array.isArray(y)){for(let K=0;K<y.length;K++)ne(c,y[K],v,A,z);return null}return v=We(v),c&&c[at]?c.J(y,v,m(A)?!!A.capture:!1,z):ae(c,y,v,!1,A,z)}function ae(c,y,v,A,z,K){if(!y)throw Error("Invalid event type");const oe=m(z)?!!z.capture:!!z;let Ne=dt(c);if(Ne||(c[Le]=Ne=new ue(c)),v=Ne.add(y,v,A,oe,K),v.proxy)return v;if(A=ye(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(z=oe),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(Ge(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ye(){function c(v){return y.call(c.src,c.listener,v)}const y=Xe;return c}function Ce(c,y,v,A,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ce(c,y[K],v,A,z);else A=m(A)?!!A.capture:!!A,v=We(v),c&&c[at]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],v=Ie(y,v,A,z),v>-1&&(_e(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=dt(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ie(y,v,A,z)),(v=c>-1?y[c]:null)&&Te(v))}function Te(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[at])we(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(Ge(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=dt(y))?(we(v,c),v.h==0&&(v.src=null,y[Le]=null)):_e(c)}}}function Ge(c){return c in Tt?Tt[c]:Tt[c]="on"+c}function Xe(c,y){if(c.da)c=!0;else{y=new ke(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&Te(c),c=v.call(A,y)}return c}function dt(c){return c=c[Le],c instanceof ue?c:null}var Re="__closure_events_fn_"+(Math.random()*1e9>>>0);function We(c){return typeof c=="function"?c:(c[Re]||(c[Re]=function(y){return c.handleEvent(y)}),c[Re])}function Qe(){N.call(this),this.i=new ue(this),this.M=this,this.G=null}b(Qe,N),Qe.prototype[at]=!0,Qe.prototype.removeEventListener=function(c,y,v,A){Ce(this,c,y,v,A)};function xt(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var z=y;y=new O(A,c),le(y,z)}z=!0;let K,oe;if(v)for(oe=v.length-1;oe>=0;oe--)K=y.g=v[oe],z=Ar(K,A,!0,y)&&z;if(K=y.g=c,z=Ar(K,A,!0,y)&&z,z=Ar(K,A,!1,y)&&z,v)for(oe=0;oe<v.length;oe++)K=y.g=v[oe],z=Ar(K,A,!1,y)&&z}Qe.prototype.N=function(){if(Qe.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)_e(v[A]);delete c.g[y],c.h--}}this.G=null},Qe.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},Qe.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Ar(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let K=0;K<y.length;++K){const oe=y[K];if(oe&&!oe.da&&oe.capture==v){const Ne=oe.listener,wt=oe.ha||oe.src;oe.fa&&we(c.i,oe),z=Ne.call(wt,A)!==!1&&z}}return z&&!A.defaultPrevented}function rf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function _u(c){c.g=rf(()=>{c.g=null,c.i&&(c.i=!1,_u(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class hn extends N{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(c){N.call(this),this.h=c,this.g={}}b(bs,N);var xo=[];function Oo(c){je(c.g,function(y,v){this.g.hasOwnProperty(v)&&Te(y)},c),c.g={}}bs.prototype.N=function(){bs.Z.N.call(this),Oo(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wr=f.JSON.stringify,sf=f.JSON.parse,vu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Eu(){}function Tu(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){O.call(this,"d")}b($t,O);function Vn(){O.call(this,"c")}b(Vn,O);var At={},bu=null;function fa(){return bu=bu||new Qe}At.Ia="serverreachability";function Su(c){O.call(this,At.Ia,c)}b(Su,O);function gi(c){const y=fa();xt(y,new Su(y))}At.STAT_EVENT="statevent";function Ss(c,y){O.call(this,At.STAT_EVENT,c),this.stat=y}b(Ss,O);function Ot(c){const y=fa();xt(y,new Ss(y,c))}At.Ja="timingevent";function yi(c,y){O.call(this,At.Ja,c),this.size=y}b(yi,O);function _i(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function af(c,y,v,A,z,K){c.info(function(){if(c.g)if(K){var oe="",Ne=K.split("&");for(let et=0;et<Ne.length;et++){var wt=Ne[et].split("=");if(wt.length>1){const yt=wt[0];wt=wt[1];const Un=yt.split("_");oe=Un.length>=2&&Un[1]=="type"?oe+(yt+"="+wt+"&"):oe+(yt+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+v+`
`+oe})}function Au(c,y,v,A,z,K,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+v+`
`+K+" "+oe})}function vi(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+of(c,v)+(A?" "+A:"")})}function As(c,y){c.info(function(){return"TIMEOUT: "+y})}Jn.prototype.info=function(){};function of(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var v=K[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let oe=1;oe<A.length;oe++)A[oe]=""}}}}return wr(K)}catch{return y}}var ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},No={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function Rs(){}b(Rs,Eu),Rs.prototype.g=function(){return new XMLHttpRequest},Mo=new Rs;function Qi(c){return encodeURIComponent(String(c))}function wu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Zn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new bs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Nt={},Qt={};function Ei(c,y,v){c.M=1,c.A=Cs(Vt(y)),c.u=v,c.R=!0,da(c,null)}function da(c,y){c.F=Date.now(),Ti(c),c.B=Vt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ya(v.i,"t",A),c.C=0,v=c.j.L,c.h=new ei,c.g=zu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new hn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(xo[0]=z.toString()),z=xo);for(let K=0;K<z.length;K++){const oe=ne(v,z[K],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),gi(),af(c.i,c.v,c.B,c.l,c.S,c.u)}Zn.prototype.ba=function(c){c=c.target;const y=this.O;y&&ii(c)==3?y.j():this.Y(c)},Zn.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=ii(this.g),wt=this.g.ya(),et=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Ne!=4||wt==7||(wt==8||et<=0?gi(3):gi(2)),bi(this);var y=this.g.ca();this.X=y;var v=lf(this);if(this.o=y==200,Au(this.i,this.v,this.B,this.l,this.S,Ne,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var K=A;break t}}K=null}if(c=K)vi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,c);else{this.o=!1,this.m=3,Ot(12),An(this),kn(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<v.length;)if(yt=Cu(this,v),yt==Qt){Ne==4&&(this.m=4,Ot(14),c=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Nt){this.m=4,Ot(15),vi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else vi(this.i,this.l,yt,null),Si(this,yt);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,Ot(16),c=!1),this.o=this.o&&c,!c)vi(this.i,this.l,v,"[Invalid Chunked Response]"),An(this),kn(this);else if(v.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(oe),oe.P=!0,Ot(11))}}else vi(this.i,this.l,v,null),Si(this,v);Ne==4&&An(this),this.o&&!this.K&&(Ne==4?Lu(this.j,this):(this.o=!1,Ti(this)))}else Yi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),An(this),kn(this)}}}catch{}};function lf(c){if(!Ru(c))return c.g.la();const y=Wt(c.g);if(y==="")return"";let v="";const A=y.length,z=ii(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return An(c),kn(c),"";c.h.i=new f.TextDecoder}for(let K=0;K<A;K++)c.h.h=!0,v+=c.h.i.decode(y[K],{stream:!(z&&K==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Ru(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Cu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Qt:(v=Number(y.substring(v,A)),isNaN(v)?Nt:(A+=1,A+v>y.length?Qt:(y=y.slice(A,A+v),c.C=A+v,y)))}Zn.prototype.cancel=function(){this.K=!0,An(this)};function Ti(c){c.T=Date.now()+c.H,ma(c,c.H)}function ma(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=_i(g(c.aa,c),y)}function bi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(As(this.i,this.B),this.M!=2&&(gi(),Ot(17)),An(this),this.m=2,kn(this)):ma(this,this.T-c)};function kn(c){c.j.I==0||c.K||Lu(c.j,c)}function An(c){bi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Oo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Si(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||wi(v.h,c))){if(!c.L&&wi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ba(v),Mr(v);else break e;Vs(v),Ot(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=_i(g(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else Oi(v,11)}else if((c.L||v.g==c)&&ba(v),!D(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let et=z[y];const yt=et[0];if(!(yt<=v.K))if(v.K=yt,et=et[1],v.I==2)if(et[0]=="c"){v.M=et[1],v.ba=et[2];const Un=et[3];Un!=null&&(v.ka=Un,v.j.info("VER="+v.ka));const Ni=et[4];Ni!=null&&(v.za=Ni,v.j.info("SVER="+v.za));const ri=et[5];ri!=null&&typeof ri=="number"&&ri>0&&(A=1.5*ri,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const si=c.g;if(si){const ks=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var K=A.h;K.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Lo(K,K.h),K.h=null))}if(A.G){const Sa=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(A.wa=Sa,it(A.J,A.G,Sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var oe=c;if(A.na=ju(A,A.L?A.ba:null,A.W),oe.L){Po(A.h,oe);var Ne=oe,wt=A.O;wt&&(Ne.H=wt),Ne.D&&(bi(Ne),Ti(Ne)),A.g=oe}else Vu(A);v.i.length>0&&xi(v)}else et[0]!="stop"&&et[0]!="close"||Oi(v,7);else v.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Oi(v,7):Qo(v):et[0]!="noop"&&v.l&&v.l.qa(et),v.A=0)}}gi(4)}catch{}}var Mt=class{constructor(c,y){this.g=c,this.map=y}};function Vo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ai(c){return c.h?1:c.g?c.g.size:0}function wi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Lo(c,y){c.g?c.g.add(y):c.h=y}function Po(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Vo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return U(c.i)}var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let z,K=null;A>=0?(z=c[v].substring(0,A),K=c[v].substring(A+1)):z=c[v],y(z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function wn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof wn?(this.l=c.l,Kt(this,c.j),this.o=c.o,this.g=c.g,Rr(this,c.u),this.h=c.h,jo(this,Nu(c.i)),this.m=c.m):c&&(y=String(c).match(Iu))?(this.l=!1,Kt(this,y[1]||"",!0),this.o=Ri(y[2]||""),this.g=Ri(y[3]||"",!0),Rr(this,y[4]),this.h=Ri(y[5]||"",!0),jo(this,y[6]||"",!0),this.m=Ri(y[7]||"")):(this.l=!1,this.i=new Ir(null,this.l))}wn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Is(y,ga,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Is(y,ga,!0),"@"),c.push(Qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Is(v,v.charAt(0)=="/"?zo:Du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Is(v,xu)),c.join("")},wn.prototype.resolve=function(c){const y=Vt(this);let v=!!c.j;v?Kt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)Rr(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=y.h.lastIndexOf("/");z!=-1&&(A=y.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const K=[];for(let oe=0;oe<z.length;){const Ne=z[oe++];Ne=="."?A&&oe==z.length&&K.push(""):Ne==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&oe==z.length&&K.push("")):(K.push(Ne),A=!0)}A=K.join("/")}else A=z}return v?y.h=A:v=c.i.toString()!=="",v?jo(y,Nu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Vt(c){return new wn(c)}function Kt(c,y,v){c.j=v?Ri(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Rr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function jo(c,y,v){y instanceof Ir?(c.i=y,_a(c.i,c.l)):(v||(y=Is(y,Cr)),c.i=new Ir(y,c.l))}function it(c,y,v){c.i.set(y,v)}function Cs(c){return it(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ri(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Is(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,pn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ga=/[#\/\?@]/g,Du=/[#\?:]/g,zo=/[#\?]/g,Cr=/[#\?@]/g,xu=/#/g;function Ir(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function gn(c){c.g||(c.g=new Map,c.h=0,c.i&&pa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Ir.prototype,r.add=function(c,y){gn(this),this.i=null,c=Dr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ou(c,y){gn(c),y=Dr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Bo(c,y){return gn(c),y=Dr(c,y),c.g.has(y)}r.forEach=function(c,y){gn(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(y,z,A,this)},this)},this)};function qo(c,y){gn(c);let v=[];if(typeof y=="string")Bo(c,y)&&(v=v.concat(c.g.get(Dr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return gn(this),this.i=null,c=Dr(this,c),Bo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=qo(this,c),c.length>0?String(c[0]):y):y};function ya(c,y,v){Ou(c,y),v.length>0&&(c.i=null,c.g.set(Dr(c,y),U(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const z=Qi(v);v=qo(this,v);for(let K=0;K<v.length;K++){let oe=z;v[K]!==""&&(oe+="="+Qi(v[K])),c.push(oe)}}return this.i=c.join("&")};function Nu(c){const y=new Ir;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Dr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function _a(c,y){y&&!c.j&&(gn(c),c.i=null,c.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(Ou(this,A),ya(this,z,v))},c)),c.j=y}function ti(c,y){const v=new Jn;if(f.Image){const A=new Image;A.onload=E(Ln,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(Ln,v,"TestLoadImage: error",!1,y,A),A.onabort=E(Ln,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(Ln,v,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Ho(c,y){const v=new Jn,A=new AbortController,z=setTimeout(()=>{A.abort(),Ln(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(z),K.ok?Ln(v,"TestPingServer: ok",!0,y):Ln(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Ln(v,"TestPingServer: error",!1,y)})}function Ln(c,y,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function xr(){this.g=new vu}function Ci(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Ci,Eu),Ci.prototype.g=function(){return new Ds(this.i,this.h)};function Ds(c,y){Qe.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ds,Qe),r=Ds.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ni(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;va(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function va(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Or(this):ni(this),this.readyState==3&&va(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Or(this))},r.Na=function(c){this.g&&(this.response=c,Or(this))},r.ga=function(){this.g&&Or(this)};function Or(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ni(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Pn(c){let y="";return je(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function xs(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Pn(v),typeof c=="string"?v!=null&&Qi(v):it(c,y,v))}function ot(c){Qe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ot,Qe);var Ii=/^https?$/i,Fo=["POST","PUT"];r=ot.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=C(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Os(this,K);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())v.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Fo,y,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of v)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Os(this,K)}};function Os(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Go(c),Ki(c)}function Go(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,xt(this,"complete"),xt(this,"abort"),Ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),ot.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ns(this):this.Xa())},r.Xa=function(){Ns(this)};function Ns(c){if(c.h&&typeof u<"u"){if(c.v&&ii(c)==4)setTimeout(c.Ca.bind(c),0);else if(xt(c,"readystatechange"),ii(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=K===0){let oe=String(c.D).match(Iu)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),A=!Ii.test(oe?oe.toLowerCase():"")}v=A}if(v)xt(c,"complete"),xt(c,"success");else{c.o=6;try{var z=ii(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Go(c)}}finally{Ki(c)}}}}function Ki(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||xt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ii(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),sf(y)}};function Wt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(c){const y={};c=(c.g&&ii(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(D(c[A]))continue;var v=wu(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[z]||[];y[z]=K,K.push(v)}Ye(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Nr(c){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,c),this.Za=Di("retryDelaySeedMs",1e4,c),this.Ta=Di("forwardChannelMaxRetries",2,c),this.va=Di("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(c&&c.concurrentRequestLimit),this.Ba=new xr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Nr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){Ot(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=ju(this,null,this.W),xi(this)};function Qo(c){if(Ea(c),c.I==3){var y=c.V++,v=Vt(c.J);if(it(v,"SID",c.M),it(v,"RID",y),it(v,"TYPE","terminate"),Ms(c,v),y=new Zn(c,c.j,y),y.M=2,y.A=Cs(Vt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=zu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ti(y)}Uu(c)}function Mr(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function Ea(c){Mr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ba(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function xi(c){if(!ko(c.h)&&!c.m){c.m=!0;var y=c.Ea;pe||w(),me||(pe(),me=!0),I.add(y,c),c.D=0}}function Ta(c,y){return Ai(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=_i(g(c.Ea,c,y),Pu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Zn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=V(K),le(K,this.U)):K=this.U),this.u!==null||this.R||(z.J=K,K=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Mu(this,z,y),v=Vt(this.J),it(v,"RID",c),it(v,"CVER",22),this.G&&it(v,"X-HTTP-Session-Id",this.G),Ms(this,v),K&&(this.R?y="headers="+Qi(Pn(K))+"&"+y:this.u&&xs(v,this.u,K)),Lo(this.h,z),this.Ra&&it(v,"TYPE","init"),this.S?(it(v,"$req",y),it(v,"SID","null"),z.U=!0,Ei(z,v,null)):Ei(z,v,y),this.I=2}}else this.I==3&&(c?Ko(this,c):this.i.length==0||ko(this.h)||Ko(this))};function Ko(c,y){var v;y?v=y.l:v=c.V++;const A=Vt(c.J);it(A,"SID",c.M),it(A,"RID",v),it(A,"AID",c.K),Ms(c,A),c.u&&c.o&&xs(A,c.u,c.o),v=new Zn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Mu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Lo(c.h,v),Ei(v,A,y)}function Ms(c,y){c.H&&je(c.H,function(v,A){it(y,A,v)}),c.l&&je({},function(v,A){it(y,A,v)})}function Mu(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let Ne=-1;for(;;){const wt=["count="+v];Ne==-1?v>0?(Ne=z[0].g,wt.push("ofs="+Ne)):Ne=0:wt.push("ofs="+Ne);let et=!0;for(let yt=0;yt<v;yt++){var K=z[yt].g;const Un=z[yt].map;if(K-=Ne,K<0)Ne=Math.max(0,z[yt].g-100),et=!1;else try{K="req"+K+"_"||"";try{var oe=Un instanceof Map?Un:Object.entries(Un);for(const[Ni,ri]of oe){let si=ri;m(ri)&&(si=wr(ri)),wt.push(K+Ni+"="+encodeURIComponent(si))}}catch(Ni){throw wt.push(K+"type="+encodeURIComponent("_badmap")),Ni}}catch{A&&A(Un)}}if(et){oe=wt.join("&");break e}}oe=void 0}return c=c.i.splice(0,v),y.G=c,oe}function Vu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;pe||w(),me||(pe(),me=!0),I.add(y,c),c.A=0}}function Vs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=_i(g(c.Da,c),Pu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,ku(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=_i(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),Mr(this),ku(this))};function Yo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function ku(c){c.g=new Zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Vt(c.na);it(y,"RID","rpc"),it(y,"SID",c.M),it(y,"AID",c.K),it(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&it(y,"TO",c.ia),it(y,"TYPE","xmlhttp"),Ms(c,y),c.u&&c.o&&xs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Cs(Vt(y)),v.u=null,v.R=!0,da(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Mr(this),Vs(this),Ot(19))};function ba(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Lu(c,y){var v=null;if(c.g==y){ba(c),Yo(c),c.g=null;var A=2}else if(wi(c.h,y))v=y.G,Po(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;A=fa(),xt(A,new yi(A,v)),xi(c)}else Vu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(A==1&&Ta(c,y)||A==2&&Vs(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function Pu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Oi(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const z=!A;A=new wn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Kt(A,"https"),Cs(A),z?ti(A.toString(),v):Ho(A.toString(),v)}else Ot(2);c.I=0,c.l&&c.l.pa(y),Uu(c),Ea(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Uu(c){if(c.I=0,c.ja=[],c.l){const y=Uo(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ja,y),j(c.ja,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.oa()}}function ju(c,y,v){var A=v instanceof wn?Vt(v):new wn(v);if(A.g!="")y&&(A.g=y+"."+A.g),Rr(A,A.u);else{var z=f.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const K=new wn(null);A&&Kt(K,A),y&&(K.g=y),z&&Rr(K,z),v&&(K.h=v),A=K}return v=c.G,y=c.wa,v&&y&&it(A,v,y),it(A,"VER",c.ka),Ms(c,A),A}function zu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new ot(new Ci({ab:v})):new ot(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Vr(){}Vr.prototype.g=function(c,y){return new fn(c,y)};function fn(c,y){Qe.call(this),this.g=new Nr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!D(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Xi(this)}b(fn,Qe),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Qo(this.g)},fn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=wr(c),c=v);y.i.push(new Mt(y.Ya++,c)),y.I==3&&xi(y)},fn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,fn.Z.N.call(this)};function qu(c){$t.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(qu,$t);function Hu(){Vn.call(this),this.status=1}b(Hu,Vn);function Xi(c){this.g=c}b(Xi,Bu),Xi.prototype.ra=function(){xt(this.g,"a")},Xi.prototype.qa=function(c){xt(this.g,new qu(c))},Xi.prototype.pa=function(c){xt(this.g,new Hu)},Xi.prototype.oa=function(){xt(this.g,"b")},Vr.prototype.createWebChannel=Vr.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,oT=function(){return new Vr},aT=function(){return fa()},sT=At,xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,ih=ws,No.COMPLETE="complete",rT=No,Tu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Qe.prototype.listen=Qe.prototype.J,Ll=Tu,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,iT=ot}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",Zv="4.9.3";class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let So="12.7.0";const na=new cp("@firebase/firestore");function Za(){return na.logLevel}function he(r,...e){if(na.logLevel<=qe.DEBUG){const n=e.map(dp);na.debug(`Firestore (${So}): ${r}`,...n)}}function Er(r,...e){if(na.logLevel<=qe.ERROR){const n=e.map(dp);na.error(`Firestore (${So}): ${r}`,...n)}}function co(r,...e){if(na.logLevel<=qe.WARN){const n=e.map(dp);na.warn(`Firestore (${So}): ${r}`,...n)}}function dp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ae(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,lT(r,s,n)}function lT(r,e,n){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Er(s),new Error(s)}function nt(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||lT(e,o,s)}function Oe(r,e){return r}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class uT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ln.UNAUTHENTICATED)))}shutdown(){}}class RC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class CC{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new mr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new mr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(nt(typeof s.accessToken=="string",31837,{l:s}),new uT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class IC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new IC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function OC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class mp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=OC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function He(r,e){return r<e?-1:r>e?1:0}function Om(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return gm(o)===gm(u)?He(o,u):gm(o)?1:-1}return He(r.length,e.length)}const NC=55296,MC=57343;function gm(r){const e=r.charCodeAt(0);return e>=NC&&e<=MC}function ho(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const tE="__name__";class Pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Pi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return He(e.length,n.length)}static compareSegments(e,n){const s=Pi.isNumericId(e),o=Pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(n)):Om(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fs.fromString(e.substring(4,e.length-2))}}class ft extends Pi{construct(e,n,s){return new ft(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const VC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Pi{construct(e,n,s){return new rn(e,n,s)}static isValidIdentifier(e){return VC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tE}static keyField(){return new rn([tE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ft.fromString(e))}static fromName(e){return new Ee(ft.fromString(e).popFirst(5))}static empty(){return new Ee(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ft(e.slice()))}}function cT(r,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function kC(r,e,n,s){if(e===!0&&s===!0)throw new ce(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function nE(r){if(!Ee.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function iE(r){if(Ee.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function hT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ph(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae(12329,{type:typeof r})}function ia(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ph(r);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Bt(r,e){const n={typeString:r};return e&&(n.value=e),n}function ou(r,e){if(!hT(r))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}const rE=-62135596800,sE=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*sE);return new gt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rE)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sE}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Bt("string",gt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new gt(0,0))}static max(){return new De(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xl=-1;function LC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=De.fromTimestamp(s===1e9?new gt(n+1,0):new gt(n,s));return new ps(o,Ee.empty(),e)}function PC(r){return new ps(r.readTime,r.key,Xl)}class ps{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ps(De.min(),Ee.empty(),Xl)}static max(){return new ps(De.max(),Ee.empty(),Xl)}}function UC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(r.documentKey,e.documentKey),n!==0?n:He(r.largestBatchId,e.largestBatchId))}const jC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ao(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==jC)throw r;he("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function BC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(r){return r.name==="IndexedDbTransactionError"}class Uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Uh.ce=-1;const pp=-1;function jh(r){return r==null}function gh(r){return r===0&&1/r==-1/0}function qC(r){return typeof r=="number"&&Number.isInteger(r)&&!gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const fT="";function HC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=aE(e)),e=FC(r.get(n),e);return aE(e)}function FC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case fT:n+="";break;default:n+=u}}return n}function aE(r){return r+fT+""}function oE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function aa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function dT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Et{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??nn.RED,this.left=o??nn.EMPTY,this.right=u??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new nn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lE(this.data.getIterator())}getIteratorFrom(e){return new lE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class lE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ci{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new ci([])}unionWith(e){let n=new Gt(rn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class mT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new mT("Invalid base64 string: "+u):u}})(e);return new sn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const GC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(r){if(nt(!!r,39018),typeof r=="string"){let e=0;const n=GC.exec(r);if(nt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dt(r.seconds),nanos:Dt(r.nanos)}}function Dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ys(r){return typeof r=="string"?sn.fromBase64String(r):sn.fromUint8Array(r)}const pT="server_timestamp",gT="__type__",yT="__previous_value__",_T="__local_write_time__";function gp(r){return(r?.mapValue?.fields||{})[gT]?.stringValue===pT}function zh(r){const e=r.mapValue.fields[yT];return gp(e)?zh(e):e}function $l(r){const e=gs(r.mapValue.fields[_T].timestampValue);return new gt(e.seconds,e.nanos)}class QC{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const yh="(default)";class Wl{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}const vT="__type__",KC="__max__",$c={mapValue:{}},ET="__vector__",_h="value";function _s(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gp(r)?4:XC(r)?9007199254740991:YC(r)?10:11:Ae(28295,{value:r})}function Gi(r,e){if(r===e)return!0;const n=_s(r);if(n!==_s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $l(r).isEqual($l(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=gs(o.timestampValue),m=gs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ys(o.bytesValue).isEqual(ys(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Dt(o.geoPointValue.latitude)===Dt(u.geoPointValue.latitude)&&Dt(o.geoPointValue.longitude)===Dt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Dt(o.integerValue)===Dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Dt(o.doubleValue),m=Dt(u.doubleValue);return f===m?gh(f)===gh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return ho(r.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(oE(f)!==oE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Gi(f[p],m[p])))return!1;return!0})(r,e);default:return Ae(52216,{left:r})}}function Jl(r,e){return(r.values||[]).find((n=>Gi(n,e)))!==void 0}function fo(r,e){if(r===e)return 0;const n=_s(r),s=_s(e);if(n!==s)return He(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Dt(u.integerValue||u.doubleValue),p=Dt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return uE(r.timestampValue,e.timestampValue);case 4:return uE($l(r),$l(e));case 5:return Om(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ys(u),p=ys(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=He(m[g],p[g]);if(E!==0)return E}return He(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=He(Dt(u.latitude),Dt(f.latitude));return m!==0?m:He(Dt(u.longitude),Dt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return cE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[_h]?.arrayValue,E=p[_h]?.arrayValue,b=He(g?.values?.length||0,E?.values?.length||0);return b!==0?b:cE(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===$c.mapValue&&f===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(f===$c.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const C=Om(p[b],E[b]);if(C!==0)return C;const U=fo(m[p[b]],g[E[b]]);if(U!==0)return U}return He(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function uE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return He(r,e);const n=gs(r),s=gs(e),o=He(n.seconds,s.seconds);return o!==0?o:He(n.nanos,s.nanos)}function cE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=fo(n[o],s[o]);if(u)return u}return He(n.length,s.length)}function mo(r){return Nm(r)}function Nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=gs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ys(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ee.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Nm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Nm(n.fields[f])}`;return o+"}"})(r.mapValue):Ae(61005,{value:r})}function rh(r){switch(_s(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(r);return e?16+rh(e):16;case 5:return 2*r.stringValue.length;case 6:return ys(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+rh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return aa(s.fields,((u,f)=>{o+=u.length+rh(f)})),o})(r.mapValue);default:throw Ae(13486,{value:r})}}function hE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Mm(r){return!!r&&"integerValue"in r}function yp(r){return!!r&&"arrayValue"in r}function fE(r){return!!r&&"nullValue"in r}function dE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function sh(r){return!!r&&"mapValue"in r}function YC(r){return(r?.mapValue?.fields||{})[vT]?.stringValue===ET}function Bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return aa(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Bl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(r.arrayValue.values[n]);return e}return{...r}}function XC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===KC}class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=rn.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Bl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){aa(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Yn(Bl(this.value))}}function TT(r){const e=[];return aa(r.fields,((n,s)=>{const o=new rn([n]);if(sh(s)){const u=TT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new ci(e)}class un{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new un(e,0,De.min(),De.min(),De.min(),Yn.empty(),0)}static newFoundDocument(e,n,s,o){return new un(e,1,n,De.min(),s,o,0)}static newNoDocument(e,n){return new un(e,2,n,De.min(),De.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,De.min(),De.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vh{constructor(e,n){this.position=e,this.inclusive=n}}function mE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(f.referenceValue),n.key):s=fo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function pE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Gi(r.position[n],e.position[n]))return!1;return!0}class Eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function $C(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class bT{}class zt extends bT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new JC(e,n,s):n==="array-contains"?new tI(e,s):n==="in"?new nI(e,s):n==="not-in"?new iI(e,s):n==="array-contains-any"?new rI(e,s):new zt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new ZC(e,s):new eI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&_s(this.value)===_s(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends bT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fi(e,n)}matches(e){return ST(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ST(r){return r.op==="and"}function AT(r){return WC(r)&&ST(r)}function WC(r){for(const e of r.filters)if(e instanceof fi)return!1;return!0}function Vm(r){if(r instanceof zt)return r.field.canonicalString()+r.op.toString()+mo(r.value);if(AT(r))return r.filters.map((e=>Vm(e))).join(",");{const e=r.filters.map((n=>Vm(n))).join(",");return`${r.op}(${e})`}}function wT(r,e){return r instanceof zt?(function(s,o){return o instanceof zt&&s.op===o.op&&s.field.isEqual(o.field)&&Gi(s.value,o.value)})(r,e):r instanceof fi?(function(s,o){return o instanceof fi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&wT(f,o.filters[m])),!0):!1})(r,e):void Ae(19439)}function RT(r){return r instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`})(r):r instanceof fi?(function(n){return n.op.toString()+" {"+n.getFilters().map(RT).join(" ,")+"}"})(r):"Filter"}class JC extends zt{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZC extends zt{constructor(e,n){super(e,"in",n),this.keys=CT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class eI extends zt{constructor(e,n){super(e,"not-in",n),this.keys=CT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function CT(r,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class tI extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yp(n)&&Jl(n.arrayValue,this.value)}}class nI extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class iI extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class rI extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Jl(this.value.arrayValue,s)))}}class sI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function gE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new sI(r,e,n,s,o,u,f)}function _p(r){const e=Oe(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Vm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>mo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>mo(s))).join(",")),e.Te=n}return e.Te}function vp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!$C(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!wT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!pE(r.startAt,e.startAt)&&pE(r.endAt,e.endAt)}function km(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class lu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aI(r,e,n,s,o,u,f,m){return new lu(r,e,n,s,o,u,f,m)}function Ep(r){return new lu(r)}function yE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function IT(r){return r.collectionGroup!==null}function ql(r){const e=Oe(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Gt(rn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Eh(u,s))})),n.has(rn.keyField().canonicalString())||e.Ie.push(new Eh(rn.keyField(),s))}return e.Ie}function Ui(r){const e=Oe(r);return e.Ee||(e.Ee=oI(e,ql(r))),e.Ee}function oI(r,e){if(r.limitType==="F")return gE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Eh(o.field,u)}));const n=r.endAt?new vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new vh(r.startAt.position,r.startAt.inclusive):null;return gE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Lm(r,e){const n=r.filters.concat([e]);return new lu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Pm(r,e,n){return new lu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Bh(r,e){return vp(Ui(r),Ui(e))&&r.limitType===e.limitType}function DT(r){return`${_p(Ui(r))}|lt:${r.limitType}`}function eo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>RT(o))).join(", ")}]`),jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>mo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>mo(o))).join(",")),`Target(${s})`})(Ui(r))}; limitType=${r.limitType})`}function qh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=mE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,ql(s),o)||s.endAt&&!(function(f,m,p){const g=mE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,ql(s),o))})(r,e)}function lI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function xT(r){return(e,n)=>{let s=!1;for(const o of ql(r)){const u=uI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function uI(r,e,n){const s=r.field.isKeyField()?Ee.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?fo(p,g):Ae(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:r.dir})}}class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return dT(this.inner)}size(){return this.innerSize}}const cI=new Et(Ee.comparator);function Tr(){return cI}const OT=new Et(Ee.comparator);function Pl(...r){let e=OT;for(const n of r)e=e.insert(n.key,n);return e}function NT(r){let e=OT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Js(){return Hl()}function MT(){return Hl()}function Hl(){return new oa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const hI=new Et(Ee.comparator),fI=new Gt(Ee.comparator);function Fe(...r){let e=fI;for(const n of r)e=e.add(n);return e}const dI=new Gt(He);function mI(){return dI}function Tp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function VT(r){return{integerValue:""+r}}function pI(r,e){return qC(e)?VT(e):Tp(r,e)}class Hh{constructor(){this._=void 0}}function gI(r,e,n){return r instanceof Th?(function(o,u){const f={fields:{[gT]:{stringValue:pT},[_T]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&gp(u)&&(u=zh(u)),u&&(f.fields[yT]=u),{mapValue:f}})(n,e):r instanceof Zl?LT(r,e):r instanceof eu?PT(r,e):(function(o,u){const f=kT(o,u),m=_E(f)+_E(o.Ae);return Mm(f)&&Mm(o.Ae)?VT(m):Tp(o.serializer,m)})(r,e)}function yI(r,e,n){return r instanceof Zl?LT(r,e):r instanceof eu?PT(r,e):n}function kT(r,e){return r instanceof bh?(function(s){return Mm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Th extends Hh{}class Zl extends Hh{constructor(e){super(),this.elements=e}}function LT(r,e){const n=UT(e);for(const s of r.elements)n.some((o=>Gi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class eu extends Hh{constructor(e){super(),this.elements=e}}function PT(r,e){let n=UT(e);for(const s of r.elements)n=n.filter((o=>!Gi(o,s)));return{arrayValue:{values:n}}}class bh extends Hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function _E(r){return Dt(r.integerValue||r.doubleValue)}function UT(r){return yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function _I(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Zl&&o instanceof Zl||s instanceof eu&&o instanceof eu?ho(s.elements,o.elements,Gi):s instanceof bh&&o instanceof bh?Gi(s.Ae,o.Ae):s instanceof Th&&o instanceof Th})(r.transform,e.transform)}class vI{constructor(e,n){this.version=e,this.transformResults=n}}class pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Fh{}function jT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new BT(r.key,pr.none()):new uu(r.key,r.data,pr.none());{const n=r.data,s=Yn.empty();let o=new Gt(rn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new la(r.key,s,new ci(o.toArray()),pr.none())}}function EI(r,e,n){r instanceof uu?(function(o,u,f){const m=o.value.clone(),p=EE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof la?(function(o,u,f){if(!ah(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=EE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(zT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Fl(r,e,n,s){return r instanceof uu?(function(u,f,m,p){if(!ah(u.precondition,f))return m;const g=u.value.clone(),E=TE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof la?(function(u,f,m,p){if(!ah(u.precondition,f))return m;const g=TE(u.fieldTransforms,p,f),E=f.data;return E.setAll(zT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,f,m){return ah(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function TI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=kT(s.transform,o||null);u!=null&&(n===null&&(n=Yn.empty()),n.set(s.field,u))}return n||null}function vE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ho(s,o,((u,f)=>_I(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class uu extends Fh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class la extends Fh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function zT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function EE(r,e,n){const s=new Map;nt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,yI(f,m,n[o]))}return s}function TE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,gI(u,f,e))}return s}class BT extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bI extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&EI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=MT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=jT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(De.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,((n,s)=>vE(n,s)))&&ho(this.baseMutations,e.baseMutations,((n,s)=>vE(n,s)))}}class bp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){nt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return hI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new bp(e,n,s,o)}}class AI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wI{constructor(e,n){this.count=e,this.unchangedNames=n}}var jt,$e;function RI(r){switch(r){case te.OK:return Ae(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ae(15467,{code:r})}}function qT(r){if(r===void 0)return Er("GRPC error has no .code"),te.UNKNOWN;switch(r){case jt.OK:return te.OK;case jt.CANCELLED:return te.CANCELLED;case jt.UNKNOWN:return te.UNKNOWN;case jt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case jt.INTERNAL:return te.INTERNAL;case jt.UNAVAILABLE:return te.UNAVAILABLE;case jt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case jt.NOT_FOUND:return te.NOT_FOUND;case jt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case jt.ABORTED:return te.ABORTED;case jt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case jt.DATA_LOSS:return te.DATA_LOSS;default:return Ae(39323,{code:r})}}($e=jt||(jt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function CI(){return new TextEncoder}const II=new fs([4294967295,4294967295],0);function bE(r){const e=CI().encode(r),n=new nT;return n.update(e),new Uint8Array(n.digest())}function SE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new fs([n,s],0),new fs([o,u],0)]}class Sp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(s<0)throw new Ul(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(fs.fromNumber(s)));return o.compare(II)===1&&(o=new fs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bE(e),[s,o]=SE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Sp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=bE(e),[s,o]=SE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Gh(De.min(),o,new Et(He),Tr(),Fe())}}class cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cu(s,n,Fe(),Fe(),Fe())}}class oh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class HT{constructor(e,n){this.targetId=e,this.Ce=n}}class FT{constructor(e,n,s=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class AE{constructor(){this.ve=0,this.Fe=wE(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),s=Fe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}})),new cu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=wE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Tr(),this.Je=Wc(),this.He=Wc(),this.Ye=new Et(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(km(u))if(s===0){const f=new Ee(u.path);this.et(n,f,un.newNoDocument(f,De.min()))}else nt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ys(s).toUint8Array()}catch(p){if(p instanceof mT)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Sp(f,o,u)}catch(p){return co(p instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&km(m.target)){const p=new Ee(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,un.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Fe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Gh(e,n,this.Ye,this.je,s);return this.je=Tr(),this.Je=Wc(),this.He=Wc(),this.Ye=new Et(He),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new AE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Gt(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Gt(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new AE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wc(){return new Et(Ee.comparator)}function wE(){return new Et(Ee.comparator)}const xI={asc:"ASCENDING",desc:"DESCENDING"},OI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NI={and:"AND",or:"OR"};class MI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Um(r,e){return r.useProto3Json||jh(e)?e:{value:e}}function Sh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function VI(r,e){return Sh(r,e.toTimestamp())}function ji(r){return nt(!!r,49232),De.fromTimestamp((function(n){const s=gs(n);return new gt(s.seconds,s.nanos)})(r))}function Ap(r,e){return jm(r,e).canonicalString()}function jm(r,e){const n=(function(o){return new ft(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function QT(r){const e=ft.fromString(r);return nt(WT(e),10190,{key:e.toString()}),e}function zm(r,e){return Ap(r.databaseId,e.path)}function ym(r,e){const n=QT(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ee(YT(n))}function KT(r,e){return Ap(r.databaseId,e)}function kI(r){const e=QT(r);return e.length===4?ft.emptyPath():YT(e)}function Bm(r){return new ft(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function YT(r){return nt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function RE(r,e,n){return{name:zm(r,e),fields:n.value.mapValue.fields}}function LI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(nt(E===void 0||typeof E=="string",58123),sn.fromBase64String(E||"")):(nt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),sn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?te.UNKNOWN:qT(g.code);return new ce(E,g.message||"")})(f);n=new FT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ym(r,s.document.name),u=ji(s.document.updateTime),f=s.document.createTime?ji(s.document.createTime):De.min(),m=new Yn({mapValue:{fields:s.document.fields}}),p=un.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new oh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ym(r,s.document),u=s.readTime?ji(s.readTime):De.min(),f=un.newNoDocument(o,u),m=s.removedTargetIds||[];n=new oh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ym(r,s.document),u=s.removedTargetIds||[];n=new oh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new wI(o,u),m=s.targetId;n=new HT(m,f)}}return n}function PI(r,e){let n;if(e instanceof uu)n={update:RE(r,e.key,e.value)};else if(e instanceof BT)n={delete:zm(r,e.key)};else if(e instanceof la)n={update:RE(r,e.key,e.data),updateMask:QI(e.fieldMask)};else{if(!(e instanceof bI))return Ae(16599,{Vt:e.type});n={verify:zm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ae(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:VI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(r,e.precondition)),n}function UI(r,e){return r&&r.length>0?(nt(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?ji(o.updateTime):ji(u);return f.isEqual(De.min())&&(f=ji(u)),new vI(f,o.transformResults||[])})(n,e)))):[]}function jI(r,e){return{documents:[KT(r,e.path)]}}function zI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=KT(r,o);const u=(function(g){if(g.length!==0)return $T(fi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(C){return{field:to(C.field),direction:HI(C.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Um(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function BI(r){let e=kI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){nt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const C=XT(b);return C instanceof fi&&AT(C)?C.getFilters():[C]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((C=>(function(j){return new Eh(no(j.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(C)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let C;return C=typeof b=="object"?b.value:b,jh(C)?null:C})(n.limit));let p=null;n.startAt&&(p=(function(b){const C=!!b.before,U=b.values||[];return new vh(U,C)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const C=!b.before,U=b.values||[];return new vh(U,C)})(n.endAt)),aI(e,o,f,u,m,"F",p,g)}function qI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=no(n.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=no(n.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(n.unaryFilter.field);return zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=no(n.unaryFilter.field);return zt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(r):r.fieldFilter!==void 0?(function(n){return zt.create(no(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return fi.create(n.compositeFilter.filters.map((s=>XT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(r):Ae(30097,{filter:r})}function HI(r){return xI[r]}function FI(r){return OI[r]}function GI(r){return NI[r]}function to(r){return{fieldPath:r.canonicalString()}}function no(r){return rn.fromServerFormat(r.fieldPath)}function $T(r){return r instanceof zt?(function(n){if(n.op==="=="){if(dE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(fE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(fE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:FI(n.op),value:n.value}}})(r):r instanceof fi?(function(n){const s=n.getFilters().map((o=>$T(o)));return s.length===1?s[0]:{compositeFilter:{op:GI(n.op),filters:s}}})(r):Ae(54877,{filter:r})}function QI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function WT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ls{constructor(e,n,s,o,u=De.min(),f=De.min(),m=sn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class KI{constructor(e){this.yt=e}}function YI(r){const e=BI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Pm(e,e.limit,"L"):e}class XI{constructor(){this.Cn=new $I}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ps.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class $I{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Gt(ft.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Gt(ft.comparator)).toArray()}}const CE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JT=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(JT,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}const IE="LruGarbageCollector",WI=1048576;function DE([r,e],[n,s]){const o=He(r,n);return o===0?He(e,s):o}class JI{constructor(e){this.Ir=e,this.buffer=new Gt(DE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();DE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(IE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?he(IE,"Ignoring IndexedDB error during garbage collection: ",n):await Ao(n)}await this.Vr(3e5)}))}}class e2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Uh.ce);const s=new JI(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(CE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),Za()<=qe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function t2(r,e){return new e2(r,e)}class n2{constructor(){this.changes=new oa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class i2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class r2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Fl(s.mutation,o,ci.empty(),gt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Fe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Fe()){const o=Js();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Pl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Js();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Fe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=Tr();const f=Hl(),m=(function(){return Hl()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof la)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Fl(E.mutation,g,E.mutation.getFieldMask(),gt.now())):f.set(g.key,ci.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new i2(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Hl();let o=new Et(((f,m)=>f-m)),u=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||ci.empty();E=m.applyToLocalView(g,E),s.set(p,E);const b=(o.get(m.batchId)||Fe()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,b=MT();E.forEach((C=>{if(!u.has(C)){const U=jT(n.get(C),s.get(C));U!==null&&b.set(C,U),u=u.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ie.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return Ee.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(Js());let m=Xl,p=u;return f.next((g=>ie.forEach(g,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((C=>{p=p.insert(E,C)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Fe()))).next((E=>({batchId:m,changes:NT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((s=>{let o=Pl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Pl();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(b,C){return new lu(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((b,C)=>{f=f.insert(b,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,un.newInvalidDocument(E)))}));let m=Pl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Fl(E.mutation,g,ci.empty(),gt.now()),qh(n,g)&&(m=m.insert(p,g))})),m}))}}class s2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:YI(o.bundledQuery),readTime:ji(o.readTime)}})(n)),ie.resolve()}}class a2{constructor(){this.overlays=new Et(Ee.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Js();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Js(),u=n.length+1,f=new Ee(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Et(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Js(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new AI(n,s));let u=this.qr.get(n);u===void 0&&(u=Fe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class o2{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class wp{constructor(){this.Qr=new Gt(Xt.$r),this.Ur=new Gt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Xt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ee(new ft([])),s=new Xt(n,e),o=new Xt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new ft([])),s=new Xt(n,e),o=new Xt(n,e+1);let u=Fe();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Xt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}class l2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Xt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new SI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Xt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?pp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Xt(n,0),o=new Xt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Gt(He);return n.forEach((o=>{const u=new Xt(o,0),f=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const f=new Xt(new Ee(u),0);let m=new Gt(He);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){nt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new Xt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Xt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class u2{constructor(e){this.ri=e,this.docs=(function(){return new Et(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let s=Tr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():un.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Tr();const f=n.path,m=new Ee(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||UC(PC(E),s)<=0||(o.has(E.key)||qh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new c2(this)}getSize(e){return ie.resolve(this.size)}}class c2 extends n2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class h2{constructor(e){this.persistence=e,this.si=new oa((n=>_p(n)),vp),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new wp,this.targetCount=0,this.ai=po.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new po(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class ZT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Uh(0),this.li=!1,this.li=!0,this.hi=new o2,this.referenceDelegate=e(this),this.Pi=new h2(this),this.indexManager=new XI,this.remoteDocumentCache=(function(o){return new u2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new KI(n),this.Ii=new s2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new a2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new l2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new f2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class f2 extends zC{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Ri=new wp,this.Vi=null}static mi(e){return new Rp(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=Ee.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,De.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ah{constructor(e,n){this.persistence=e,this.pi=new oa((s=>HC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=t2(this,n)}static mi(e,n){return new Ah(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,De.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Cp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Fe(),o=Fe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cp(e,n.fromCache,s,o)}}class d2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class m2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return oR()?8:BC(cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new d2;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Za()<=qe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Za()<=qe.DEBUG&&he("QueryEngine","Query:",eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Za()<=qe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(n))):ie.resolve())}ys(e,n){if(yE(n))return ie.resolve(null);let s=Ui(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Pm(n,null,"F"),s=Ui(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Fe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Pm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return yE(n)||o.isEqual(De.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ie.resolve(null):(Za()<=qe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(n)),this.vs(e,f,n,LC(o,Xl)).next((m=>m)))}))}Ds(e,n){let s=new Gt(xT(e));return n.forEach(((o,u)=>{qh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Za()<=qe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",eo(n)),this.ps.getDocumentsMatchingQuery(e,n,ps.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Ip="LocalStore",p2=3e8;class g2{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Et(He),this.xs=new oa((u=>_p(u)),vp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function y2(r,e,n,s){return new g2(r,e,n,s)}async function eb(r,e){const n=Oe(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Fe();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function _2(r,e){const n=Oe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const b=g.batch,C=b.keys();let U=ie.resolve();return C.forEach((j=>{U=U.next((()=>E.getEntry(p,j))).next((F=>{const G=g.docVersions.get(j);nt(G!==null,48541),F.version.compareTo(G)<0&&(b.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),E.addEntry(F)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Fe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function tb(r){const e=Oe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function v2(r,e){const n=Oe(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,b)=>{const C=o.get(b);if(!C)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b))));let U=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?U=U.withResumeToken(sn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(b,U),(function(F,G,X){return F.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=p2?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(C,U,E)&&m.push(n.Pi.updateTargetData(u,U))}));let p=Tr(),g=Fe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(E2(u,f,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(De.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function E2(r,e,n){let s=Fe(),o=Fe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=Tr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(De.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):he(Ip,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function T2(r,e){const n=Oe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function b2(r,e){const n=Oe(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new ls(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function qm(r,e,n){const s=Oe(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!wo(f))throw f;he(Ip,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function xE(r,e,n){const s=Oe(r);let o=De.min(),u=Fe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const b=Oe(p),C=b.xs.get(E);return C!==void 0?ie.resolve(b.Ms.get(C)):b.Pi.getTargetData(g,E)})(s,f,Ui(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:De.min(),n?u:Fe()))).next((m=>(S2(s,lI(e),m),{documents:m,Qs:u})))))}function S2(r,e,n){let s=r.Os.get(e)||De.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class OE{constructor(){this.activeTargetIds=mI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A2{constructor(){this.Mo=new OE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new OE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class w2{Oo(e){}shutdown(){}}const NE="ConnectivityMonitor";class ME{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(NE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(NE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Jc=null;function Hm(){return Jc===null?Jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jc++,"0x"+Jc.toString(16)}const _m="RestConnection",R2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class C2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Hm(),m=this.zo(e,n.toUriEncodedString());he(_m,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=To(g);return this.Jo(e,m,p,s,E).then((b=>(he(_m,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw co(_m,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=R2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class I2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const on="WebChannelConnection";class D2 extends C2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Hm();return new Promise(((m,p)=>{const g=new iT;g.setWithCredentials(!0),g.listenOnce(rT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case ih.NO_ERROR:const b=g.getResponseJson();he(on,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case ih.TIMEOUT:he(on,`RPC '${e}' ${f} timed out`),p(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const C=g.getStatus();if(he(on,`RPC '${e}' ${f} failed with status:`,C,"response text:",g.getResponseText()),C>0){let U=g.getResponseJson();Array.isArray(U)&&(U=U[0]);const j=U?.error;if(j&&j.status&&j.message){const F=(function(X){const Z=X.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Z)>=0?Z:te.UNKNOWN})(j.status);p(new ce(F,j.message))}else p(new ce(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(te.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(on,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);he(on,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Hm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=oT(),m=aT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");he(on,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);this.I_(b);let C=!1,U=!1;const j=new I2({Yo:G=>{U?he(on,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(C||(he(on,`Opening RPC '${e}' stream ${o} transport.`),b.open(),C=!0),he(on,`RPC '${e}' stream ${o} sending:`,G),b.send(G))},Zo:()=>b.close()}),F=(G,X,Z)=>{G.listen(X,(re=>{try{Z(re)}catch(de){setTimeout((()=>{throw de}),0)}}))};return F(b,Ll.EventType.OPEN,(()=>{U||(he(on,`RPC '${e}' stream ${o} transport opened.`),j.o_())})),F(b,Ll.EventType.CLOSE,(()=>{U||(U=!0,he(on,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(b))})),F(b,Ll.EventType.ERROR,(G=>{U||(U=!0,co(on,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),j.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),F(b,Ll.EventType.MESSAGE,(G=>{if(!U){const X=G.data[0];nt(!!X,16349);const Z=X,re=Z?.error||Z[0]?.error;if(re){he(on,`RPC '${e}' stream ${o} received error:`,re);const de=re.status;let pe=(function(w){const R=jt[w];if(R!==void 0)return qT(R)})(de),me=re.message;pe===void 0&&(pe=te.INTERNAL,me="Unknown error status: "+de+" with message "+re.message),U=!0,j.a_(new ce(pe,me)),b.close()}else he(on,`RPC '${e}' stream ${o} received:`,X),j.u_(X)}})),F(m,sT.STAT_EVENT,(G=>{G.stat===xm.PROXY?he(on,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===xm.NOPROXY&&he(on,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function vm(){return typeof document<"u"?document:null}function Qh(r){return new MI(r,!0)}class nb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const VE="PersistentStream";class ib{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ce(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(VE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(VE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class x2 extends ib{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return De.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?De.min():f.readTime?ji(f.readTime):De.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Bm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=km(p)?{documents:jI(u,p)}:{query:zI(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=GT(u,f.resumeToken);const g=Um(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(De.min())>0){m.readTime=Sh(u,f.snapshotVersion.toTimestamp());const g=Um(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=qI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Bm(this.serializer),n.removeTarget=e,this.q_(n)}}class O2 extends ib{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=UI(e.writeResults,e.commitTime),s=ji(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Bm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>PI(this.serializer,s)))};this.q_(n)}}class N2{}class M2 extends N2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,jm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(te.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,jm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(te.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class V2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Er(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class k2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ua(this)&&(he(ra,"Restarting streams for network reachability change."),await(async function(p){const g=Oe(p);g.Ea.add(4),await hu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Kh(g)})(this))}))})),this.Ra=new V2(s,o)}}async function Kh(r){if(ua(r))for(const e of r.da)await e(!0)}async function hu(r){for(const e of r.da)await e(!1)}function rb(r,e){const n=Oe(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Np(n)?Op(n):Ro(n).O_()&&xp(n,e))}function Dp(r,e){const n=Oe(r),s=Ro(n);n.Ia.delete(e),s.O_()&&sb(n,e),n.Ia.size===0&&(s.O_()?s.L_():ua(n)&&n.Ra.set("Unknown"))}function xp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(r).Y_(e)}function sb(r,e){r.Va.Ue(e),Ro(r).Z_(e)}function Op(r){r.Va=new DI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ro(r).start(),r.Ra.ua()}function Np(r){return ua(r)&&!Ro(r).x_()&&r.Ia.size>0}function ua(r){return Oe(r).Ea.size===0}function ab(r){r.Va=void 0}async function L2(r){r.Ra.set("Online")}async function P2(r){r.Ia.forEach(((e,n)=>{xp(r,e)}))}async function U2(r,e){ab(r),Np(r)?(r.Ra.ha(e),Op(r)):r.Ra.set("Unknown")}async function j2(r,e,n){if(r.Ra.set("Online"),e instanceof FT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){he(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await wh(r,s)}else if(e instanceof oh?r.Va.Ze(e):e instanceof HT?r.Va.st(e):r.Va.tt(e),!n.isEqual(De.min()))try{const s=await tb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(sn.EMPTY_BYTE_STRING,E.snapshotVersion)),sb(u,p);const b=new ls(E.target,p,g,E.sequenceNumber);xp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){he(ra,"Failed to raise snapshot:",s),await wh(r,s)}}async function wh(r,e,n){if(!wo(e))throw e;r.Ea.add(1),await hu(r),r.Ra.set("Offline"),n||(n=()=>tb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(ra,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Kh(r)}))}function ob(r,e){return e().catch((n=>wh(r,n,e)))}async function Yh(r){const e=Oe(r),n=vs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pp;for(;z2(e);)try{const o=await T2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,B2(e,o)}catch(o){await wh(e,o)}lb(e)&&ub(e)}function z2(r){return ua(r)&&r.Ta.length<10}function B2(r,e){r.Ta.push(e);const n=vs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function lb(r){return ua(r)&&!vs(r).x_()&&r.Ta.length>0}function ub(r){vs(r).start()}async function q2(r){vs(r).ra()}async function H2(r){const e=vs(r);for(const n of r.Ta)e.ea(n.mutations)}async function F2(r,e,n){const s=r.Ta.shift(),o=bp.from(s,e,n);await ob(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Yh(r)}async function G2(r,e){e&&vs(r).X_&&await(async function(s,o){if((function(f){return RI(f)&&f!==te.ABORTED})(o.code)){const u=s.Ta.shift();vs(s).B_(),await ob(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Yh(s)}})(r,e),lb(r)&&ub(r)}async function kE(r,e){const n=Oe(r);n.asyncQueue.verifyOperationInProgress(),he(ra,"RemoteStore received new credentials");const s=ua(n);n.Ea.add(3),await hu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kh(n)}async function Q2(r,e){const n=Oe(r);e?(n.Ea.delete(2),await Kh(n)):e||(n.Ea.add(2),await hu(n),n.Ra.set("Unknown"))}function Ro(r){return r.ma||(r.ma=(function(n,s,o){const u=Oe(n);return u.sa(),new x2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:L2.bind(null,r),t_:P2.bind(null,r),r_:U2.bind(null,r),H_:j2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Np(r)?Op(r):r.Ra.set("Unknown")):(await r.ma.stop(),ab(r))}))),r.ma}function vs(r){return r.fa||(r.fa=(function(n,s,o){const u=Oe(n);return u.sa(),new O2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:q2.bind(null,r),r_:G2.bind(null,r),ta:H2.bind(null,r),na:F2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Yh(r)):(await r.fa.stop(),r.Ta.length>0&&(he(ra,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Mp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Mp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vp(r,e){if(Er("AsyncQueue",`${e}: ${r}`),wo(r))return new ce(te.UNAVAILABLE,`${e}: ${r}`);throw r}class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=Pl(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class LE{constructor(){this.ga=new Et(Ee.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class go{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new go(e,n,ro.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class K2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Y2{constructor(){this.queries=PE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Oe(n),u=o.queries;o.queries=PE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function PE(){return new oa((r=>DT(r)),Bh)}async function cb(r,e){const n=Oe(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new K2,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Vp(f,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&kp(n)}async function hb(r,e){const n=Oe(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function X2(r,e){const n=Oe(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&kp(n)}function $2(r,e,n){const s=Oe(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function kp(r){r.Ca.forEach((e=>{e.next()}))}var Fm,UE;(UE=Fm||(Fm={})).Ma="default",UE.Cache="cache";class fb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fm.Cache}}class db{constructor(e){this.key=e}}class mb{constructor(e){this.key=e}}class W2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=xT(e),this.tu=new ro(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new LE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const C=o.get(E),U=qh(this.query,b)?b:null,j=!!C&&this.mutatedKeys.has(C.key),F=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let G=!1;C&&U?C.data.isEqual(U.data)?j!==F&&(s.track({type:3,doc:U}),G=!0):this.su(C,U)||(s.track({type:2,doc:U}),G=!0,(p&&this.eu(U,p)>0||g&&this.eu(U,g)<0)&&(m=!0)):!C&&U?(s.track({type:0,doc:U}),G=!0):C&&!U&&(s.track({type:1,doc:C}),G=!0,(p||g)&&(m=!0)),G&&(U?(f=f.add(U),u=F?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,b)=>(function(U,j){const F=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:G})}};return F(U)-F(j)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new go(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new mb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new db(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lp="SyncEngine";class J2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Z2{constructor(e){this.key=e,this.hu=!1}}class eD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new oa((m=>DT(m)),Bh),this.Iu=new Map,this.Eu=new Set,this.du=new Et(Ee.comparator),this.Au=new Map,this.Ru=new wp,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tD(r,e,n=!0){const s=Eb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await pb(s,e,n,!0),o}async function nD(r,e){const n=Eb(r);await pb(n,e,!0,!1)}async function pb(r,e,n,s){const o=await b2(r.localStore,Ui(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await iD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&rb(r.remoteStore,o),m}async function iD(r,e,n,s,o){r.pu=(b,C,U)=>(async function(F,G,X,Z){let re=G.view.ru(X);re.Cs&&(re=await xE(F.localStore,G.query,!1).then((({documents:I})=>G.view.ru(I,re))));const de=Z&&Z.targetChanges.get(G.targetId),pe=Z&&Z.targetMismatches.get(G.targetId)!=null,me=G.view.applyChanges(re,F.isPrimaryClient,de,pe);return zE(F,G.targetId,me.au),me.snapshot})(r,b,C,U);const u=await xE(r.localStore,e,!0),f=new W2(e,u.Qs),m=f.ru(u.documents),p=cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);zE(r,n,g.au);const E=new J2(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function rD(r,e,n){const s=Oe(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Bh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await qm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Dp(s.remoteStore,o.targetId),Gm(s,o.targetId)})).catch(Ao)):(Gm(s,o.targetId),await qm(s.localStore,o.targetId,!0))}async function sD(r,e){const n=Oe(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Dp(n.remoteStore,s.targetId))}async function aD(r,e,n){const s=dD(r);try{const o=await(function(f,m){const p=Oe(f),g=gt.now(),E=m.reduce(((U,j)=>U.add(j.key)),Fe());let b,C;return p.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let j=Tr(),F=Fe();return p.Ns.getEntries(U,E).next((G=>{j=G,j.forEach(((X,Z)=>{Z.isValidDocument()||(F=F.add(X))}))})).next((()=>p.localDocuments.getOverlayedDocuments(U,j))).next((G=>{b=G;const X=[];for(const Z of m){const re=TI(Z,b.get(Z.key).overlayedDocument);re!=null&&X.push(new la(Z.key,re,TT(re.value.mapValue),pr.exists(!0)))}return p.mutationQueue.addMutationBatch(U,g,X,m)})).next((G=>{C=G;const X=G.applyToLocalDocumentSet(b,F);return p.documentOverlayCache.saveOverlays(U,G.batchId,X)}))})).then((()=>({batchId:C.batchId,changes:NT(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new Et(He)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await fu(s,o.changes),await Yh(s.remoteStore)}catch(o){const u=Vp(o,"Failed to persist write");n.reject(u)}}async function gb(r,e){const n=Oe(r);try{const s=await v2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?nt(f.hu,14607):o.removedDocuments.size>0&&(nt(f.hu,42227),f.hu=!1))})),await fu(n,s,e)}catch(s){await Ao(s)}}function jE(r,e,n){const s=Oe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Oe(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,b)=>{for(const C of b.Sa)C.va(m)&&(g=!0)})),g&&kp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function oD(r,e,n){const s=Oe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new Et(Ee.comparator);f=f.insert(u,un.newNoDocument(u,De.min()));const m=Fe().add(u),p=new Gh(De.min(),new Map,new Et(He),f,m);await gb(s,p),s.du=s.du.remove(u),s.Au.delete(e),Pp(s)}else await qm(s.localStore,e,!1).then((()=>Gm(s,e,n))).catch(Ao)}async function lD(r,e){const n=Oe(r),s=e.batch.batchId;try{const o=await _2(n.localStore,e);_b(n,s,null),yb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,o)}catch(o){await Ao(o)}}async function uD(r,e,n){const s=Oe(r);try{const o=await(function(f,m){const p=Oe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(nt(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);_b(s,e,n),yb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fu(s,o)}catch(o){await Ao(o)}}function yb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function _b(r,e,n){const s=Oe(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Gm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||vb(r,s)}))}function vb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Dp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Pp(r))}function zE(r,e,n){for(const s of n)s instanceof db?(r.Ru.addReference(s.key,e),cD(r,s)):s instanceof mb?(he(Lp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||vb(r,s.key)):Ae(19791,{wu:s})}function cD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(he(Lp,"New document in limbo: "+n),r.Eu.add(s),Pp(r))}function Pp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Ee(ft.fromString(e)),s=r.fu.next();r.Au.set(s,new Z2(n)),r.du=r.du.insert(n,s),rb(r.remoteStore,new ls(Ui(Ep(n.path)),s,"TargetPurposeLimboResolution",Uh.ce))}}async function fu(r,e,n){const s=Oe(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Cp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const E=Oe(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ie.forEach(g,(C=>ie.forEach(C.Es,(U=>E.persistence.referenceDelegate.addReference(b,C.targetId,U))).next((()=>ie.forEach(C.ds,(U=>E.persistence.referenceDelegate.removeReference(b,C.targetId,U)))))))))}catch(b){if(!wo(b))throw b;he(Ip,"Failed to update sequence numbers: "+b)}for(const b of g){const C=b.targetId;if(!b.fromCache){const U=E.Ms.get(C),j=U.snapshotVersion,F=U.withLastLimboFreeSnapshotVersion(j);E.Ms=E.Ms.insert(C,F)}}})(s.localStore,u))}async function hD(r,e){const n=Oe(r);if(!n.currentUser.isEqual(e)){he(Lp,"User change. New user:",e.toKey());const s=await eb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ce(te.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(n,s.Ls)}}function fD(r,e){const n=Oe(r),s=n.Au.get(e);if(s&&s.hu)return Fe().add(s.key);{let o=Fe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Eb(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=gb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oD.bind(null,e),e.Pu.H_=X2.bind(null,e.eventManager),e.Pu.yu=$2.bind(null,e.eventManager),e}function dD(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uD.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return y2(this.persistence,new m2,e.initialUser,this.serializer)}Cu(e){return new ZT(Rp.mi,this.serializer)}Du(e){return new A2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class mD extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof Ah,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ZI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new ZT((s=>Ah.mi(s,n)),this.serializer)}}class Qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=hD.bind(null,this.syncEngine),await Q2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Y2})()}createDatastore(e){const n=Qh(e.databaseInfo.databaseId),s=(function(u){return new D2(u)})(e.databaseInfo);return(function(u,f,m,p){return new M2(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new k2(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>jE(this.syncEngine,n,0)),(function(){return ME.v()?new ME:new w2})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const b=new eD(o,u,f,m,p,g);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Oe(n);he(ra,"RemoteStore shutting down."),s.Ea.add(5),await hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qm.provider={build:()=>new Qm};class Tb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Es="FirestoreClient";class pD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=mp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{he(Es,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(he(Es,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Vp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Em(r,e){r.asyncQueue.verifyOperationInProgress(),he(Es,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await eb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function BE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await gD(r);he(Es,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>kE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>kE(e.remoteStore,o))),r._onlineComponents=e}async function gD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(Es,"Using user provided OfflineComponentProvider");try{await Em(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await Em(r,new Rh)}}else he(Es,"Using default OfflineComponentProvider"),await Em(r,new mD(void 0));return r._offlineComponents}async function bb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(Es,"Using user provided OnlineComponentProvider"),await BE(r,r._uninitializedComponentsProvider._online)):(he(Es,"Using default OnlineComponentProvider"),await BE(r,new Qm))),r._onlineComponents}function yD(r){return bb(r).then((e=>e.syncEngine))}async function Sb(r){const e=await bb(r),n=e.eventManager;return n.onListen=tD.bind(null,e.syncEngine),n.onUnlisten=rD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sD.bind(null,e.syncEngine),n}function _D(r,e,n={}){const s=new mr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new Tb({next:C=>{E.Nu(),f.enqueueAndForget((()=>hb(u,b)));const U=C.docs.has(m);!U&&C.fromCache?g.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&C.fromCache&&p&&p.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(C)},error:C=>g.reject(C)}),b=new fb(Ep(m.path),E,{includeMetadataChanges:!0,qa:!0});return cb(u,b)})(await Sb(r),r.asyncQueue,e,n,s))),s.promise}function vD(r,e,n={}){const s=new mr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new Tb({next:C=>{E.Nu(),f.enqueueAndForget((()=>hb(u,b))),C.fromCache&&p.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(C)},error:C=>g.reject(C)}),b=new fb(m,E,{includeMetadataChanges:!0,qa:!0});return cb(u,b)})(await Sb(r),r.asyncQueue,e,n,s))),s.promise}function Ab(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const qE=new Map;const wb="firestore.googleapis.com",HE=!0;class FE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wb,this.ssl=HE}else this.host=e.host,this.ssl=e.ssl??HE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WI)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ab(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new wC;switch(s.type){case"firstParty":return new DC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=qE.get(n);s&&(he("ComponentProvider","Removing Datastore"),qE.delete(n),s.terminate())})(this),Promise.resolve()}}function ED(r,e,n,s={}){r=ia(r,Xh);const o=To(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Y0(`https://${m}`),X0("Firestore",!0)),u.host!==wb&&u.host!==m&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ea(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=ln.MOCK_USER;else{g=Jw(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ln(b)}r._authCredentials=new RC(new uT(g,E))}}class Co{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class qt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ou(n,qt._jsonSchema))return new qt(e,s||null,new Ee(ft.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Bt("string",qt._jsonSchemaVersion),referencePath:Bt("string")};class ds extends Co{constructor(e,n,s){super(e,n,Ep(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new Ee(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function TD(r,e,...n){if(r=mn(r),cT("collection","path",e),r instanceof Xh){const s=ft.fromString(e,...n);return iE(s),new ds(r,null,s)}{if(!(r instanceof qt||r instanceof ds))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ft.fromString(e,...n));return iE(s),new ds(r.firestore,null,s)}}function zi(r,e,...n){if(r=mn(r),arguments.length===1&&(e=mp.newId()),cT("doc","path",e),r instanceof Xh){const s=ft.fromString(e,...n);return nE(s),new qt(r,null,new Ee(s))}{if(!(r instanceof qt||r instanceof ds))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ft.fromString(e,...n));return nE(s),new qt(r.firestore,r instanceof ds?r.converter:null,new Ee(s))}}const GE="AsyncQueue";class QE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nb(this,"async_queue_retry"),this._c=()=>{const s=vm();s&&he(GE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wo(e))throw e;he(GE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Er("INTERNAL UNHANDLED ERROR: ",KE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Mp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:KE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function KE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class $h extends Xh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new QE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new QE(e),this._firestoreClient=void 0,await e}}}function Wh(r,e){const n=typeof r=="object"?r:Z0(),s=typeof r=="string"?r:yh,o=fp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=$w("firestore");u&&ED(o,...u)}return o}function Up(r){if(r._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bD(r),r._firestoreClient}function bD(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new QC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Ab(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new pD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(sn.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Bt("string",Xn._jsonSchemaVersion),bytes:Bt("string")};class jp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rb{constructor(e){this._methodName=e}}class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(ou(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Bt("string",Bi._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class qi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qi(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Bt("string",qi._jsonSchemaVersion),vectorValues:Bt("object")};const SD=/^__.*__$/;class AD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new la(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}function Cb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:r})}}class zp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Cb(this.Ac)&&SD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Qh(e)}Cc(e,n,s,o=!1){return new zp({Ac:e,methodName:n,Dc:s,path:rn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ib(r){const e=r._freezeSettings(),n=Qh(r._databaseId);return new wD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function RD(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Ob("Data must be an object, but it was:",f,s);const m=Db(s,f);let p,g;if(u.merge)p=new ci(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const C=ID(e,b,n);if(!f.contains(C))throw new ce(te.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);xD(E,C)||E.push(C)}p=new ci(E),g=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=f.fieldTransforms;return new AD(new Yn(m),p,g)}function CD(r,e,n,s=!1){return Bp(n,r.Cc(s?4:3,e))}function Bp(r,e){if(xb(r=mn(r)))return Ob("Unsupported field value:",e,r),Db(r,e);if(r instanceof Rb)return(function(s,o){if(!Cb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Bp(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=mn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=gt.fromDate(s);return{timestampValue:Sh(o.serializer,u)}}if(s instanceof gt){const u=new gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sh(o.serializer,u)}}if(s instanceof Bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:GT(o.serializer,s._byteString)};if(s instanceof qt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ap(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof qi)return(function(f,m){return{mapValue:{fields:{[vT]:{stringValue:ET},[_h]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Tp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ph(s)}`)})(r,e)}function Db(r,e){const n={};return dT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(r,((s,o)=>{const u=Bp(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function xb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof Bi||r instanceof Xn||r instanceof qt||r instanceof Rb||r instanceof qi)}function Ob(r,e,n){if(!xb(n)||!hT(n)){const s=Ph(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function ID(r,e,n){if((e=mn(e))instanceof jp)return e._internalPath;if(typeof e=="string")return Nb(r,e);throw Ch("Field path arguments must be of type string or ",r,!1,void 0,n)}const DD=new RegExp("[~\\*/\\[\\]]");function Nb(r,e,n){if(e.search(DD)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new jp(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ch(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ce(te.INVALID_ARGUMENT,m+r+p)}function xD(r,e){return r.some((n=>n.isEqual(e)))}class Mb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OD extends Mb{data(){return super.data()}}function qp(r,e){return typeof e=="string"?Nb(r,e):e instanceof jp?e._internalPath:e._delegate._internalPath}function ND(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hp{}class MD extends Hp{}function VD(r,e,...n){let s=[];e instanceof Hp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Fp)).length,m=u.filter((p=>p instanceof Jh)).length;if(f>1||f>0&&m>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Jh extends MD{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Jh(e,n,s)}_apply(e){const n=this._parse(e);return Vb(e._query,n),new Co(e.firestore,e.converter,Lm(e._query,n))}_parse(e){const n=Ib(e.firestore);return(function(u,f,m,p,g,E,b){let C;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){XE(b,E);const j=[];for(const F of b)j.push(YE(p,u,F));C={arrayValue:{values:j}}}else C=YE(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||XE(b,E),C=CD(m,f,b,E==="in"||E==="not-in");return zt.create(g,E,C)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function kD(r,e,n){const s=e,o=qp("where",r);return Jh._create(o,s,n)}class Fp extends Hp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Vb(f,p),f=Lm(f,p)})(e._query,n),new Co(e.firestore,e.converter,Lm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function YE(r,e,n){if(typeof(n=mn(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IT(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ft.fromString(n));if(!Ee.isDocumentKey(s))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return hE(r,new Ee(s))}if(n instanceof qt)return hE(r,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ph(n)}.`)}function XE(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vb(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LD{convertValue(e,n="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return aa(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[_h].arrayValue?.values?.map((s=>Dt(s.doubleValue)));return new qi(n)}convertGeoPoint(e){return new Bi(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=zh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=gs(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ft.fromString(e);nt(WT(s),9688,{name:e});const o=new Wl(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(n)||Er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function PD(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zs extends Mb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(qp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zs._jsonSchema={type:Bt("string",Zs._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class lh extends Zs{data(e={}){return super.data(e)}}class so{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new lh(this._firestore,this._userDataWriter,s.key,s,new jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:UD(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=so._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:r})}}function gr(r){r=ia(r,qt);const e=ia(r.firestore,$h);return _D(Up(e),r._key).then((n=>BD(e,r,n)))}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:Bt("string",so._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class kb extends LD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function jD(r){r=ia(r,Co);const e=ia(r.firestore,$h),n=Up(e),s=new kb(e);return ND(r._query),vD(n,r._query).then((o=>new so(e,s,r,o)))}function yr(r,e,n){r=ia(r,qt);const s=ia(r.firestore,$h),o=PD(r.converter,e);return zD(s,[RD(Ib(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,pr.none())])}function zD(r,e){return(function(s,o){const u=new mr;return s.asyncQueue.enqueueAndForget((async()=>aD(await yD(s),o,u))),u.promise})(Up(r),e)}function BD(r,e,n){const s=n.docs.get(e._key),o=new kb(r);return new Zs(r,o,e._key,s,new jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){So=o})(bo),uo(new ta("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new $h(new CC(s.getProvider("auth-internal")),new xC(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),hs(Jv,Zv,e),hs(Jv,Zv,"esm2020")})();var qD="firebase",HD="12.7.0";hs(qD,HD,"app");const FD={apiKey:"AIzaSyCfvR8bEeW2CXdD31Ec34doRNThnbryXJo",authDomain:"budget-tkl.firebaseapp.com",projectId:"budget-tkl",storageBucket:"budget-tkl.firebasestorage.app",messagingSenderId:"631248313026",appId:"1:631248313026:web:36574d789a42b2d102f95b"},du=J0(FD);function Lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GD=Lb,Pb=new su("auth","Firebase",Lb());const Ih=new cp("@firebase/auth");function QD(r,...e){Ih.logLevel<=qe.WARN&&Ih.warn(`Auth (${bo}): ${r}`,...e)}function uh(r,...e){Ih.logLevel<=qe.ERROR&&Ih.error(`Auth (${bo}): ${r}`,...e)}function di(r,...e){throw Gp(r,...e)}function Hi(r,...e){return Gp(r,...e)}function Ub(r,e,n){const s={...GD(),[e]:n};return new su("auth","Firebase",s).create(e,{appName:r.name})}function ms(r){return Ub(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Pb.create(r,...e)}function Se(r,e,...n){if(!r)throw Gp(e,...n)}function hr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw uh(e),new Error(e)}function br(r,e){r||hr(e)}function Km(){return typeof self<"u"&&self.location?.href||""}function KD(){return $E()==="http:"||$E()==="https:"}function $E(){return typeof self<"u"&&self.location?.protocol||null}function YD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KD()||rR()||"connection"in navigator)?navigator.onLine:!0}function XD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=tR()||sR()}get(){return YD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qp(r,e){br(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class jb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $D={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const WD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JD=new mu(3e4,6e4);function ca(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ts(r,e,n,s,o={}){return zb(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=au({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return iR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&To(r.emulatorConfig.host)&&(g.credentials="include"),jb.fetch()(await Bb(r,r.config.apiHost,n,m),g)})}async function zb(r,e,n){r._canInitEmulator=!1;const s={...$D,...e};try{const o=new ex(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Zc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Zc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Zc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ub(r,E,g);di(r,E)}}catch(o){if(o instanceof Sr)throw o;di(r,"network-request-failed",{message:String(o)})}}async function Zh(r,e,n,s,o={}){const u=await Ts(r,e,n,s,o);return"mfaPendingCredential"in u&&di(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Bb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Qp(r.config,o):`${r.config.apiScheme}://${o}`;return WD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function ZD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ex{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Hi(this.auth,"network-request-failed")),JD.get())})}}function Zc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Hi(r,e,s);return o.customData._tokenResponse=n,o}function WE(r){return r!==void 0&&r.enterprise!==void 0}class tx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nx(r,e){return Ts(r,"GET","/v2/recaptchaConfig",ca(r,e))}async function ix(r,e){return Ts(r,"POST","/v1/accounts:delete",e)}async function Dh(r,e){return Ts(r,"POST","/v1/accounts:lookup",e)}function Gl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rx(r,e=!1){const n=mn(r),s=await n.getIdToken(e),o=Kp(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Gl(Tm(o.auth_time)),issuedAtTime:Gl(Tm(o.iat)),expirationTime:Gl(Tm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Tm(r){return Number(r)*1e3}function Kp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=F0(n);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function JE(r){const e=Kp(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function tu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Sr&&sx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function sx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class ax{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xh(r){const e=r.auth,n=await r.getIdToken(),s=await tu(r,Dh(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?qb(o.providerUserInfo):[],f=lx(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function ox(r){const e=mn(r);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function qb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function ux(r,e){const n=await zb(r,{},async()=>{const s=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await Bb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&To(r.emulatorConfig.host)&&(p.credentials="include"),jb.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cx(r,e){return Ts(r,"POST","/v2/accounts:revokeToken",ca(r,e))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=JE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await ux(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ao;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return hr("not implemented")}}function is(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new ax(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ym(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await tu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rx(this,e)}reload(){return ox(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(ms(this.auth));const e=await this.getIdToken();return await tu(this,ix(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:C,isAnonymous:U,providerData:j,stsTokenManager:F}=n;Se(b&&F,e,"internal-error");const G=ao.fromJSON(this.name,F);Se(typeof b=="string",e,"internal-error"),is(s,e.name),is(o,e.name),Se(typeof C=="boolean",e,"internal-error"),Se(typeof U=="boolean",e,"internal-error"),is(u,e.name),is(f,e.name),is(m,e.name),is(p,e.name),is(g,e.name),is(E,e.name);const X=new hi({uid:b,auth:e,email:o,emailVerified:C,displayName:s,isAnonymous:U,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:g,lastLoginAt:E});return j&&Array.isArray(j)&&(X.providerData=j.map(Z=>({...Z}))),p&&(X._redirectEventId=p),X}static async _fromIdTokenResponse(e,n,s=!1){const o=new ao;o.updateFromServerResponse(n);const u=new hi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await xh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?qb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ao;m.updateFromIdToken(s);const p=new hi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const ZE=new Map;function fr(r){br(r instanceof Function,"Expected a class definition");let e=ZE.get(r);return e?(br(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ZE.set(r,e),e)}class Hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Hb.type="NONE";const e0=Hb;function ch(r,e,n){return`firebase:${r}:${e}:${n}`}class oo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dh(this.auth,{idToken:e}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new oo(fr(e0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||fr(e0);const f=ch(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let b;if(typeof E=="string"){const C=await Dh(e,{idToken:E}).catch(()=>{});if(!C)break;b=await hi._fromGetAccountInfoResponse(e,C,E)}else b=hi._fromJSON(e,E);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new oo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new oo(u,e,s))}}function t0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xb(e))return"Blackberry";if($b(e))return"Webos";if(Gb(e))return"Safari";if((e.includes("chrome/")||Qb(e))&&!e.includes("edge/"))return"Chrome";if(Yb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function Fb(r=cn()){return/firefox\//i.test(r)}function Gb(r=cn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qb(r=cn()){return/crios\//i.test(r)}function Kb(r=cn()){return/iemobile/i.test(r)}function Yb(r=cn()){return/android/i.test(r)}function Xb(r=cn()){return/blackberry/i.test(r)}function $b(r=cn()){return/webos/i.test(r)}function Yp(r=cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function hx(r=cn()){return Yp(r)&&!!window.navigator?.standalone}function fx(){return aR()&&document.documentMode===10}function Wb(r=cn()){return Yp(r)||Yb(r)||$b(r)||Xb(r)||/windows phone/i.test(r)||Kb(r)}function Jb(r,e=[]){let n;switch(r){case"Browser":n=t0(cn());break;case"Worker":n=`${t0(cn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${s}`}class dx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function mx(r,e={}){return Ts(r,"GET","/v2/passwordPolicy",ca(r,e))}const px=6;class gx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??px,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class yx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n0(this),this.idTokenSubscription=new n0(this),this.beforeStateQueue=new dx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dh(this,{idToken:e}),s=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ui(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(ms(this));const n=e?mn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mx(this),n=new gx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await cx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&QD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Io(r){return mn(r)}class n0{constructor(e){this.auth=e,this.observer=null,this.addObserver=mR(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _x(r){ef=r}function Zb(r){return ef.loadJS(r)}function vx(){return ef.recaptchaEnterpriseScript}function Ex(){return ef.gapiScript}function Tx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class bx{constructor(){this.enterprise=new Sx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Sx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ax="recaptcha-enterprise",eS="NO_RECAPTCHA";class wx{constructor(e){this.type=Ax,this.auth=Io(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{nx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new tx(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;WE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(eS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&WE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=vx();p.length!==0&&(p+=m),Zb(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function i0(r,e,n,s=!1,o=!1){const u=new wx(r);let f;if(o)f=eS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function r0(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await i0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await i0(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function Rx(r,e){const n=fp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ea(u,e??{}))return o;di(o,"already-initialized")}return n.initialize({options:e})}function Cx(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(fr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function Ix(r,e,n){const s=Io(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=tS(e),{host:f,port:m}=Dx(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(ea(g,s.config.emulator)&&ea(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,To(f)?(Y0(`${u}//${f}${p}`),X0("Auth",!0)):xx()}function tS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Dx(r){const e=tS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:s0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:s0(f)}}}function s0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function xx(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,n){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}async function Ox(r,e){return Ts(r,"POST","/v1/accounts:signUp",e)}async function Nx(r,e){return Zh(r,"POST","/v1/accounts:signInWithPassword",ca(r,e))}async function Mx(r,e){return Zh(r,"POST","/v1/accounts:signInWithEmailLink",ca(r,e))}async function Vx(r,e){return Zh(r,"POST","/v1/accounts:signInWithEmailLink",ca(r,e))}class nu extends Xp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new nu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new nu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return r0(e,n,"signInWithPassword",Nx);case"emailLink":return Mx(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return r0(e,s,"signUpPassword",Ox);case"emailLink":return Vx(e,{idToken:n,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function lo(r,e){return Zh(r,"POST","/v1/accounts:signInWithIdp",ca(r,e))}const kx="http://localhost";class sa extends Xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new sa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:kx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}function Lx(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Px(r){const e=Vl(kl(r)).link,n=e?Vl(kl(e)).deep_link_id:null,s=Vl(kl(r)).deep_link_id;return(s?Vl(kl(s)).link:null)||s||n||e||r}class $p{constructor(e){const n=Vl(kl(e)),s=n.apiKey??null,o=n.oobCode??null,u=Lx(n.mode??null);Se(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Px(e);try{return new $p(n)}catch{return null}}}class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,n){return nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=$p.parseLink(n);return Se(s,"argument-error"),nu._fromEmailAndCode(e,s.code,s.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class nS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pu extends nS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class rs extends pu{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";class ss extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ss.credential(n,s)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";class as extends pu{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";class os extends pu{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return os.credential(n,s)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await hi._fromIdTokenResponse(e,s,o),f=a0(s);return new yo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=a0(s);return new yo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function a0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Oh extends Sr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Oh(e,n,s,o)}}function iS(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(r,u,e,s):u})}async function Ux(r,e,n=!1){const s=await tu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return yo._forOperation(r,"link",s)}async function jx(r,e,n=!1){const{auth:s}=r;if(ui(s.app))return Promise.reject(ms(s));const o="reauthenticate";try{const u=await tu(r,iS(s,o,e,r),n);Se(u.idToken,s,"internal-error");const f=Kp(u.idToken);Se(f,s,"internal-error");const{sub:m}=f;return Se(r.uid===m,s,"user-mismatch"),yo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&di(s,"user-mismatch"),u}}async function rS(r,e,n=!1){if(ui(r.app))return Promise.reject(ms(r));const s="signIn",o=await iS(r,s,e),u=await yo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function zx(r,e){return rS(Io(r),e)}async function Bx(r){const e=Io(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function qx(r,e,n){return ui(r.app)?Promise.reject(ms(r)):zx(mn(r),Do.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Bx(r),s})}function Hx(r,e,n,s){return mn(r).onIdTokenChanged(e,n,s)}function Fx(r,e,n){return mn(r).beforeAuthStateChanged(e,n)}function Gx(r,e,n,s){return mn(r).onAuthStateChanged(e,n,s)}function Qx(r){return mn(r).signOut()}const Nh="__sak";class sS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Kx=1e3,Yx=10;class aS extends sS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);fx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Yx):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Kx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aS.type="LOCAL";const Xx=aS;class oS extends sS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oS.type="SESSION";const lS=oS;function $x(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new tf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await $x(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];function Wp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class Wx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Wp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const C=b;if(C.data.eventId===g)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Fi(){return window}function Jx(r){Fi().location.href=r}function uS(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function Zx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eO(){return navigator?.serviceWorker?.controller||null}function tO(){return uS()?self:null}const cS="firebaseLocalStorageDb",nO=1,Mh="firebaseLocalStorage",hS="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(r,e){return r.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function iO(){const r=indexedDB.deleteDatabase(cS);return new gu(r).toPromise()}function Xm(){const r=indexedDB.open(cS,nO);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Mh,{keyPath:hS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Mh)?e(s):(s.close(),await iO(),e(await Xm()))})})}async function o0(r,e,n){const s=nf(r,!0).put({[hS]:e,value:n});return new gu(s).toPromise()}async function rO(r,e){const n=nf(r,!1).get(e),s=await new gu(n).toPromise();return s===void 0?null:s.value}function l0(r,e){const n=nf(r,!0).delete(e);return new gu(n).toPromise()}const sO=800,aO=3;class fS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>aO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(tO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Zx(),!this.activeServiceWorker)return;this.sender=new Wx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xm();return await o0(e,Nh,"1"),await l0(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>o0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>rO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>l0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=nf(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fS.type="LOCAL";const oO=fS;new mu(3e4,6e4);function lO(r,e){return e?fr(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Jp extends Xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uO(r){return rS(r.auth,new Jp(r),r.bypassAuthState)}function cO(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),jx(n,new Jp(r),r.bypassAuthState)}async function hO(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),Ux(n,new Jp(r),r.bypassAuthState)}class dS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uO;case"linkViaPopup":case"linkViaRedirect":return hO;case"reauthViaPopup":case"reauthViaRedirect":return cO;default:di(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fO=new mu(2e3,1e4);class io extends dS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=Wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fO.get())};e()}}io.currentPopupAction=null;const dO="pendingRedirect",hh=new Map;class mO extends dS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const s=await pO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pO(r,e){const n=_O(e),s=yO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function gO(r,e){hh.set(r._key(),e)}function yO(r){return fr(r._redirectPersistence)}function _O(r){return ch(dO,r.config.apiKey,r.name)}async function vO(r,e,n=!1){if(ui(r.app))return Promise.reject(ms(r));const s=Io(r),o=lO(s,e),f=await new mO(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const EO=600*1e3;class TO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!mS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Hi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EO&&this.cachedEventUids.clear(),this.cachedEventUids.has(u0(e))}saveEventToCache(e){this.cachedEventUids.add(u0(e)),this.lastProcessedEventTime=Date.now()}}function u0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function mS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function bO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mS(r);default:return!1}}async function SO(r,e={}){return Ts(r,"GET","/v1/projects",e)}const AO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wO=/^https?/;async function RO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await SO(r);for(const n of e)try{if(CO(n))return}catch{}di(r,"unauthorized-domain")}function CO(r){const e=Km(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!wO.test(n))return!1;if(AO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const IO=new mu(3e4,6e4);function c0(){const r=Fi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function DO(r){return new Promise((e,n)=>{function s(){c0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{c0(),n(Hi(r,"network-request-failed"))},timeout:IO.get()})}if(Fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fi().gapi?.load)s();else{const o=Tx("iframefcb");return Fi()[o]=()=>{gapi.load?s():n(Hi(r,"network-request-failed"))},Zb(`${Ex()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw fh=null,e})}let fh=null;function xO(r){return fh=fh||DO(r),fh}const OO=new mu(5e3,15e3),NO="__/auth/iframe",MO="emulator/auth/iframe",VO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LO(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Qp(e,MO):`https://${r.config.authDomain}/${NO}`,s={apiKey:e.apiKey,appName:r.name,v:bo},o=kO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${au(s).slice(1)}`}async function PO(r){const e=await xO(r),n=Fi().gapi;return Se(n,r,"internal-error"),e.open({where:document.body,url:LO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Hi(r,"network-request-failed"),m=Fi().setTimeout(()=>{u(f)},OO.get());function p(){Fi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const UO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jO=500,zO=600,BO="_blank",qO="http://localhost";class h0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HO(r,e,n,s=jO,o=zO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...UO,width:s.toString(),height:o.toString(),top:u,left:f},g=cn().toLowerCase();n&&(m=Qb(g)?BO:n),Fb(g)&&(e=e||qO,p.scrollbars="yes");const E=Object.entries(p).reduce((C,[U,j])=>`${C}${U}=${j},`,"");if(hx(g)&&m!=="_self")return FO(e||"",m),new h0(null);const b=window.open(e||"",m,E);Se(b,r,"popup-blocked");try{b.focus()}catch{}return new h0(b)}function FO(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const GO="__/auth/handler",QO="emulator/auth/handler",KO=encodeURIComponent("fac");async function f0(r,e,n,s,o,u){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:bo,eventId:o};if(e instanceof nS){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",dR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof pu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${KO}=${encodeURIComponent(p)}`:"";return`${YO(r)}?${au(m).slice(1)}${g}`}function YO({config:r}){return r.emulator?Qp(r,QO):`https://${r.authDomain}/${GO}`}const bm="webStorageSupport";class XO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lS,this._completeRedirectFn=vO,this._overrideRedirectResult=gO}async _openPopup(e,n,s,o){br(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await f0(e,n,s,Km(),o);return HO(e,u,Wp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await f0(e,n,s,Km(),o);return Jx(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(br(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await PO(e),s=new TO(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bm,{type:bm},o=>{const u=o?.[0]?.[bm];u!==void 0&&n(!!u),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Wb()||Gb()||Yp()}}const $O=XO;var d0="@firebase/auth",m0="1.12.0";class WO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function JO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZO(r){uo(new ta("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jb(r)},g=new yx(s,o,u,p);return Cx(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),uo(new ta("auth-internal",e=>{const n=Io(e.getProvider("auth").getImmediate());return(s=>new WO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hs(d0,m0,JO(r)),hs(d0,m0,"esm2020")}const eN=300,tN=K0("authIdTokenMaxAge")||eN;let p0=null;const nN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>tN)return;const o=n?.token;p0!==o&&(p0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function iN(r=Z0()){const e=fp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Rx(r,{popupRedirectResolver:$O,persistence:[oO,Xx,lS]}),s=K0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=nN(u.toString());Fx(n,f,()=>f(n.currentUser)),Hx(n,m=>f(m))}}const o=G0("auth");return o&&Ix(n,`http://${o}`),n}function rN(){return document.getElementsByTagName("head")?.[0]??document}_x({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Hi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",rN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZO("Browser");function yu(){const r=iN(du);async function e(){return!1}async function n(m,p){return qx(r,m,p)}function s(){return Qx(r)}function o(m){Gx(r,p=>{m(p)})}function u(){return r.currentUser}return{set_user_listener:o,delete_firebase_user:e,login_firebase_user:n,logout_firebase_user:s,get_current_firebase_user:u}}const pS=P.createContext({currentBudget:null,loading:!1,error:null,isOwner:!1,currentUserId:null,isInitialized:!1,accounts:[],categories:[],categoryGroups:[],ensureBudgetLoaded:async()=>{},refreshBudget:async()=>{},updateBudgetUsers:async()=>{},setAccounts:()=>{},setCategories:()=>{},setCategoryGroups:()=>{},saveBudgetData:async()=>{}});function sN({children:r}){const e=yu(),[n,s]=P.useState(null),[o,u]=P.useState(!1),[f,m]=P.useState(null),[p,g]=P.useState(!1),E=P.useRef(null),[b,C]=P.useState([]),[U,j]=P.useState([]),[F,G]=P.useState([]),X=Wh(du),Z=e.get_current_firebase_user();async function re(){if(!Z){s(null),C([]),j([]),G([]),u(!1),g(!1),E.current=null;return}u(!0),m(null);try{const w=TD(X,"budgets"),R=VD(w,kD("user_ids","array-contains",Z.uid)),N=await jD(R);if(N.empty){const O=`budget_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,k={id:O,name:"My Budget",user_ids:[Z.uid],owner_id:Z.uid,owner_email:Z.email||null};await yr(zi(X,"budgets",O),{name:k.name,user_ids:k.user_ids,owner_id:k.owner_id,owner_email:k.owner_email,accounts:[],categories:[],category_groups:[],created_at:new Date().toISOString()}),s(k),C([]),j([]),G([])}else{const O=N.docs[0],k=O.data();s({id:O.id,name:k.name,user_ids:k.user_ids,owner_id:k.owner_id||k.user_ids[0],owner_email:k.owner_email||null});const D=(k.accounts||[]).map(Q=>({id:Q.id,nickname:Q.nickname,balance:Q.balance,account_type:Q.account_type,sort_order:Q.sort_order??0}));D.sort((Q,se)=>Q.sort_order-se.sort_order),C(D);const ke=(k.categories||[]).map(Q=>({id:Q.id,name:Q.name,category_group_id:Q.category_group_id??null,sort_order:Q.sort_order??0}));ke.sort((Q,se)=>Q.sort_order-se.sort_order),j(ke);const at=(k.category_groups||[]).map(Q=>({id:Q.id,name:Q.name,sort_order:Q.sort_order??0}));at.sort((Q,se)=>Q.sort_order-se.sort_order),G(at)}E.current=Z.uid,g(!0)}catch(w){m(w instanceof Error?w.message:"Failed to load budget")}finally{u(!1)}}async function de(){Z&&(p&&E.current===Z.uid||await re())}async function pe(w){if(!(!n||!Z))try{const R=zi(X,"budgets",n.id),N=await gr(R);if(N.exists()){const O=N.data();await yr(R,{...O,user_ids:w}),s({...n,user_ids:w})}}catch(R){throw new Error(R instanceof Error?R.message:"Failed to update users")}}async function me(){if(n)try{const w=zi(X,"budgets",n.id),R=await gr(w);if(R.exists()){const N=R.data();await yr(w,{...N,accounts:b,categories:U,category_groups:F})}}catch(w){throw new Error(w instanceof Error?w.message:"Failed to save budget data")}}const I=!!(n&&Z&&n.owner_id===Z.uid);return T.jsx(pS.Provider,{value:{currentBudget:n,loading:o,error:f,isOwner:I,currentUserId:Z?.uid||null,isInitialized:p,accounts:b,categories:U,categoryGroups:F,ensureBudgetLoaded:de,refreshBudget:re,updateBudgetUsers:pe,setAccounts:C,setCategories:j,setCategoryGroups:G,saveBudgetData:me},children:r})}function ha(){return P.useContext(pS)}function aN(){return T.jsxs("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:[T.jsx("h1",{children:"Welcome"}),T.jsx("nav",{children:T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx(It,{to:"/sql-test",children:"SQL Test"})}),T.jsx("li",{children:T.jsx(It,{to:"/budget",children:"Budget"})}),T.jsx("li",{children:T.jsx(It,{to:"/account",children:"Account"})})]})})]})}function oN(){return T.jsxs("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:[T.jsx("nav",{children:T.jsx(It,{to:"/",children:" Back to Home"})}),T.jsx("h1",{children:"SQL Test"}),T.jsx("h2",{children:"Setup"}),T.jsxs("h3",{children:["1. Open up your preferred web browser to ",T.jsx("a",{href:"https://www.programiz.com/sql/online-compiler/",target:"_blank",rel:"noopener noreferrer",children:"https://www.programiz.com/sql/online-compiler/"})]}),T.jsxs("ul",{children:[T.jsx("li",{children:"This is a basic online sql query editor"}),T.jsxs("li",{children:["It will include three tables: ",T.jsx("b",{children:'"Customer"'}),", ",T.jsx("b",{children:'"Orders"'}),", and ",T.jsx("b",{children:'"Shippings"'})]})]}),T.jsx("h3",{children:"2. Run the below query block inside the online editor to make some updates to the schema."}),T.jsx("pre",{style:{backgroundColor:"#1a1a1a",padding:"1rem",borderRadius:"8px",overflow:"auto"},children:T.jsx("code",{children:`ALTER TABLE shippings
ADD order_id INT;

UPDATE shippings
SET order_id = CASE
  WHEN shipping_id = 1 THEN 5
    WHEN shipping_id = 2 THEN 1
    WHEN shipping_id = 3 THEN 3
    WHEN shipping_id = 4 THEN 6
    WHEN shipping_id = 5 THEN 4
END
WHERE shipping_id IN (1,2,3,4,5);

INSERT INTO shippings (shipping_id, status, customer, order_id)
VALUES (6, "Cancelled", 4, 2);

INSERT INTO orders (order_id, item, amount, customer_id)
VALUES (6, "Monitor", 800, 5);`})}),T.jsx("h2",{children:"SQL Problems"}),T.jsx("p",{children:"Write queries in the online editor to answer these questions."}),T.jsx("h3",{children:"Question #1"}),T.jsx("p",{children:'Calculate the total number of orders, the total $ amount, and the total items "delivered" by Country. Show the following columns: country, order count, total $ amount, and total delivered. Order by total $ amount largest to smallest.'}),T.jsx("h3",{children:"Question #2"}),T.jsx("p",{children:"Find the customers who have placed orders with the HIGHEST total amount for each country. One record per country. Display the customer's first name, last name, country, and the corresponding highest total order amount. Also include the shipping status of the associated order."})]})}function lN(){const r=P.useContext(up),e=yu(),[n,s]=P.useState(!1),o=pi(),u=ip(),f=o.state?.from||"/";P.useEffect(()=>{r.is_logged_in&&f!=="/"&&u(f,{replace:!0})},[r.is_logged_in,f,u]);function m(){s(!0),e.logout_firebase_user().then(function(){s(!1)})}return T.jsxs("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:[T.jsx("h1",{children:"Account"}),r.is_logged_in?n?T.jsx("p",{children:"Logging Out..."}):T.jsxs(T.Fragment,{children:[T.jsxs("p",{children:["You are logged in as ",r.username]}),T.jsx("button",{onClick:m,children:"Logout"})]}):T.jsx(uN,{}),T.jsx("p",{children:T.jsx(It,{to:"/",children:"Back to Home"})})]})}function uN(){const r=yu(),[e,n]=P.useState(""),[s,o]=P.useState(""),[u,f]=P.useState(!1),[m,p]=P.useState("");function g(C){n(C.target.value)}function E(C){o(C.target.value)}function b(C){C.preventDefault(),f(!0),p(""),r.login_firebase_user(e,s).then(function(){}).catch(function(){p("Incorrect login credentials")}).finally(function(){f(!1)})}return T.jsxs("form",{onSubmit:b,children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"username",children:"Email: "}),T.jsx("input",{id:"username",type:"email",value:e,onChange:g})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",children:"Password: "}),T.jsx("input",{id:"password",type:"password",value:s,onChange:E})]}),u?T.jsx("p",{children:"Logging in..."}):T.jsx("button",{children:"Login"}),m&&T.jsx("p",{style:{color:"red"},children:m})]})}const Ft={primary:"#646cff",primaryLight:"#a5b4fc",error:"#f87171",errorBg:"rgba(220, 38, 38, 0.1)",errorBorder:"rgba(220, 38, 38, 0.3)",success:"#4ade80",danger:"#f87171"},cN={maxWidth:"60rem",margin:"0 auto",padding:"2rem"},hN={marginBottom:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},fN={background:"color-mix(in srgb, currentColor 8%, transparent)",padding:"1rem 1.25rem",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem"},dN={background:"color-mix(in srgb, currentColor 5%, transparent)",padding:"1rem 1.5rem",borderRadius:"8px",marginBottom:"1.5rem"},mN={background:"color-mix(in srgb, currentColor 8%, transparent)",padding:"1.25rem",borderRadius:"8px",display:"flex",flexDirection:"column",gap:"1rem"},pN={display:"flex",flexDirection:"column",gap:"0.5rem"},gN={fontSize:"0.9rem",fontWeight:500},Zp={padding:"0.6rem 0.8rem",borderRadius:"6px",border:"1px solid color-mix(in srgb, currentColor 20%, transparent)",background:"color-mix(in srgb, currentColor 5%, transparent)",fontSize:"1rem",color:"inherit"},yN={...Zp,cursor:"pointer"},eg={padding:"0.6rem 1.25rem",borderRadius:"6px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",transition:"opacity 0.15s"},gS={...eg,background:Ft.primary,color:"white",border:"none"},_N={...gS,padding:"0.75rem 1.5rem",borderRadius:"8px"},vN={...eg,background:"transparent",border:"1px solid color-mix(in srgb, currentColor 30%, transparent)"},EN={...eg,background:"transparent",border:`1px solid ${Ft.errorBorder}`,color:Ft.error},TN={background:"transparent",border:"1px solid color-mix(in srgb, currentColor 25%, transparent)",padding:"0.35rem 0.75rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",opacity:.8,transition:"opacity 0.15s"},bN={display:"flex",gap:"0.5rem"},SN={display:"flex",gap:"0.75rem",marginTop:"0.5rem"},AN={opacity:.4,cursor:"grab"},wN={position:"absolute",top:"-4px",left:0,right:0,height:"3px",background:Ft.primary,borderRadius:"2px",transition:"opacity 0.15s"},RN={position:"relative",height:"2rem",marginTop:"-0.25rem"},CN={position:"absolute",top:"50%",left:0,right:0,height:"3px",background:Ft.primary,borderRadius:"2px",transition:"opacity 0.15s"},IN={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"0.75rem",opacity:.7,background:"var(--background, #1a1a1a)",padding:"0 0.5rem",whiteSpace:"nowrap"},DN={background:Ft.errorBg,border:`1px solid ${Ft.errorBorder}`,color:Ft.error,padding:"0.75rem 1rem",borderRadius:"8px",marginBottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem"},xN={background:"transparent",border:"none",color:Ft.error,cursor:"pointer",fontSize:"1.2rem",padding:"0 0.25rem",lineHeight:1},yS={opacity:.7,marginBottom:"1.5rem"},g0={margin:0,fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.5px",opacity:.6},$m={fontWeight:500,fontSize:"1.1rem"},ON={margin:0,fontSize:"0.9rem",opacity:.7},NN={margin:"0.25rem 0 0 0",fontSize:"1.5rem",fontWeight:600},MN={background:"color-mix(in srgb, currentColor 15%, transparent)",padding:"0.2rem 0.6rem",borderRadius:"4px",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},Wm={display:"flex",flexDirection:"column",gap:"0.5rem",marginBottom:"1.5rem"},VN={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},y0={background:"color-mix(in srgb, currentColor 8%, transparent)",padding:"1.25rem",borderRadius:"8px",textDecoration:"none",color:"inherit",display:"block"};function kN({children:r}){return T.jsx("div",{style:cN,children:r})}function _S({message:r,onDismiss:e}){return T.jsxs("div",{style:DN,children:[T.jsx("span",{children:r}),T.jsx("button",{onClick:e,style:xN,children:""})]})}const LN={primary:gS,"primary-large":_N,secondary:vN,danger:EN,small:TN};function Sn({variant:r="primary",isLoading:e,loadingText:n="Saving...",children:s,disabled:o,style:u,...f}){const m=LN[r],p=o||e;return T.jsx("button",{disabled:p,style:{...m,cursor:p?"not-allowed":"pointer",opacity:p?.7:1,...u},...f,children:e?n:s})}function tg({children:r,onSubmit:e}){return T.jsx("form",{onSubmit:e,style:mN,children:r})}function Ql({label:r,htmlFor:e,children:n,hint:s}){return T.jsxs("div",{style:pN,children:[T.jsx("label",{htmlFor:e,style:gN,children:r}),n,s&&T.jsx("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.85rem",opacity:.6},children:s})]})}function ng(r){return T.jsx("input",{style:Zp,...r})}function PN({step:r="0.01",...e}){return T.jsx("input",{type:"number",step:r,style:Zp,...e})}function UN({children:r,...e}){return T.jsx("select",{style:yN,...e,children:r})}function ig({children:r}){return T.jsx("div",{style:SN,children:r})}function Jm({children:r,isDragging:e,isDragOver:n,onDragStart:s,onDragOver:o,onDragLeave:u,onDragEnd:f,onDrop:m,onEdit:p,onDelete:g}){return T.jsxs("div",{onDragOver:E=>{E.stopPropagation(),o(E)},onDragLeave:E=>{E.stopPropagation(),u()},onDrop:E=>{E.stopPropagation(),m(E)},style:{position:"relative"},children:[T.jsx("div",{style:{...wN,opacity:n?1:0,boxShadow:n?"0 0 8px rgba(100, 108, 255, 0.6)":"none"}}),T.jsxs("div",{draggable:!0,onDragStart:s,onDragEnd:f,style:{...fN,cursor:"grab",opacity:e?.5:1},children:[T.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:"0.75rem"},children:[T.jsx("span",{style:AN,children:""}),r]}),T.jsxs("div",{style:bN,children:[T.jsx(Sn,{variant:"secondary",onClick:p,children:"Edit"}),T.jsx(Sn,{variant:"danger",onClick:g,children:"Delete"})]})]})]})}function vS({isActive:r,onDragOver:e,onDragLeave:n,onDrop:s,label:o="Move to end"}){return T.jsxs("div",{onDragOver:e,onDragLeave:n,onDrop:s,style:RN,children:[T.jsx("div",{style:{...CN,opacity:r?1:.3,boxShadow:r?"0 0 8px rgba(100, 108, 255, 0.6)":"none"}}),r&&T.jsx("span",{style:IN,children:o})]})}function jN({label:r,value:e,valueColor:n}){return T.jsxs("div",{children:[T.jsx("p",{style:ON,children:r}),T.jsx("p",{style:{...NN,color:n},children:e})]})}function ES({children:r,style:e}){return T.jsx("div",{style:{...dN,...e},children:r})}function _0(r){return`$${r.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`}function v0(r){return r>=0?Ft.success:Ft.danger}function zN(){const{currentBudget:r,isOwner:e}=ha();return T.jsxs(kN,{children:[T.jsxs("nav",{style:hN,children:[T.jsx(It,{to:"/",children:" Back to Home"}),e&&T.jsx(It,{to:"/budget/admin",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"2.5rem",height:"2.5rem",borderRadius:"8px",background:"color-mix(in srgb, currentColor 8%, transparent)",textDecoration:"none",fontSize:"1.25rem",transition:"background 0.15s"},title:"Admin Settings",children:""})]}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.5rem"},children:[T.jsx("h1",{style:{margin:0},children:"Budget"}),r&&T.jsx("span",{style:{background:`color-mix(in srgb, ${Ft.primary} 15%, transparent)`,color:Ft.primaryLight,padding:"0.25rem 0.75rem",borderRadius:"6px",fontSize:"0.85rem",fontWeight:500},children:r.name})]}),r&&T.jsxs("p",{style:{opacity:.6,fontSize:"0.85rem",marginBottom:"1.5rem"},children:[r.user_ids.length," user",r.user_ids.length!==1?"s":""," ",e?" You are the owner":" Shared with you"]}),T.jsxs("div",{style:VN,children:[T.jsxs(It,{to:"/budget/admin/accounts",style:y0,children:[T.jsx("span",{style:{fontSize:"1.5rem",marginBottom:"0.5rem",display:"block"},children:""}),T.jsx("span",{style:{fontWeight:500},children:"Accounts"}),T.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.85rem",opacity:.7},children:"Manage your bank accounts and credit cards"})]}),T.jsxs(It,{to:"/budget/admin/categories",style:y0,children:[T.jsx("span",{style:{fontSize:"1.5rem",marginBottom:"0.5rem",display:"block"},children:""}),T.jsx("span",{style:{fontWeight:500},children:"Categories & Groups"}),T.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.85rem",opacity:.7},children:"Organize spending with categories and groups"})]})]})]})}const BN={checking:"Checking",savings:"Savings",credit_card:"Credit Card"};function qN(){const{currentBudget:r,accounts:e,setAccounts:n}=ha(),[s,o]=P.useState(null),[u,f]=P.useState(null),[m,p]=P.useState(!1),[g,E]=P.useState(null),[b,C]=P.useState(null),U=Wh(du);async function j(w){if(r)try{const R=zi(U,"budgets",r.id),N=await gr(R);if(N.exists()){const O=N.data();await yr(R,{...O,accounts:w})}}catch(R){throw new Error(R instanceof Error?R.message:"Failed to save accounts")}}async function F(w){if(r)try{const R=e.length>0?Math.max(...e.map(k=>k.sort_order)):-1,N={id:`account_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,nickname:w.nickname,balance:parseFloat(w.balance)||0,account_type:w.account_type,sort_order:R+1},O=[...e,N];n(O),await j(O),p(!1)}catch(R){o(R instanceof Error?R.message:"Failed to create account")}}async function G(w,R){if(r)try{const N=e.map(O=>O.id===w?{...O,nickname:R.nickname,balance:parseFloat(R.balance)||0,account_type:R.account_type}:O);n(N),await j(N),f(null)}catch(N){o(N instanceof Error?N.message:"Failed to update account")}}async function X(w){if(confirm("Are you sure you want to delete this account?")&&r)try{const R=e.filter(N=>N.id!==w);n(R),await j(R)}catch(R){o(R instanceof Error?R.message:"Failed to delete account")}}function Z(w,R){E(R),w.dataTransfer.effectAllowed="move"}function re(w,R){w.preventDefault(),R!==g&&C(R)}function de(){C(null)}function pe(){E(null),C(null)}async function me(w,R){if(w.preventDefault(),!g||g===R){E(null),C(null);return}const N=e.findIndex(ke=>ke.id===g),O=[...e],[k]=O.splice(N,1);if(R==="__end__")O.push(k);else{const ke=O.findIndex(at=>at.id===R);O.splice(ke,0,k)}const D=O.map((ke,at)=>({...ke,sort_order:at}));if(n(D),E(null),C(null),!!r)try{await j(D)}catch(ke){o(ke instanceof Error?ke.message:"Failed to save new order")}}const I=e.reduce((w,R)=>w+R.balance,0);return r?T.jsxs("div",{children:[T.jsx("h2",{style:{marginTop:0},children:"Accounts"}),T.jsx("p",{style:{...yS,fontSize:"0.9rem"},children:"Drag and drop to reorder."}),s&&T.jsx(_S,{message:s,onDismiss:()=>o(null)}),T.jsx(ES,{children:T.jsx(jN,{label:"Total Balance",value:_0(I),valueColor:v0(I)})}),T.jsxs("div",{style:Wm,children:[e.length===0&&!m&&T.jsx("p",{style:{opacity:.7},children:"No accounts yet. Create one to get started!"}),e.map(w=>u===w.id?T.jsx(E0,{initialData:{nickname:w.nickname,balance:w.balance.toString(),account_type:w.account_type},onSubmit:R=>G(w.id,R),onCancel:()=>f(null),submitLabel:"Save Changes"},w.id):T.jsx(Jm,{isDragging:g===w.id,isDragOver:b===w.id,onDragStart:R=>Z(R,w.id),onDragOver:R=>re(R,w.id),onDragLeave:de,onDragEnd:pe,onDrop:R=>me(R,w.id),onEdit:()=>f(w.id),onDelete:()=>X(w.id),children:T.jsxs("div",{children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[T.jsx("span",{style:$m,children:w.nickname}),T.jsx("span",{style:MN,children:BN[w.account_type]})]}),T.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"1.25rem",fontWeight:600,color:v0(w.balance)},children:_0(w.balance)})]})},w.id)),g&&e.length>0&&T.jsx(vS,{isActive:b==="__end__",onDragOver:w=>re(w,"__end__"),onDragLeave:de,onDrop:w=>me(w,"__end__")})]}),m?T.jsx(E0,{onSubmit:F,onCancel:()=>p(!1),submitLabel:"Create Account"}):T.jsx(Sn,{variant:"primary-large",onClick:()=>p(!0),children:"+ Add Account"})]}):T.jsx("p",{children:"No budget found. Please log in."})}function E0({initialData:r,onSubmit:e,onCancel:n,submitLabel:s}){const[o,u]=P.useState(r||{nickname:"",balance:"",account_type:"checking"}),[f,m]=P.useState(!1);function p(g){g.preventDefault(),o.nickname.trim()&&(m(!0),e(o))}return T.jsxs(tg,{onSubmit:p,children:[T.jsx(Ql,{label:"Account Nickname",htmlFor:"nickname",children:T.jsx(ng,{id:"nickname",type:"text",value:o.nickname,onChange:g=>u({...o,nickname:g.target.value}),placeholder:"e.g., Main Checking",required:!0,autoFocus:!0})}),T.jsx(Ql,{label:"Balance ($)",htmlFor:"balance",children:T.jsx(PN,{id:"balance",value:o.balance,onChange:g=>u({...o,balance:g.target.value}),placeholder:"0.00"})}),T.jsx(Ql,{label:"Account Type",htmlFor:"account_type",children:T.jsxs(UN,{id:"account_type",value:o.account_type,onChange:g=>u({...o,account_type:g.target.value}),children:[T.jsx("option",{value:"checking",children:"Checking"}),T.jsx("option",{value:"savings",children:"Savings"}),T.jsx("option",{value:"credit_card",children:"Credit Card"})]})}),T.jsxs(ig,{children:[T.jsx(Sn,{type:"submit",isLoading:f,children:s}),T.jsx(Sn,{type:"button",variant:"secondary",onClick:n,children:"Cancel"})]})]})}function HN(){const{currentBudget:r,categories:e,setCategories:n,categoryGroups:s,setCategoryGroups:o}=ha(),[u,f]=P.useState(null),[m,p]=P.useState(null),[g,E]=P.useState(null),[b,C]=P.useState(null),[U,j]=P.useState(!1),[F,G]=P.useState(null),[X,Z]=P.useState(null),[re,de]=P.useState(null),[pe,me]=P.useState(null),I=Wh(du);async function w(ne){if(r)try{const ae=zi(I,"budgets",r.id),ye=await gr(ae);if(ye.exists()){const Ce=ye.data();await yr(ae,{...Ce,categories:ne})}}catch(ae){throw new Error(ae instanceof Error?ae.message:"Failed to save categories")}}async function R(ne){if(r)try{const ae=zi(I,"budgets",r.id),ye=await gr(ae);if(ye.exists()){const Ce=ye.data();await yr(ae,{...Ce,category_groups:ne})}}catch(ae){throw new Error(ae instanceof Error?ae.message:"Failed to save category groups")}}async function N(ne,ae){if(r)try{const ye=zi(I,"budgets",r.id),Ce=await gr(ye);if(Ce.exists()){const Te=Ce.data();await yr(ye,{...Te,categories:ne,category_groups:ae})}}catch(ye){throw new Error(ye instanceof Error?ye.message:"Failed to save changes")}}async function O(ne,ae){if(!r)return;const ye=e.filter(Xe=>ae==="ungrouped"?!Xe.category_group_id:Xe.category_group_id===ae),Ce=ye.length>0?Math.max(...ye.map(Xe=>Xe.sort_order)):-1,Te={id:`category_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:ne.name,category_group_id:ae==="ungrouped"?null:ae,sort_order:Ce+1},Ge=[...e,Te].sort((Xe,dt)=>Xe.sort_order-dt.sort_order);n(Ge),E(null);try{await w(Ge)}catch(Xe){n(e),f(Xe instanceof Error?Xe.message:"Failed to create category")}}async function k(ne,ae){if(r)try{const ye=e.map(Ce=>Ce.id===ne?{...Ce,name:ae.name}:Ce);n(ye),await w(ye),p(null)}catch(ye){f(ye instanceof Error?ye.message:"Failed to update category")}}async function D(ne){if(confirm("Are you sure you want to delete this category?")&&r)try{const ae=e.filter(ye=>ye.id!==ne);n(ae),await w(ae)}catch(ae){f(ae instanceof Error?ae.message:"Failed to delete category")}}async function ke(ne){if(r)try{const ae=s.length>0?Math.max(...s.map(Te=>Te.sort_order)):-1,ye={id:`category_group_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:ne.name,sort_order:ae+1},Ce=[...s,ye];o(Ce),await R(Ce),j(!1)}catch(ae){f(ae instanceof Error?ae.message:"Failed to create group")}}async function at(ne,ae){if(r)try{const ye=s.map(Ce=>Ce.id===ne?{...Ce,name:ae.name}:Ce);o(ye),await R(ye),C(null)}catch(ye){f(ye instanceof Error?ye.message:"Failed to update group")}}async function Q(ne){if(confirm("Are you sure you want to delete this group? Categories in this group will move to Uncategorized.")&&r)try{const ae=e.map(Ce=>Ce.category_group_id===ne?{...Ce,category_group_id:null}:Ce),ye=s.filter(Ce=>Ce.id!==ne);n(ae),o(ye),await N(ae,ye)}catch(ae){f(ae instanceof Error?ae.message:"Failed to delete group")}}function se(ne,ae){G("category"),Z(ae),ne.dataTransfer.effectAllowed="move"}function _e(ne,ae,ye){ne.preventDefault(),F==="category"&&(ae!==X&&de(ae),me(ye))}function je(ne,ae){ne.preventDefault(),F==="category"?(me(ae),de(null)):F==="group"&&ae!==X&&de(ae)}function Ye(){de(null)}function V(){me(null)}function W(){G(null),Z(null),de(null),me(null)}async function le(ne,ae,ye){if(ne.preventDefault(),ne.stopPropagation(),!X||F!=="category"){W();return}const Ce=e.find(We=>We.id===X);if(!Ce)return;const Te=ye==="ungrouped"?null:ye,Ge=e.filter(We=>(We.category_group_id||"ungrouped")===ye);let Xe=e.filter(We=>We.id!==X),dt;if(ae==="__group_end__"||Ge.length===0||!Ge.find(We=>We.id===ae))dt=(Ge.length>0?Math.max(...Ge.filter(Qe=>Qe.id!==X).map(Qe=>Qe.sort_order)):-1)+1;else{const We=Ge.find(Qe=>Qe.id===ae);We?(dt=We.sort_order,Xe=Xe.map(Qe=>(Qe.category_group_id||"ungrouped")===ye&&Qe.sort_order>=dt?{...Qe,sort_order:Qe.sort_order+1}:Qe)):dt=0}const Re={...Ce,category_group_id:Te,sort_order:dt};if(Xe.push(Re),Xe.sort((We,Qe)=>We.sort_order-Qe.sort_order),n(Xe),W(),!!r)try{await w(Xe)}catch(We){f(We instanceof Error?We.message:"Failed to save changes")}}async function ue(ne,ae){ne.preventDefault(),F==="category"?await le(ne,"__group_end__",ae):F==="group"&&await Ie(ne,ae)}function we(ne,ae){ne.stopPropagation(),G("group"),Z(ae),ne.dataTransfer.effectAllowed="move"}async function Ie(ne,ae){if(ne.preventDefault(),!X||F!=="group"||X===ae){W();return}const ye=s.findIndex(Xe=>Xe.id===X),Ce=[...s],[Te]=Ce.splice(ye,1);if(ae==="__end__")Ce.push(Te);else{const Xe=Ce.findIndex(dt=>dt.id===ae);Ce.splice(Xe,0,Te)}const Ge=Ce.map((Xe,dt)=>({...Xe,sort_order:dt}));if(o(Ge),W(),!!r)try{await R(Ge)}catch(Xe){f(Xe instanceof Error?Xe.message:"Failed to save new order")}}const Le=e.reduce((ne,ae)=>{const ye=ae.category_group_id||"ungrouped";return ne[ye]||(ne[ye]=[]),ne[ye].push(ae),ne},{}),Tt=[...s].sort((ne,ae)=>ne.sort_order-ae.sort_order);return r?T.jsxs("div",{children:[T.jsx("h2",{style:{marginTop:0},children:"Categories & Groups"}),T.jsxs("p",{style:yS,children:["Organize your spending categories into groups.",T.jsx("br",{}),T.jsx("span",{style:{fontSize:"0.9rem"},children:"Drag categories between groups, or drag group headers to reorder groups."})]}),u&&T.jsx(_S,{message:u,onDismiss:()=>f(null)}),T.jsxs(ES,{style:{display:"flex",gap:"2rem"},children:[T.jsxs("div",{children:[T.jsx("p",{style:{margin:0,fontSize:"0.9rem",opacity:.7},children:"Categories"}),T.jsx("p",{style:{margin:"0.25rem 0 0 0",fontSize:"1.5rem",fontWeight:600},children:e.length})]}),T.jsxs("div",{children:[T.jsx("p",{style:{margin:0,fontSize:"0.9rem",opacity:.7},children:"Groups"}),T.jsx("p",{style:{margin:"0.25rem 0 0 0",fontSize:"1.5rem",fontWeight:600},children:s.length})]})]}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"1.5rem"},children:[e.length===0&&s.length===0&&T.jsx("p",{style:{opacity:.7},children:"No categories yet. Create a group first, then add categories!"}),Tt.map(ne=>{const ae=(Le[ne.id]||[]).sort((Re,We)=>Re.sort_order-We.sort_order),ye=F==="group"&&X===ne.id,Ce=F==="group"&&re===ne.id,Te=F==="category"&&pe===ne.id,Ge=X&&F==="category"?e.find(Re=>Re.id===X):null,Xe=Ge&&(Ge.category_group_id||"ungrouped")!==ne.id,dt=F==="group"&&Ce&&X!==ne.id;return T.jsxs("div",{children:[F==="group"&&!ye&&T.jsxs("div",{onDragOver:Re=>{Re.preventDefault(),de(ne.id)},onDragLeave:Ye,onDrop:Re=>Ie(Re,ne.id),style:{position:"relative",height:dt?"2.5rem":"0.5rem",marginBottom:dt?"-0.5rem":"-0.25rem",transition:"height 0.15s"},children:[T.jsx("div",{style:{position:"absolute",top:"50%",left:0,right:0,height:"3px",background:Ft.primary,borderRadius:"2px",opacity:dt?1:0,transition:"opacity 0.15s",boxShadow:dt?"0 0 8px rgba(100, 108, 255, 0.6)":"none"}}),dt&&T.jsx("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"0.75rem",opacity:.7,background:"var(--background, #1a1a1a)",padding:"0 0.5rem",whiteSpace:"nowrap"},children:"Drop here"})]}),T.jsx("div",{draggable:b!==ne.id,onDragStart:Re=>we(Re,ne.id),onDragOver:Re=>{je(Re,ne.id)},onDragLeave:V,onDragEnd:W,onDrop:Re=>ue(Re,ne.id),style:{background:ye?"color-mix(in srgb, currentColor 3%, transparent)":Te&&Xe?`color-mix(in srgb, ${Ft.primary} 10%, transparent)`:"color-mix(in srgb, currentColor 5%, transparent)",borderRadius:"12px",padding:"1rem",opacity:ye?.5:1,border:Te&&Xe?`2px dashed ${Ft.primary}`:"2px solid transparent",cursor:b===ne.id?"default":"grab",transition:"all 0.15s"},children:b===ne.id?T.jsx(T0,{initialData:{name:ne.name},onSubmit:Re=>at(ne.id,Re),onCancel:()=>C(null),submitLabel:"Save"}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem",paddingBottom:"0.5rem",borderBottom:"1px solid color-mix(in srgb, currentColor 15%, transparent)"},children:[T.jsxs("h3",{style:{...g0,margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx("span",{style:{cursor:"grab",opacity:.4},children:""}),ne.name,T.jsxs("span",{style:{marginLeft:"0.25rem",opacity:.5,fontWeight:400,fontSize:"0.9rem"},children:["(",ae.length,")"]})]}),T.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[T.jsx(Sn,{variant:"small",onClick:()=>E(ne.id),disabled:g!==null,children:"+ Category"}),T.jsx("button",{onClick:()=>C(ne.id),style:{background:"transparent",border:"none",cursor:"pointer",opacity:.6,fontSize:"0.9rem",padding:"0.25rem"},title:"Edit group",children:""}),T.jsx("button",{onClick:()=>Q(ne.id),style:{background:"transparent",border:"none",cursor:"pointer",opacity:.6,fontSize:"0.9rem",padding:"0.25rem"},title:"Delete group",children:""})]})]}),T.jsxs("div",{style:Wm,children:[ae.map(Re=>m===Re.id?T.jsx(eh,{initialData:{name:Re.name},onSubmit:We=>k(Re.id,We),onCancel:()=>p(null),submitLabel:"Save"},Re.id):T.jsx(Jm,{isDragging:F==="category"&&X===Re.id,isDragOver:re===Re.id,onDragStart:We=>{We.stopPropagation(),se(We,Re.id)},onDragOver:We=>_e(We,Re.id,ne.id),onDragLeave:Ye,onDragEnd:W,onDrop:We=>le(We,Re.id,ne.id),onEdit:()=>p(Re.id),onDelete:()=>D(Re.id),children:T.jsx("span",{style:$m,children:Re.name})},Re.id)),ae.length===0&&!g&&T.jsx("p",{style:{opacity:.5,fontSize:"0.9rem",margin:"0.5rem 0"},children:"No categories in this group"}),F==="category"&&ae.length>0&&T.jsx(b0,{groupId:ne.id,isActive:re===`__end__${ne.id}`,onDragOver:Re=>{Re.preventDefault(),Re.stopPropagation(),de(`__end__${ne.id}`),me(ne.id)},onDragLeave:Re=>{Re.stopPropagation(),de(null)},onDrop:Re=>{Re.stopPropagation(),le(Re,"__group_end__",ne.id)}}),g===ne.id&&T.jsx(eh,{initialData:{name:""},onSubmit:Re=>O(Re,ne.id),onCancel:()=>E(null),submitLabel:"Create"})]}),!g&&ae.length>0&&T.jsx("div",{style:{marginTop:"0.75rem",paddingTop:"0.5rem",borderTop:"1px solid color-mix(in srgb, currentColor 10%, transparent)"},children:T.jsx(Sn,{variant:"small",onClick:()=>E(ne.id),children:"+ Add Category"})})]})})]},ne.id)}),F==="group"&&Tt.length>0&&T.jsx(vS,{isActive:re==="__end__",onDragOver:ne=>{ne.preventDefault(),de("__end__")},onDragLeave:Ye,onDrop:ne=>Ie(ne,"__end__"),label:"Move group to end"}),(()=>{const ne=(Le.ungrouped||[]).sort((Te,Ge)=>Te.sort_order-Ge.sort_order),ae=F==="category"&&pe==="ungrouped",ye=X&&F==="category"?e.find(Te=>Te.id===X):null,Ce=ye&&ye.category_group_id!==null;return ne.length===0&&!g&&s.length>0&&F!=="category"?null:T.jsxs("div",{onDragOver:Te=>je(Te,"ungrouped"),onDragLeave:V,onDrop:Te=>ue(Te,"ungrouped"),style:{background:ae&&Ce?`color-mix(in srgb, ${Ft.primary} 10%, transparent)`:"color-mix(in srgb, currentColor 5%, transparent)",borderRadius:"12px",padding:"1rem",border:ae&&Ce?`2px dashed ${Ft.primary}`:"2px solid transparent",transition:"all 0.15s"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem",paddingBottom:"0.5rem",borderBottom:"1px solid color-mix(in srgb, currentColor 15%, transparent)"},children:[T.jsxs("h3",{style:{...g0,margin:0,opacity:.7},children:["Uncategorized",T.jsxs("span",{style:{marginLeft:"0.5rem",opacity:.5,fontWeight:400,fontSize:"0.9rem"},children:["(",ne.length,")"]})]}),T.jsx(Sn,{variant:"small",onClick:()=>E("ungrouped"),disabled:g!==null,children:"+ Category"})]}),T.jsxs("div",{style:Wm,children:[ne.map(Te=>m===Te.id?T.jsx(eh,{initialData:{name:Te.name},onSubmit:Ge=>k(Te.id,Ge),onCancel:()=>p(null),submitLabel:"Save"},Te.id):T.jsx(Jm,{isDragging:F==="category"&&X===Te.id,isDragOver:re===Te.id,onDragStart:Ge=>se(Ge,Te.id),onDragOver:Ge=>_e(Ge,Te.id,"ungrouped"),onDragLeave:Ye,onDragEnd:W,onDrop:Ge=>le(Ge,Te.id,"ungrouped"),onEdit:()=>p(Te.id),onDelete:()=>D(Te.id),children:T.jsx("span",{style:$m,children:Te.name})},Te.id)),ne.length===0&&F==="category"&&T.jsx("p",{style:{opacity:.5,fontSize:"0.9rem",margin:"0.5rem 0",textAlign:"center"},children:"Drop here to uncategorize"}),F==="category"&&ne.length>0&&T.jsx(b0,{groupId:"ungrouped",isActive:re==="__end__ungrouped",onDragOver:Te=>{Te.preventDefault(),Te.stopPropagation(),de("__end__ungrouped"),me("ungrouped")},onDragLeave:Te=>{Te.stopPropagation(),de(null)},onDrop:Te=>{Te.stopPropagation(),le(Te,"__group_end__","ungrouped")}}),g==="ungrouped"&&T.jsx(eh,{initialData:{name:""},onSubmit:Te=>O(Te,"ungrouped"),onCancel:()=>E(null),submitLabel:"Create"})]}),!g&&ne.length>0&&T.jsx("div",{style:{marginTop:"0.75rem",paddingTop:"0.5rem",borderTop:"1px solid color-mix(in srgb, currentColor 10%, transparent)"},children:T.jsx(Sn,{variant:"small",onClick:()=>E("ungrouped"),children:"+ Add Category"})})]})})()]}),U?T.jsx(T0,{onSubmit:ke,onCancel:()=>j(!1),submitLabel:"Create Group"}):T.jsx(Sn,{variant:"primary-large",onClick:()=>j(!0),children:"+ Add Category Group"})]}):T.jsx("p",{children:"No budget found. Please log in."})}function eh({initialData:r,onSubmit:e,onCancel:n,submitLabel:s}){const[o,u]=P.useState(r||{name:""}),[f,m]=P.useState(!1);function p(g){g.preventDefault(),o.name.trim()&&(m(!0),e(o))}return T.jsxs(tg,{onSubmit:p,children:[T.jsx(Ql,{label:"Category Name",htmlFor:"category-name",children:T.jsx(ng,{id:"category-name",type:"text",value:o.name,onChange:g=>u({...o,name:g.target.value}),placeholder:"e.g., Groceries, Rent, Gas",required:!0,autoFocus:!0})}),T.jsxs(ig,{children:[T.jsx(Sn,{type:"submit",isLoading:f,children:s}),T.jsx(Sn,{type:"button",variant:"secondary",onClick:n,children:"Cancel"})]})]})}function T0({initialData:r,onSubmit:e,onCancel:n,submitLabel:s}){const[o,u]=P.useState(r||{name:""}),[f,m]=P.useState(!1);function p(g){g.preventDefault(),o.name.trim()&&(m(!0),e(o))}return T.jsxs(tg,{onSubmit:p,children:[T.jsx(Ql,{label:"Group Name",htmlFor:"group-name",children:T.jsx(ng,{id:"group-name",type:"text",value:o.name,onChange:g=>u({...o,name:g.target.value}),placeholder:"e.g., Housing, Transportation, Food",required:!0,autoFocus:!0})}),T.jsxs(ig,{children:[T.jsx(Sn,{type:"submit",isLoading:f,children:s}),T.jsx(Sn,{type:"button",variant:"secondary",onClick:n,children:"Cancel"})]})]})}function b0({isActive:r,onDragOver:e,onDragLeave:n,onDrop:s}){return T.jsxs("div",{onDragOver:e,onDragLeave:n,onDrop:s,style:{position:"relative",height:"2rem",marginTop:"-0.25rem"},children:[T.jsx("div",{style:{position:"absolute",top:"50%",left:0,right:0,height:"3px",background:Ft.primary,borderRadius:"2px",opacity:r?1:.3,transition:"opacity 0.15s",boxShadow:r?"0 0 8px rgba(100, 108, 255, 0.6)":"none"}}),r&&T.jsx("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"0.75rem",opacity:.7,background:"var(--background, #1a1a1a)",padding:"0 0.5rem",whiteSpace:"nowrap"},children:"Move to end"})]})}function FN(){const{currentBudget:r,loading:e,isOwner:n}=ha(),s=pi();if(e)return T.jsx("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:T.jsx("p",{children:"Loading..."})});if(!r)return T.jsx("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:T.jsx("p",{children:"No budget found. Please log in."})});if(!n)return T.jsxs("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:[T.jsx("nav",{style:{marginBottom:"1.5rem"},children:T.jsx(It,{to:"/budget",children:" Back to Budget"})}),T.jsx("h1",{children:"Access Denied"}),T.jsx("p",{style:{opacity:.7},children:"Only the budget owner can access admin settings."})]});const o=s.pathname.includes("/admin/accounts"),u=s.pathname.includes("/admin/categories"),f=s.pathname.includes("/admin/users"),m=s.pathname.includes("/admin/migration"),p=s.pathname==="/budget/admin";return T.jsxs("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:[T.jsx("nav",{style:{marginBottom:"1.5rem"},children:T.jsx(It,{to:"/budget",children:" Back to Budget"})}),T.jsxs("h1",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx("span",{style:{fontSize:"1.5rem"},children:""})," Admin Settings"]}),T.jsx("p",{style:{opacity:.7,marginBottom:"0.5rem"},children:"Manage your budget settings, users, and data migration."}),T.jsxs("div",{style:{opacity:.6,marginBottom:"1.5rem",fontSize:"0.9rem",display:"flex",flexDirection:"column",gap:"0.25rem"},children:[T.jsxs("p",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx("span",{children:""}),T.jsxs("span",{children:["Budget Name: ",T.jsx("strong",{style:{opacity:1},children:r.name})]})]}),T.jsxs("p",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx("span",{children:""}),T.jsxs("span",{children:["Budget ID: ",T.jsx("code",{style:{opacity:1,background:"color-mix(in srgb, currentColor 10%, transparent)",padding:"0.1rem 0.4rem",borderRadius:"4px",fontSize:"0.85rem"},children:r.id})]})]}),T.jsxs("p",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx("span",{children:""}),T.jsxs("span",{children:["Budget Owner: ",T.jsx("strong",{style:{opacity:1},children:r.owner_email||r.owner_id})]})]})]}),T.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",borderBottom:"1px solid color-mix(in srgb, currentColor 15%, transparent)",paddingBottom:"1rem",flexWrap:"wrap"},children:[T.jsx(It,{to:"/budget/admin/accounts",style:{padding:"0.5rem 1rem",borderRadius:"6px",textDecoration:"none",color:"inherit",background:o?"color-mix(in srgb, #646cff 20%, transparent)":"color-mix(in srgb, currentColor 8%, transparent)",border:o?"1px solid #646cff":"1px solid transparent",fontWeight:o?500:400},children:" Accounts"}),T.jsx(It,{to:"/budget/admin/categories",style:{padding:"0.5rem 1rem",borderRadius:"6px",textDecoration:"none",color:"inherit",background:u?"color-mix(in srgb, #646cff 20%, transparent)":"color-mix(in srgb, currentColor 8%, transparent)",border:u?"1px solid #646cff":"1px solid transparent",fontWeight:u?500:400},children:" Categories"}),T.jsx(It,{to:"/budget/admin/users",style:{padding:"0.5rem 1rem",borderRadius:"6px",textDecoration:"none",color:"inherit",background:f?"color-mix(in srgb, #646cff 20%, transparent)":"color-mix(in srgb, currentColor 8%, transparent)",border:f?"1px solid #646cff":"1px solid transparent",fontWeight:f?500:400},children:" Users"}),T.jsx(It,{to:"/budget/admin/migration",style:{padding:"0.5rem 1rem",borderRadius:"6px",textDecoration:"none",color:"inherit",background:m?"color-mix(in srgb, #646cff 20%, transparent)":"color-mix(in srgb, currentColor 8%, transparent)",border:m?"1px solid #646cff":"1px solid transparent",fontWeight:m?500:400},children:" Migration"})]}),p?T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[T.jsxs(It,{to:"/budget/admin/accounts",style:{background:"color-mix(in srgb, currentColor 8%, transparent)",padding:"1.5rem",borderRadius:"8px",textDecoration:"none",color:"inherit",display:"block"},children:[T.jsx("span",{style:{fontSize:"2rem",marginBottom:"0.75rem",display:"block"},children:""}),T.jsx("span",{style:{fontWeight:500,fontSize:"1.1rem"},children:"Accounts"}),T.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.85rem",opacity:.7},children:"Manage your bank accounts and balances"})]}),T.jsxs(It,{to:"/budget/admin/categories",style:{background:"color-mix(in srgb, currentColor 8%, transparent)",padding:"1.5rem",borderRadius:"8px",textDecoration:"none",color:"inherit",display:"block"},children:[T.jsx("span",{style:{fontSize:"2rem",marginBottom:"0.75rem",display:"block"},children:""}),T.jsx("span",{style:{fontWeight:500,fontSize:"1.1rem"},children:"Categories & Groups"}),T.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.85rem",opacity:.7},children:"Manage categories and organize them into groups"})]}),T.jsxs(It,{to:"/budget/admin/users",style:{background:"color-mix(in srgb, currentColor 8%, transparent)",padding:"1.5rem",borderRadius:"8px",textDecoration:"none",color:"inherit",display:"block"},children:[T.jsx("span",{style:{fontSize:"2rem",marginBottom:"0.75rem",display:"block"},children:""}),T.jsx("span",{style:{fontWeight:500,fontSize:"1.1rem"},children:"Manage Users"}),T.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.85rem",opacity:.7},children:"Invite or remove users from this budget"})]}),T.jsxs(It,{to:"/budget/admin/migration",style:{background:"color-mix(in srgb, currentColor 8%, transparent)",padding:"1.5rem",borderRadius:"8px",textDecoration:"none",color:"inherit",display:"block"},children:[T.jsx("span",{style:{fontSize:"2rem",marginBottom:"0.75rem",display:"block"},children:""}),T.jsx("span",{style:{fontWeight:500,fontSize:"1.1rem"},children:"Data Migration"}),T.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.85rem",opacity:.7},children:"Run data migrations for this budget"})]})]}):T.jsx(ap,{})]})}function GN(){const{currentBudget:r,currentUserId:e,updateBudgetUsers:n,refreshBudget:s}=ha(),[o,u]=P.useState(""),[f,m]=P.useState(!1),[p,g]=P.useState(null),[E,b]=P.useState(null);if(!r)return T.jsx("p",{children:"No budget found."});async function C(j){if(j.preventDefault(),!(!o.trim()||!r)){m(!0),g(null),b(null);try{if(r.user_ids.includes(o.trim()))throw new Error("This user already has access to this budget");const F=[...r.user_ids,o.trim()];await n(F),await s(),u(""),b("User added successfully!")}catch(F){g(F instanceof Error?F.message:"Failed to add user")}finally{m(!1)}}}async function U(j){if(r){if(j===r.owner_id){g("Cannot remove the budget owner");return}if(j===e){g("Cannot remove yourself from the budget");return}if(confirm("Are you sure you want to remove this user from the budget?")){g(null),b(null);try{const F=r.user_ids.filter(G=>G!==j);await n(F),await s(),b("User removed successfully!")}catch(F){g(F instanceof Error?F.message:"Failed to remove user")}}}}return T.jsxs("div",{children:[T.jsx("h2",{style:{marginTop:0},children:"Budget Users"}),T.jsx("p",{style:{opacity:.7,marginBottom:"1.5rem"},children:"Manage who has access to this budget. Add users by their Firebase User ID."}),p&&T.jsxs("div",{style:{background:"rgba(220, 38, 38, 0.1)",border:"1px solid rgba(220, 38, 38, 0.3)",color:"#f87171",padding:"0.75rem 1rem",borderRadius:"8px",marginBottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsx("span",{children:p}),T.jsx("button",{onClick:()=>g(null),style:{background:"transparent",border:"none",color:"#f87171",cursor:"pointer",fontSize:"1.2rem",padding:"0 0.25rem",lineHeight:1},children:""})]}),E&&T.jsxs("div",{style:{background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.3)",color:"#4ade80",padding:"0.75rem 1rem",borderRadius:"8px",marginBottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsx("span",{children:E}),T.jsx("button",{onClick:()=>b(null),style:{background:"transparent",border:"none",color:"#4ade80",cursor:"pointer",fontSize:"1.2rem",padding:"0 0.25rem",lineHeight:1},children:""})]}),T.jsxs("div",{style:{background:"color-mix(in srgb, currentColor 5%, transparent)",padding:"1.25rem",borderRadius:"8px",marginBottom:"1.5rem"},children:[T.jsxs("h3",{style:{margin:"0 0 1rem 0",fontSize:"1rem"},children:["Current Users (",r.user_ids.length,")"]}),T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:r.user_ids.map(j=>{const F=j===r.owner_id,G=j===e;return T.jsxs("div",{style:{background:"color-mix(in srgb, currentColor 8%, transparent)",padding:"0.75rem 1rem",borderRadius:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem"},children:[T.jsx("div",{style:{flex:1,minWidth:0},children:T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:[T.jsx("code",{style:{fontSize:"0.85rem",background:"color-mix(in srgb, currentColor 10%, transparent)",padding:"0.2rem 0.5rem",borderRadius:"4px",wordBreak:"break-all"},children:j}),F&&T.jsx("span",{style:{background:"color-mix(in srgb, #646cff 20%, transparent)",color:"#a5b4fc",padding:"0.15rem 0.5rem",borderRadius:"4px",fontSize:"0.7rem",textTransform:"uppercase",fontWeight:600},children:"Owner"}),G&&T.jsx("span",{style:{background:"color-mix(in srgb, #22c55e 20%, transparent)",color:"#4ade80",padding:"0.15rem 0.5rem",borderRadius:"4px",fontSize:"0.7rem",textTransform:"uppercase",fontWeight:600},children:"You"})]})}),!F&&!G&&T.jsx("button",{onClick:()=>U(j),style:{background:"transparent",border:"1px solid rgba(220, 38, 38, 0.4)",color:"#f87171",padding:"0.4rem 0.75rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",whiteSpace:"nowrap"},children:"Remove"})]},j)})})]}),T.jsxs("div",{style:{background:"color-mix(in srgb, currentColor 5%, transparent)",padding:"1.25rem",borderRadius:"8px"},children:[T.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1rem"},children:"Add User"}),T.jsxs("form",{onSubmit:C,style:{display:"flex",gap:"0.75rem"},children:[T.jsx("input",{type:"text",value:o,onChange:j=>u(j.target.value),placeholder:"Enter Firebase User ID",style:{flex:1,padding:"0.6rem 0.8rem",borderRadius:"6px",border:"1px solid color-mix(in srgb, currentColor 20%, transparent)",background:"color-mix(in srgb, currentColor 5%, transparent)",fontSize:"0.95rem",color:"inherit"}}),T.jsx("button",{type:"submit",disabled:f||!o.trim(),style:{background:"#646cff",color:"white",border:"none",padding:"0.6rem 1.25rem",borderRadius:"6px",cursor:f||!o.trim()?"not-allowed":"pointer",fontWeight:500,opacity:f||!o.trim()?.7:1,whiteSpace:"nowrap"},children:f?"Adding...":"Add User"})]}),T.jsx("p",{style:{margin:"1rem 0 0 0",fontSize:"0.85rem",opacity:.6},children:" To get a user's Firebase ID, they need to log in and you can find it in the Firebase Console under Authentication  Users, or they can share it from their account page."})]})]})}function S0(){return T.jsx("span",{style:{display:"inline-block",width:"14px",height:"14px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTopColor:"white",borderRadius:"50%",animation:"spin 0.8s linear infinite",marginRight:"0.5rem",verticalAlign:"middle"}})}function QN(){const r=yu(),{currentBudget:e}=ha(),n=P.useRef(!1),[s,o]=P.useState({ownerIdInFirestore:null,ownerEmailInFirestore:null,loading:!0}),[u,f]=P.useState(!1),[m,p]=P.useState(null),[g,E]=P.useState(!1),[b,C]=P.useState(null),U=Wh(du),j=r.get_current_firebase_user();P.useEffect(()=>{async function re(){if(!e||n.current){e||o({ownerIdInFirestore:null,ownerEmailInFirestore:null,loading:!1});return}n.current=!0;try{const de=zi(U,"budgets",e.id),pe=await gr(de);if(pe.exists()){const me=pe.data();o({ownerIdInFirestore:me.owner_id||null,ownerEmailInFirestore:me.owner_email||null,loading:!1})}else o({ownerIdInFirestore:null,ownerEmailInFirestore:null,loading:!1})}catch{o({ownerIdInFirestore:null,ownerEmailInFirestore:null,loading:!1})}}re()},[e,U]);async function F(){if(!(!e||!j)){f(!0),p(null);try{const re=zi(U,"budgets",e.id),de=await gr(re);if(!de.exists())throw new Error("Budget document not found");const pe=de.data();if(pe.owner_id){p(`Owner ID already set: ${pe.owner_id}`),o(I=>({...I,ownerIdInFirestore:pe.owner_id})),f(!1);return}const me=pe.user_ids?.[0]||j.uid;await yr(re,{...pe,owner_id:me}),o(I=>({...I,ownerIdInFirestore:me})),p(`Successfully added owner ID: ${me}`)}catch(re){p(`Error: ${re instanceof Error?re.message:"Migration failed"}`)}finally{f(!1)}}}async function G(){if(!(!e||!j)){E(!0),C(null);try{const re=zi(U,"budgets",e.id),de=await gr(re);if(!de.exists())throw new Error("Budget document not found");const pe=de.data();if(pe.owner_email){C(`Owner email already set: ${pe.owner_email}`),o(me=>({...me,ownerEmailInFirestore:pe.owner_email})),E(!1);return}if(pe.owner_id!==j.uid)throw new Error("Only the budget owner can run this migration");await yr(re,{...pe,owner_email:j.email||null}),o(me=>({...me,ownerEmailInFirestore:j.email||null})),C(`Successfully added owner email: ${j.email}`)}catch(re){C(`Error: ${re instanceof Error?re.message:"Migration failed"}`)}finally{E(!1)}}}const X=!!s.ownerIdInFirestore,Z=!!s.ownerEmailInFirestore;return s.loading?T.jsxs("div",{children:[T.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"}),T.jsx("h2",{style:{marginTop:0},children:"Data Migrations"}),T.jsx("p",{style:{opacity:.7},children:"Checking migration status..."})]}):T.jsxs("div",{children:[T.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"}),T.jsx("h2",{style:{marginTop:0},children:"Data Migrations"}),T.jsx("p",{style:{opacity:.7,marginBottom:"1.5rem"},children:"Run migrations to update your budget data structure with new fields."}),T.jsxs("div",{style:{background:"color-mix(in srgb, currentColor 5%, transparent)",padding:"1.5rem",borderRadius:"8px",marginBottom:"1.5rem"},children:[T.jsxs("h3",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx("span",{style:{background:X?"rgba(34, 197, 94, 0.2)":"rgba(100, 108, 255, 0.2)",color:X?"#4ade80":"#a5b4fc",padding:"0.15rem 0.5rem",borderRadius:"4px",fontSize:"0.7rem",textTransform:"uppercase",fontWeight:600},children:X?"Complete":"Step 1"}),"Add Owner ID to Budget"]}),T.jsx("p",{style:{opacity:.7,marginBottom:"1rem"},children:"Sets the budget owner to the first user in the user list (the original creator)."}),u?T.jsxs("div",{style:{background:"rgba(100, 108, 255, 0.1)",border:"1px solid rgba(100, 108, 255, 0.3)",color:"#a5b4fc",padding:"0.75rem 1rem",borderRadius:"8px",display:"flex",alignItems:"center"},children:[T.jsx(S0,{})," Running migration..."]}):X?T.jsxs("div",{style:{background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.3)",color:"#4ade80",padding:"0.75rem 1rem",borderRadius:"8px"},children:[" Owner ID already set: ",T.jsx("strong",{children:s.ownerIdInFirestore})]}):T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:F,disabled:!j,style:{background:"#646cff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:j?"pointer":"not-allowed",fontWeight:500,opacity:j?1:.7},children:"Add Owner ID"}),m&&T.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem 1rem",borderRadius:"8px",background:m.startsWith("Error")?"rgba(220, 38, 38, 0.1)":"rgba(34, 197, 94, 0.1)",border:m.startsWith("Error")?"1px solid rgba(220, 38, 38, 0.3)":"1px solid rgba(34, 197, 94, 0.3)",color:m.startsWith("Error")?"#f87171":"#4ade80"},children:m})]})]}),T.jsxs("div",{style:{background:"color-mix(in srgb, currentColor 5%, transparent)",padding:"1.5rem",borderRadius:"8px",opacity:X?1:.5},children:[T.jsxs("h3",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx("span",{style:{background:Z?"rgba(34, 197, 94, 0.2)":"rgba(100, 108, 255, 0.2)",color:Z?"#4ade80":"#a5b4fc",padding:"0.15rem 0.5rem",borderRadius:"4px",fontSize:"0.7rem",textTransform:"uppercase",fontWeight:600},children:Z?"Complete":"Step 2"}),"Add Owner Email to Budget"]}),T.jsxs("p",{style:{opacity:.7,marginBottom:"1rem"},children:["Stores the budget owner's email for display purposes.",j?.email&&T.jsxs(T.Fragment,{children:[" Your email: ",T.jsx("strong",{children:j.email})]})]}),!X&&T.jsx("div",{style:{background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.3)",color:"#fbbf24",padding:"0.75rem 1rem",borderRadius:"8px"},children:" Complete Step 1 first (Add Owner ID)"}),X&&g&&T.jsxs("div",{style:{background:"rgba(100, 108, 255, 0.1)",border:"1px solid rgba(100, 108, 255, 0.3)",color:"#a5b4fc",padding:"0.75rem 1rem",borderRadius:"8px",display:"flex",alignItems:"center"},children:[T.jsx(S0,{})," Running migration..."]}),X&&!g&&Z&&T.jsxs("div",{style:{background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.3)",color:"#4ade80",padding:"0.75rem 1rem",borderRadius:"8px"},children:[" Owner email already set: ",T.jsx("strong",{children:s.ownerEmailInFirestore})]}),X&&!g&&!Z&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:G,disabled:!j,style:{background:"#646cff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:j?"pointer":"not-allowed",fontWeight:500,opacity:j?1:.7},children:"Add Owner Email"}),b&&T.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem 1rem",borderRadius:"8px",background:b.startsWith("Error")?"rgba(220, 38, 38, 0.1)":"rgba(34, 197, 94, 0.1)",border:b.startsWith("Error")?"1px solid rgba(220, 38, 38, 0.3)":"1px solid rgba(34, 197, 94, 0.3)",color:b.startsWith("Error")?"#f87171":"#4ade80"},children:b})]})]})]})}function KN({children:r}){const e=P.useContext(up),n=pi();return e.is_auth_checked?e.is_logged_in?r?T.jsx(T.Fragment,{children:r}):T.jsx(ap,{}):T.jsx(rw,{to:"/account",state:{from:n.pathname},replace:!0}):T.jsx("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:T.jsx("p",{children:"Loading..."})})}function YN(){const{ensureBudgetLoaded:r,isInitialized:e,error:n}=ha();return P.useEffect(()=>{r()},[]),e?n?T.jsx("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:T.jsxs("p",{style:{color:"#ef4444"},children:["Error: ",n]})}):T.jsx(ap,{}):null}const XN={is_logged_in:!1,is_auth_checked:!1,username:"",set_user_context:()=>{}};function $N(){const[r,e]=P.useState(XN),n=yu();return P.useEffect(function(){n.set_user_listener(s=>{e({is_logged_in:s!=null,is_auth_checked:!0,username:s?.email??"",set_user_context:e})})},[]),r.is_auth_checked?T.jsx(up.Provider,{value:r,children:T.jsx(sN,{children:T.jsx(xw,{children:T.jsxs(aw,{children:[T.jsx(Kn,{path:"/",element:T.jsx(aN,{})}),T.jsx(Kn,{path:"/account",element:T.jsx(lN,{})}),T.jsx(Kn,{path:"/sql-test",element:T.jsx(oN,{})}),T.jsx(Kn,{path:"/budget",element:T.jsx(KN,{}),children:T.jsxs(Kn,{element:T.jsx(YN,{}),children:[T.jsx(Kn,{index:!0,element:T.jsx(zN,{})}),T.jsxs(Kn,{path:"admin",element:T.jsx(FN,{}),children:[T.jsx(Kn,{path:"accounts",element:T.jsx(qN,{})}),T.jsx(Kn,{path:"categories",element:T.jsx(HN,{})}),T.jsx(Kn,{path:"users",element:T.jsx(GN,{})}),T.jsx(Kn,{path:"migration",element:T.jsx(QN,{})})]})]})})]})})})}):T.jsx("div",{style:{maxWidth:"60rem",margin:"0 auto",padding:"2rem"},children:T.jsx("p",{children:"Loading..."})})}a1.createRoot(document.getElementById("root")).render(T.jsx(P.StrictMode,{children:T.jsx($N,{})}));
